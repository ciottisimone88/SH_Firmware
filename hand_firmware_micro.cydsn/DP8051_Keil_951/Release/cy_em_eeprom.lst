C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 1   


C51 COMPILER V9.51, COMPILATION OF MODULE CY_EM_EEPROM
OBJECT MODULE PLACED IN .\DP8051_Keil_951\Release\cy_em_eeprom.obj
COMPILER INVOKED BY: C:\Program Files (x86)\Cypress\PSoC Creator\4.2\PSoC Creator\import\keil\pk51\9.51\C51\BIN\c51.exe 
                    -Generated_Source\PSoC3\cy_em_eeprom.c NOIV LARGE MODDP2 OMF2 VB(1) NOIP INCDIR(.,Generated_Source\PSoC3) FF(3) DB DF(NDE
                    -BUG) WL(2) PR(.\DP8051_Keil_951\Release/cy_em_eeprom.lst) CD OT(8,SPEED) OJ(.\DP8051_Keil_951\Release\cy_em_eeprom.obj)

line level    source

*** MESSAGE C286 IN LINE 0 OF (null): license limits optimization to level 5
   1          /***************************************************************************//**
   2          * \file cy_em_eeprom.c
   3          * \version 2.0
   4          *
   5          * \brief
   6          *  This file provides source code of the API for the Emulated EEPROM library.
   7          *  The Emulated EEPROM API allows creating of an emulated EEPROM in flash that
   8          *  has the ability to do wear leveling and restore corrupted data from a
   9          *  redundant copy.
  10          *
  11          ********************************************************************************
  12          * \copyright
  13          * Copyright 2017, Cypress Semiconductor Corporation.  All rights reserved.
  14          * You may use this file only in accordance with the license, terms, conditions,
  15          * disclaimers, and limitations in the end user license agreement accompanying
  16          * the software package with which this file was provided.
  17          *******************************************************************************/
  18          
  19          
  20          #include "cytypes.h"
  21          #include <string.h>
  22          
  23          #if (CYDEV_CHIP_FAMILY_USED == CYDEV_CHIP_FAMILY_PSOC6)
                  #include "em_eeprom/cy_em_eeprom.h"
              #else
  26              #include "cy_em_eeprom.h"
  27          #endif /* (CYDEV_CHIP_FAMILY_USED == CYDEV_CHIP_FAMILY_PSOC6) */
  28          
  29          
  30          #if defined(__cplusplus)
              extern "C" {
              #endif
  33          
  34          
  35          /***************************************
  36          * Private Function Prototypes
  37          ***************************************/
  38          static void FindLastWrittenRow(uint32 * lastWrRowPtr, cy_stc_eeprom_context_t * context);
  39          static uint32 GetRowAddrBySeqNum(uint32 seqNum, cy_stc_eeprom_context_t * context);
  40          static uint8 CalcChecksum(uint8 rowData[], uint32 len);
  41          static void GetNextRowToWrite(uint32 seqNum,
  42                                      uint32 * rowToWrPtr,
  43                                      uint32 * rowToRdPtr,
  44                                      cy_stc_eeprom_context_t * context);
  45          static cy_en_em_eeprom_status_t CheckRanges(cy_stc_eeprom_config_t* config);
  46          static cy_en_em_eeprom_status_t WriteRow(uint32 rowAddr, uint32 *rowData, cy_stc_eeprom_context_t * contex
             -t);
  47          static cy_en_em_eeprom_status_t EraseRow(uint32 rowAddr, uint32 ramBuffAddr, cy_stc_eeprom_context_t * con
             -text);
  48          static cy_en_em_eeprom_status_t CheckCrcAndCopy(uint32 startAddr,
  49                                                          uint32 dstAddr,
  50                                                          uint32 rowOffset,
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 2   

  51                                                          uint32 numBytes,
  52                                                          cy_stc_eeprom_context_t * context);
  53          static uint32 GetAddresses(uint32 *startAddr, uint32 *endAddr, uint32 *offset, uint32 rowNum, uint32 addr,
             - uint32 len);
  54          static cy_en_em_eeprom_status_t FillChecksum(cy_stc_eeprom_context_t * context);
  55          
  56          /**
  57          * \addtogroup group_em_eeprom_functions
  58          * \{
  59          */
  60          
  61          /*******************************************************************************
  62          * Function Name: Cy_Em_EEPROM_Init
  63          ****************************************************************************//**
  64          *
  65          * Initializes the Emulated EEPROM library by filling the context structure. 
  66          *
  67          * \param config
  68          * The pointer to a configuration structure. See \ref cy_stc_eeprom_config_t.
  69          *
  70          * \param context
  71          * The pointer to the EEPROM context structure to be filled by the function.
  72          * \ref cy_stc_eeprom_context_t.
  73          *
  74          * \return
  75          * error / status code. See \ref cy_en_em_eeprom_status_t.
  76          *
  77          * \note
  78          * The context structure should not be modified by the user after it is filled
  79          * with this function. Modification of context structure may cause the 
  80          * unexpected behavior of the Cy_Em_EEPROM API functions which rely on it.
  81          *
  82          * \note
  83          * This function uses a buffer of the flash row size to perform read
  84          * operation. For the size of the row refer to the specific PSoC device
  85          * datasheet.
  86          *
  87          * \sideeffect 
  88          * If the "Redundant Copy" option is used, the function performs a number of 
  89          * write operations to the EEPROM to initialize flash rows checksums. Therefore,
  90          * Cy_Em_EEPROM_NumWrites(), when it is called right after Cy_Em_EEPROM_Init(), 
  91          * will return a non-zero value that identifies the number of writes performed 
  92          * by Cy_Em_EEPROM_Init().
  93          *
  94          *******************************************************************************/
  95          cy_en_em_eeprom_status_t Cy_Em_EEPROM_Init(cy_stc_eeprom_config_t* config, cy_stc_eeprom_context_t * conte
             -xt)
  96          {
  97   1          cy_en_em_eeprom_status_t ret = CY_EM_EEPROM_BAD_PARAM;
  98   1      
  99   1          if((NULL != context) && (NULL != config) && (NULL != ((uint32 *)config->userFlashStartAddr)) &&
 100   1              (config->wearLevelingFactor <= CY_EM_EEPROM_MAX_WEAR_LEVELING_FACTOR) && (config->eepromSize != 0u
             -))
 101   1          {
 102   2              ret = CheckRanges(config);
 103   2      
 104   2              if(CY_EM_EEPROM_SUCCESS == ret)
 105   2              {
 106   3                  /* Copy the user config structure fields into context */
 107   3                  context->eepromSize = config->eepromSize;
 108   3                  context->wearLevelingFactor = config->wearLevelingFactor;
 109   3                  context->redundantCopy = config->redundantCopy;
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 3   

 110   3                  context->blockingWrite = config->blockingWrite;
 111   3                  context->userFlashStartAddr = config->userFlashStartAddr;
 112   3                  /* Store frequently used data for internal use */
 113   3                  context->numberOfRows = CY_EM_EEPROM_GET_NUM_ROWS_IN_EEPROM(config->eepromSize);
 114   3                  context->wlEndAddr = ((CY_EM_EEPROM_GET_EEPROM_SIZE(context->numberOfRows) * config->wearLevel
             -ingFactor) +
 115   3                          config->userFlashStartAddr);
 116   3                  /* Find last written EEPROM row and store it for quick access */
 117   3                  FindLastWrittenRow(&context->lastWrRowAddr, context);
 118   3      
 119   3                  if((0u == CY_EM_EEPROM_GET_SEQ_NUM(context->lastWrRowAddr)) && (0u != context->redundantCopy))
 120   3                  {
 121   4                      /* Call the function only after device reprogramming in case
 122   4                      * if redundant copy is enabled.
 123   4                      */
 124   4                      ret = FillChecksum(context);
 125   4                      
 126   4                      /* Update the last written EEPROM row for Cy_Em_EEPROM_NumWrites() */
 127   4                      FindLastWrittenRow(&context->lastWrRowAddr, context);
 128   4                  }
 129   3              }
 130   2          }
 131   1      
 132   1          return(ret);
 133   1      }
 134          
 135          
 136          /*******************************************************************************
 137          * Function Name: Cy_Em_EEPROM_Read
 138          ****************************************************************************//**
 139          *
 140          * This function takes the logical EEPROM address, converts it to the actual
 141          * physical address where the data is stored and returns the data to the user.
 142          *
 143          * \param addr
 144          * The logical start address in EEPROM to start reading data from.
 145          *
 146          * \param eepromData
 147          * The pointer to a user array to write data to.
 148          *
 149          * \param size
 150          * The amount of data to read.
 151          *
 152          * \param context
 153          * The pointer to the EEPROM context structure \ref cy_stc_eeprom_context_t.
 154          *
 155          * \return
 156          * This function returns \ref cy_en_em_eeprom_status_t.
 157          *
 158          * \note
 159          * This function uses a buffer of the flash row size to perform read
 160          * operation. For the size of the row refer to the specific PSoC device
 161          * datasheet.
 162          *
 163          * \note
 164          * In case if redundant copy option is enabled the function may perform writes
 165          * to EEPROM. This is done in case if the data in the EEPPROM is corrupted and
 166          * the data in redundant copy is valid based on CRC-8 data integrity check.
 167          *
 168          *******************************************************************************/
 169          cy_en_em_eeprom_status_t Cy_Em_EEPROM_Read(uint32 addr, 
 170                                                  void * eepromData, 
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 4   

 171                                                  uint32 size,
 172                                                  cy_stc_eeprom_context_t * context)
 173          {
 174   1          cy_en_em_eeprom_status_t ret = CY_EM_EEPROM_BAD_PARAM;
 175   1          uint32 i;
 176   1          uint32 numBytesToRead;
 177   1          uint32 curEepromBaseAddr;
 178   1          uint32 curRowOffset;
 179   1          uint32 startRowAddr;
 180   1          uint32 actEepromRowNum;
 181   1          uint32 curRdEepromRowNum = 0u;
 182   1          uint32 dataStartEepromRowNum = 0u;
 183   1          uint32 eeData = (uint32) eepromData; /* To avoid the pointer arithmetic with void */
 184   1      
 185   1          /* Validate input parameters */
 186   1          if((0u != size) && ((addr + size) <= (context->eepromSize)) && (NULL != eepromData))
 187   1          {
 188   2              uint32 rdAddr = addr;
 189   2              uint32 rdSize = size;
 190   2              /* Get the sequence number of the last written row */
 191   2              uint32 seqNum = CY_EM_EEPROM_GET_SEQ_NUM(context->lastWrRowAddr);
 192   2              uint32 updateAddrFlag = 0u;
 193   2      
 194   2              /* Calculate the number of the row read operations. Currently this only concerns
 195   2              * the reads from the EEPROM data locations.
 196   2              */
 197   2              uint32 numRowReads = ((((rdAddr + rdSize) - 1u) / CY_EM_EEPROM_EEPROM_DATA_LEN) -
 198   2                                    (rdAddr / CY_EM_EEPROM_EEPROM_DATA_LEN)) + 1u;
 199   2      
 200   2              /* Get the address of the first row of the currently active EEPROM sector. If
 201   2              * no wear leveling is used - the EEPROM has only one sector, so use the base
 202   2              * addr stored in "context->userFlashStartAddr".
 203   2              */
 204   2              curEepromBaseAddr = (((context->lastWrRowAddr - context->userFlashStartAddr) /
 205   2                                    (CY_EM_EEPROM_FLASH_SIZEOF_ROW * context->numberOfRows)) *
 206   2                                    (CY_EM_EEPROM_FLASH_SIZEOF_ROW * context->numberOfRows)) +
 207   2                                     context->userFlashStartAddr;
 208   2      
 209   2              /* Find the number of the row that contains the start address of the data */
 210   2              for(i = 0u; i < context->numberOfRows; i++)
 211   2              {
 212   3                  if(0u != CY_EM_EEPROM_IS_ADDR_IN_ROW_RANGE(rdAddr, i))
 213   3                  {
 214   4                      dataStartEepromRowNum = i;
 215   4                      curRdEepromRowNum = dataStartEepromRowNum;
 216   4                      break;
 217   4                  }
 218   3              }
 219   2      
 220   2              /* Find the row number of the last written row */
 221   2              actEepromRowNum = (context->lastWrRowAddr - curEepromBaseAddr) / CY_EM_EEPROM_FLASH_SIZEOF_ROW;
 222   2      
 223   2              /* Check if wear leveling is used */
 224   2              if(context->wearLevelingFactor > 1u)
 225   2              {
 226   3                  uint32 dataEndEepromRowNum = dataStartEepromRowNum + (numRowReads - 1u);
 227   3      
 228   3                  /* Check if the future validation of the read address is required. */
 229   3                  updateAddrFlag = (dataStartEepromRowNum > actEepromRowNum) ? 1u :
 230   3                                    ((dataEndEepromRowNum > actEepromRowNum) ? 1u : 0u);
 231   3              }
 232   2      
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 5   

 233   2              /* Copy data from the EEPROM data locations to the user buffer */
 234   2              for(i = 0u; i < numRowReads; i++)
 235   2              {
 236   3                  startRowAddr = curEepromBaseAddr + (curRdEepromRowNum * CY_EM_EEPROM_FLASH_SIZEOF_ROW);
 237   3                  curRowOffset = CY_EM_EEPROM_EEPROM_DATA_LEN + (rdAddr % CY_EM_EEPROM_EEPROM_DATA_LEN);
 238   3      
 239   3                  /* Check if there are more reads pending and update the number of the
 240   3                  * remaining bytes to read respectively.
 241   3                  */
 242   3                  if((i + 1u) < numRowReads)
 243   3                  {
 244   4                      numBytesToRead = CY_EM_EEPROM_EEPROM_DATA_LEN - (rdAddr % CY_EM_EEPROM_EEPROM_DATA_LEN);
 245   4                  }
 246   3                  else
 247   3                  {
 248   4                      numBytesToRead = rdSize;
 249   4                  }
 250   3      
 251   3                  /* Check if the read address needs to be updated to point to the correct
 252   3                  * EEPROM sector.
 253   3                  */
 254   3                  if((0u != updateAddrFlag) && (curRdEepromRowNum > actEepromRowNum))
 255   3                  {
 256   4                      startRowAddr -= context->numberOfRows * CY_EM_EEPROM_FLASH_SIZEOF_ROW;
 257   4      
 258   4                      if(startRowAddr < context->userFlashStartAddr)
 259   4                      {
 260   5                          startRowAddr = context->wlEndAddr -
 261   5                              ((context->numberOfRows - curRdEepromRowNum) * CY_EM_EEPROM_FLASH_SIZEOF_ROW);
 262   5                      }
 263   4                  }
 264   3      
 265   3                  if(0u != context->redundantCopy)
 266   3                  {
 267   4                      /* Check a checksum of the EEPROM row and if it is bad, check a checksum in
 268   4                      * the corresponding row in redundant copy, otherwise return failure.
 269   4                      */
 270   4                      ret = CheckCrcAndCopy(startRowAddr, eeData, curRowOffset, numBytesToRead, context);
 271   4      
 272   4                      if(CY_EM_EEPROM_SUCCESS != ret)
 273   4                      {
 274   5                          break;
 275   5                      }
 276   4                  }
 277   3                  else
 278   3                  {
 279   4                      /* Copy the data to the user buffer */
 280   4                      (void)memcpy((void *)(eeData),
 281   4                                   (void *)(startRowAddr + curRowOffset),
 282   4                                   numBytesToRead);
 283   4      
 284   4                      /* Indicate success to be able to execute next code block */
 285   4                      ret = CY_EM_EEPROM_SUCCESS;
 286   4                  }
 287   3      
 288   3                  /* Update variables anticipated in the read operation */
 289   3                  rdAddr += numBytesToRead;
 290   3                  rdSize -= numBytesToRead;
 291   3                  eeData += numBytesToRead;
 292   3                  curRdEepromRowNum++;
 293   3              }
 294   2      
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 6   

 295   2              /* This code block will copy the latest data from the EEPROM headers into the
 296   2              * user buffer. The data previously copied into the user buffer may be updated
 297   2              * as the EEPROM headers contain more recent data. 
 298   2              * The code block is executed when two following conditions are true:
 299   2              *  1) The reads from "historic" data locations were successful;
 300   2              *  2) The user performed at least one write operation to Em_EEPROM (0u !=
 301   2              *     seqNum).        
 302   2              */
 303   2              if((CY_EM_EEPROM_SUCCESS == ret) && (0u != seqNum))
 304   2              {
 305   3                  numRowReads = (context->numberOfRows <= seqNum) ? (context->numberOfRows) : (seqNum);
 306   3                  numRowReads--;
 307   3      
 308   3                  for(i = (seqNum - numRowReads); i <= seqNum; i++)
 309   3                  {
 310   4                      startRowAddr = GetRowAddrBySeqNum(i, context);
 311   4      
 312   4                      if (0u != startRowAddr)
 313   4                      {
 314   5                          /* The following variables are introduced to increase code readability. */
 315   5                          uint32 startAddr  = *(uint32 *)(startRowAddr + CY_EM_EEPROM_HEADER_ADDR_OFFSET);
 316   5                          uint32 endAddr    = startAddr + (*(uint32 *)(startRowAddr + CY_EM_EEPROM_HEADER_LEN_OF
             -FSET));
 317   5      
 318   5                          /* Check if the current row EEPROM header contains the data requested for read */
 319   5                          if(0u != CY_EM_EEPROM_IS_ADDRESES_CROSSING(startAddr, endAddr, addr, addr + size))
 320   5                          {
 321   6                              uint32 srcOffset = (startAddr > addr) ? (0u) : (addr - startAddr);
 322   6                              uint32 dstOffset = (startAddr > addr) ? (startAddr - addr): (0u);
 323   6                              rdAddr = (startAddr > addr) ? (startAddr) : (addr);
 324   6      
 325   6                              srcOffset += CY_EM_EEPROM_HEADER_DATA_OFFSET;
 326   6      
 327   6                              /* Calculate the number of bytes to be read from the current row's EEPROM header *
             -/
 328   6                              numBytesToRead = ((endAddr < (addr + size)) ? endAddr : (addr + size)) - rdAddr;
 329   6      
 330   6                              /* Calculate the offset in the user buffer from which the data will be updated. */
 331   6                              eeData = ((uint32)eepromData) + dstOffset;
 332   6      
 333   6                              /* Check a checksum of the EEPROM row and if it is bad, check a checksum in the
 334   6                              * corresponding row in redundant copy, otherwise return failure. Copy the data
 335   6                              * from the recent EEPROM headers to the user buffer. This will overwrite the
 336   6                              * data copied form EEPROM data locations as the data in EEPROM headers is newer.
 337   6                              */
 338   6                              if(0u != context->redundantCopy)
 339   6                              {
 340   7                                  ret = CheckCrcAndCopy(startRowAddr, eeData, srcOffset, numBytesToRead, context
             -);
 341   7      
 342   7                                  if(CY_EM_EEPROM_SUCCESS != ret)
 343   7                                  {
 344   8                                      break;
 345   8                                  }
 346   7                              }
 347   6                              else
 348   6                              {
 349   7                                  (void)memcpy((void *)(eeData), (void *)(startRowAddr + srcOffset), numBytesToR
             -ead);
 350   7                              }
 351   6                          }
 352   5                      }
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 7   

 353   4                  }
 354   3              }
 355   2          }
 356   1      
 357   1          return(ret);
 358   1      }
 359          
 360          
 361          /*******************************************************************************
 362          * Function Name: Cy_Em_EEPROM_Write
 363          ****************************************************************************//**
 364          *
 365          * This function takes the logical EEPROM address and converts it to the actual
 366          * physical address and writes data there. If wear leveling is implemented, the
 367          * writing process will use the wear leveling techniques. This is a blocking
 368          * function and it does not return until the write operation is completed. The
 369          * user firmware should not enter Hibernate mode until write is completed. The
 370          * write operation is allowed in Sleep and Deep-Sleep modes. During the flash
 371          * operation, the device should not be reset, including the XRES pin, a software
 372          * reset, and watchdog reset sources. Also, low-voltage detect circuits should
 373          * be configured to generate an interrupt instead of a reset. Otherwise, portions
 374          * of flash may undergo unexpected changes.
 375          *
 376          * \param addr
 377          * The logical start address in EEPROM to start writing data from.
 378          *
 379          * \param eepromData
 380          * Data to write to EEPROM.
 381          *
 382          * \param size
 383          * The amount of data to write to EEPROM.
 384          *
 385          * \param context
 386          * The pointer to the EEPROM context structure \ref cy_stc_eeprom_context_t.
 387          *
 388          * \return
 389          * This function returns \ref cy_en_em_eeprom_status_t.
 390          *
 391          * \note
 392          * This function uses a buffer of the flash row size to perform write
 393          * operation. For the size of the row refer to the specific PSoC device
 394          * datasheet.
 395          *
 396          * \sideeffect
 397          * In case when blocking write option is used, if this function is called by
 398          * the CM4 the user code on CM0P and the user code on CM4 are blocked until erase
 399          * flash row operation is finished. If this function is called by the CM0P the
 400          * user code on CM4 is not blocked and the user code on CM0P is blocked until
 401          * erase flash row operation is finished. Plan your task allocation accordingly.
 402          *
 403          * \sideeffect
 404          * In case if non-blocking write option is used and when user flash is used as
 405          * an EEPROM storage care should be taken to prevent the read while write (RWW)
 406          * exception. To prevent the RWW exception the user flash macro that includes
 407          * the EEPROM storage should not be read while the EEPROM write is not completed.
 408          * The read also means the user code execution from the respective flash macro.
 409          *
 410          *******************************************************************************/
 411          cy_en_em_eeprom_status_t Cy_Em_EEPROM_Write(uint32 addr,
 412                                                      void * eepromData,
 413                                                      uint32 size,
 414                                                      cy_stc_eeprom_context_t * context)
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 8   

 415          {
 416   1          cy_en_em_eeprom_status_t ret = CY_EM_EEPROM_BAD_PARAM;
 417   1          uint32 i;
 418   1          uint32 wrCnt;
 419   1          uint32 actEmEepromRowNum;
 420   1          uint32 writeRamBuffer[CY_EM_EEPROM_FLASH_SIZEOF_ROW / CY_EM_EEPROM_U32_DIV];
 421   1          uint32 startAddr = 0u;
 422   1          uint32 endAddr = 0u;
 423   1          uint32 tmpRowAddr;
 424   1          uint32 emEepromRowAddr = context->lastWrRowAddr;
 425   1          uint32 emEepromRowRdAddr;
 426   1          void * tmpData;
 427   1          uint32 eeData = (uint32) eepromData; /* To avoid the pointer arithmetic with void */
 428   1      
 429   1          /* Check if the EEPROM data does not exceed the EEPROM capacity */
 430   1          if((0u != size) && ((addr + size) <= (context->eepromSize)) && (NULL != eepromData))
 431   1          {
 432   2              uint32 numWrites = ((size - 1u) / CY_EM_EEPROM_HEADER_DATA_LEN) + 1u;
 433   2              uint32 eeHeaderDataOffset = 0u;
 434   2      
 435   2              for(wrCnt = 0u; wrCnt < numWrites; wrCnt++)
 436   2              {
 437   3                  uint32 skipOperation = 0u;
 438   3                  /* Get the sequence number of the last written row */
 439   3                  uint32 seqNum = CY_EM_EEPROM_GET_SEQ_NUM(emEepromRowAddr);
 440   3      
 441   3                  /* Get the address of the row to be written. The "emEepromRowAddr" may be
 442   3                  * updated with the proper address (if wear leveling is used). The
 443   3                  * "emEepromRowRdAddr" will point to the row address from which the historic
 444   3                  * data will be read into the RAM buffer.
 445   3                  */
 446   3                  GetNextRowToWrite(seqNum, &emEepromRowAddr, &emEepromRowRdAddr, context);
 447   3      
 448   3                  /* Clear the RAM buffer so to not put junk into flash */
 449   3                  (void)memset(writeRamBuffer, 0, CY_EM_EEPROM_FLASH_SIZEOF_ROW);
 450   3      
 451   3                  /* Fill the EM_EEPROM header info for the row in the RAM buffer */
 452   3                  seqNum++;
 453   3                  writeRamBuffer[CY_EM_EEPROM_HEADER_SEQ_NUM_OFFSET_U32] = seqNum;
 454   3                  writeRamBuffer[CY_EM_EEPROM_HEADER_ADDR_OFFSET_U32] = addr;
 455   3                  tmpData = (void *) eeData;
 456   3      
 457   3                  /* Check if this is the last row to write */
 458   3                  if(wrCnt == (numWrites - 1u))
 459   3                  {
 460   4                      /* Fill in the remaining size value to the EEPROM header. */
 461   4                      writeRamBuffer[CY_EM_EEPROM_HEADER_LEN_OFFSET_U32] = size;
 462   4                  }
 463   3                  else
 464   3                  {
 465   4                      /* This is not the last row to write in the current EEPROM write operation.
 466   4                      * Write the maximum possible data size to the EEPROM header. Update the
 467   4                      * size, eeData and addr respectively.
 468   4                      */
 469   4                      writeRamBuffer[CY_EM_EEPROM_HEADER_LEN_OFFSET_U32] = CY_EM_EEPROM_HEADER_DATA_LEN;
 470   4                      size -= CY_EM_EEPROM_HEADER_DATA_LEN;
 471   4                      addr += CY_EM_EEPROM_HEADER_DATA_LEN;
 472   4                      eeData += CY_EM_EEPROM_HEADER_DATA_LEN;
 473   4                  }
 474   3      
 475   3                  /* Write the data to the EEPROM header */
 476   3                  (void)memcpy((void *)&writeRamBuffer[CY_EM_EEPROM_HEADER_DATA_OFFSET_U32],
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 9   

 477   3                               tmpData,
 478   3                               writeRamBuffer[CY_EM_EEPROM_HEADER_LEN_OFFSET_U32]);
 479   3      
 480   3                  if(emEepromRowRdAddr != 0UL)
 481   3                  {
 482   4                      /* Copy the EEPROM historic data for this row from flash to RAM */
 483   4                      (void)memcpy((void *)&writeRamBuffer[CY_EM_EEPROM_EEPROM_DATA_OFFSET_U32],
 484   4                                   (void *)(emEepromRowRdAddr + CY_EM_EEPROM_EEPROM_DATA_LEN),
 485   4                                   CY_EM_EEPROM_EEPROM_DATA_LEN);
 486   4                  }
 487   3      
 488   3                  /* Check if there is data for this location in other EEPROM headers:
 489   3                  * find out the row with the lowest possible sequence number which
 490   3                  * may contain the data for the current row.
 491   3                  */
 492   3                  i = (seqNum > context->numberOfRows) ? ((seqNum - (context->numberOfRows)) + 1u) : 1u;
 493   3      
 494   3                  for(; i <= seqNum; i++)
 495   3                  {
 496   4                      if(i == seqNum)
 497   4                      {
 498   5                          /* The code reached the row that is about to be written. Analyze the recently
 499   5                          * created EEPROM header (stored in the RAM buffer currently): if it contains
 500   5                          * the data for EEPROM data locations in the row that is about to be written.
 501   5                          */
 502   5                          tmpRowAddr = (uint32) writeRamBuffer;
 503   5                      }
 504   4                      else
 505   4                      {
 506   5                          /* Retrieve the address of the previously written row by its sequence number.
 507   5                          * The pointer will be used to get data from the respective EEPROM header.
 508   5                          */
 509   5                          tmpRowAddr = GetRowAddrBySeqNum(i, context);
 510   5                      }
 511   4      
 512   4                      actEmEepromRowNum = CY_EM_EEPROM_GET_ACT_ROW_NUM_FROM_ADDR(emEepromRowAddr,
 514   4                                                                                 context->numberOfRows,
 514   4                                                                                 context->userFlashStartAddr);
 515   4                      if(0UL != tmpRowAddr)
 516   4                      {
 517   5                          /* Calculate the required addressed for the later EEPROM historic data update */
 518   5                          skipOperation = GetAddresses(
 519   5                                                    &startAddr,
 520   5                                                    &endAddr,
 521   5                                                    &eeHeaderDataOffset,
 522   5                                                    actEmEepromRowNum,
 523   5                                                    *(uint32 *)(tmpRowAddr + CY_EM_EEPROM_HEADER_ADDR_OFFSET),
 524   5                                                    *(uint32 *)(tmpRowAddr + CY_EM_EEPROM_HEADER_LEN_OFFSET));
 525   5                      }
 526   4                      else
 527   4                      {
 528   5                          /* Skip writes to the RAM buffer */
 529   5                          skipOperation++;
 530   5                      }
 531   4      
 532   4                      /* Write data to the RAM buffer */
 533   4                      if(0u == skipOperation)
 534   4                      {
 535   5                          uint32 dataAddr = ((uint32)((uint8 *)&writeRamBuffer)) + startAddr;
 536   5      
 537   5                          /* Update the address to point to the EEPROM header data and not to
 538   5                          * the start of the row.
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 10  

 539   5                          */
 540   5                          tmpRowAddr = tmpRowAddr + CY_EM_EEPROM_HEADER_DATA_OFFSET + eeHeaderDataOffset;
 541   5                          (void)memcpy((void *)(dataAddr), (void *)(tmpRowAddr), endAddr - startAddr);
 542   5                      }
 543   4      
 544   4                      /* Calculate the checksum if redundant copy is enabled */
 545   4                      if(0u != context->redundantCopy)
 546   4                      {
 547   5                          writeRamBuffer[CY_EM_EEPROM_HEADER_CHECKSUM_OFFSET_U32] = (uint32)
 548   5                              CalcChecksum((uint8 *) &writeRamBuffer[CY_EM_EEPROM_EEPROM_DATA_OFFSET_U32],
 549   5                                                        CY_EM_EEPROM_EEPROM_DATA_LEN);
 550   5                      }
 551   4                  }
 552   3      
 553   3                  /* Write the data to the specified flash row */
 554   3                  ret = WriteRow(emEepromRowAddr, writeRamBuffer, context);
 555   3                  tmpRowAddr = emEepromRowAddr;
 556   3      
 557   3                  /* Check if redundant copy is used */
 558   3                  if((0u != context->redundantCopy) && (CY_EM_EEPROM_SUCCESS == ret))
 559   3                  {
 560   4                      /* Update the row address to point to the row in the redundant EEPROM's copy */
 561   4                      tmpRowAddr = (emEepromRowAddr - context->userFlashStartAddr) + context->wlEndAddr;
 562   4      
 563   4                      /* Write the data to the specified flash row */
 564   4                      ret = WriteRow(tmpRowAddr, writeRamBuffer, context);
 565   4                  }
 566   3      
 567   3                  if(CY_EM_EEPROM_SUCCESS == ret)
 568   3                  {
 569   4                      /* Store last written row address only when EEPROM and redundant
 570   4                      * copy writes were successful.
 571   4                      */
 572   4                      context->lastWrRowAddr = emEepromRowAddr;
 573   4                  }
 574   3                  else
 575   3                  {
 576   4                      break;
 577   4                  }
 578   3              }
 579   2          }
 580   1          return(ret);
 581   1      }
 582          
 583          
 584          /*******************************************************************************
 585          * Function Name: Cy_Em_EEPROM_Erase
 586          ****************************************************************************//**
 587          *
 588          * This function erases the entire contents of the EEPROM. Erased values are all
 589          * zeros. This is a blocking function and it does not return until the write
 590          * operation is completed. The user firmware should not enter Hibernate mode until
 591          * erase is completed. The erase operation is allowed in Sleep and Deep-Sleep modes.
 592          * During the flash operation, the device should not be reset, including the
 593          * XRES pin, a software reset, and watchdog reset sources. Also, low-voltage
 594          * detect circuits should be configured to generate an interrupt instead of a
 595          * reset. Otherwise, portions of flash may undergo unexpected changes.
 596          *
 597          * \param context
 598          * The pointer to the EEPROM context structure \ref cy_stc_eeprom_context_t.
 599          *
 600          * \return
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 11  

 601          * This function returns \ref cy_en_em_eeprom_status_t.
 602          *
 603          * \note
 604          * For all non PSoC 6 devices the erase operation is performed by clearing
 605          * the EEPROM data using flash write. This affects the flash durability.
 606          * So it is recommended to use this function in utmost case to prolongate
 607          * flash life.
 608          *
 609          * \note
 610          * This function uses a buffer of the flash row size to perform erase
 611          * operation. For the size of the row refer to the specific PSoC device
 612          * datasheet.
 613          *
 614          * \sideeffect
 615          * In case when blocking write option is used, if this function is called by
 616          * the CM4 the user code on CM0P and the user code on CM4 are blocked until erase
 617          * flash row operation is finished. If this function is called by the CM0P the
 618          * user code on CM4 is not blocked and the user code on CM0P is blocked until
 619          * erase flash row operation is finished. Plan your task allocation accordingly.
 620          *
 621          * \sideeffect
 622          * In case if non-blocking write option is used and when user flash is used as
 623          * an EEPROM storage care should be taken to prevent the read while write (RWW)
 624          * exception. To prevent the RWW exception the user flash macro that includes
 625          * the EEPROM storage should not be read while the EEPROM erase is not completed.
 626          * The read also means the user code execution from the respective flash macro.
 627          *
 628          *******************************************************************************/
 629          cy_en_em_eeprom_status_t Cy_Em_EEPROM_Erase(cy_stc_eeprom_context_t * context)
 630          {
 631   1          uint32 i;
 632   1          uint32 seqNum;
 633   1          uint32 emEepromRowAddr = context->lastWrRowAddr;
 634   1          uint32 emEepromRowRdAddr;
 635   1          cy_en_em_eeprom_status_t ret = CY_EM_EEPROM_WRITE_FAIL;
 636   1          uint32 writeRamBuffer[CY_EM_EEPROM_FLASH_SIZEOF_ROW / CY_EM_EEPROM_U32_DIV] = {0u};
 637   1      #if (CY_PSOC6)
                  uint32 emEepromStoredRowAddr = context->lastWrRowAddr;
                  uint32 storedSeqNum;
              #endif /* (!CY_PSOC6) */
 641   1      
 642   1          /* Get the sequence number of the last written row */
 643   1          seqNum = CY_EM_EEPROM_GET_SEQ_NUM(emEepromRowAddr);
 644   1      
 645   1          /* If there were no writes to EEPROM - nothing to erase */
 646   1          if(0u != seqNum)
 647   1          {
 648   2              /* Calculate the number of row erase operations required */
 649   2              uint32 numWrites = context->numberOfRows * context->wearLevelingFactor;
 650   2      
 651   2          #if (CY_PSOC6)
                      GetNextRowToWrite(seqNum, &emEepromStoredRowAddr, &emEepromRowRdAddr, context);
                      storedSeqNum = seqNum + 1u;
                  #endif /* (CY_PSOC6) */
 655   2      
 656   2              if(0u != context->redundantCopy)
 657   2              {
 658   3                  writeRamBuffer[CY_EM_EEPROM_HEADER_CHECKSUM_OFFSET_U32] = (uint32)
 659   3                              CalcChecksum((uint8 *) &writeRamBuffer[CY_EM_EEPROM_EEPROM_DATA_OFFSET_U32],
 660   3                                                        CY_EM_EEPROM_EEPROM_DATA_LEN);
 661   3              }
 662   2      
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 12  

 663   2              for(i = 0u; i < numWrites; i++)
 664   2              {
 665   3              #if (CY_PSOC6)
                          /* For PSoC 6 the erase operation moves backwards. From last written row
                          * identified by "seqNum" down to "seqNum" - "numWrites". If "emEepromRowAddr"
                          * is zero this means that the row identified by "seqNum" was previously 
                          * erased.
                          */
                          if(0u != emEepromRowAddr)
                          {
                              ret = EraseRow(emEepromRowAddr, (uint32)writeRamBuffer, context);
                          }
              
                          seqNum--;
              
                          if(0u == seqNum)
                          {
                              /* Exit the loop as there is no more row is EEPROM to be erased */
                              break;
                          }
                          emEepromRowAddr = GetRowAddrBySeqNum(seqNum, context);
                      #else
 685   3                  seqNum = CY_EM_EEPROM_GET_SEQ_NUM(emEepromRowAddr);
 686   3                  /* Get the address of the row to be erased. "emEepromRowAddr" may be updated
 687   3                  * with the proper address (if wear leveling is used).
 688   3                  */
 689   3                  GetNextRowToWrite(seqNum, &emEepromRowAddr, &emEepromRowRdAddr, context);
 690   3                  seqNum++;
 691   3                  writeRamBuffer[0u] = seqNum;
 692   3                  ret = EraseRow(emEepromRowAddr, (uint32)writeRamBuffer, context);
 693   3              #endif /* (CY_PSOC6) */
 694   3              }
 695   2      
 696   2          #if (CY_PSOC6)
                      if(CY_EM_EEPROM_SUCCESS == ret)
                      {
                          writeRamBuffer[0u] = storedSeqNum;
              
                          /* Write the previously stored sequence number to the flash row which would be
                          * written next if the erase wouldn't happen. In this case the write to
                          * redundant copy can be skipped as it does not add any value.
                          */
                          ret = WriteRow(emEepromStoredRowAddr, writeRamBuffer, context);
              
                          if(CY_EM_EEPROM_SUCCESS == ret)
                          {
                              context->lastWrRowAddr = emEepromStoredRowAddr;
                          }
                      }
                  #endif /* (CY_PSOC6) */
 713   2      
 714   2          }
 715   1          return(ret);
 716   1      }
 717          
 718          
 719          /*******************************************************************************
 720          * Function Name: Cy_Em_EEPROM_NumWrites
 721          ****************************************************************************//**
 722          *
 723          * Returns the number of the EEPROM writes completed so far.
 724          *
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 13  

 725          * \param context
 726          * The pointer to the EEPROM context structure \ref cy_stc_eeprom_context_t.
 727          *
 728          * \return
 729          * The number of writes performed to the EEPROM.
 730          *
 731          *******************************************************************************/
 732          uint32 Cy_Em_EEPROM_NumWrites(cy_stc_eeprom_context_t * context)
 733          {
 734   1          return(CY_EM_EEPROM_GET_SEQ_NUM(context->lastWrRowAddr));
 735   1      }
 736          
 737          /** \} */
 738          
 739          /** \cond INTERNAL */
 740          
 741          
 742          /*******************************************************************************
 743          * Function Name: FindLastWrittenRow
 744          ****************************************************************************//**
 745          *
 746          * Performs a search of the last written row address of the EEPROM associated
 747          * with the context structure. If there were no writes to the EEPROM the
 748          * function returns the start address of the EEPROM. The row address is returned
 749          * in the input parameter.
 750          *
 751          * \param lastWrRowPtr
 752          * The pointer to a memory where the last written row will be returned.
 753          *
 754          * \param context
 755          * The pointer to the EEPROM context structure \ref cy_stc_eeprom_context_t.
 756          *
 757          *******************************************************************************/
 758          static void FindLastWrittenRow(uint32 * lastWrRowPtr, cy_stc_eeprom_context_t * context)
 759          {
 760   1          uint32 seqNum = 0u;
 761   1          uint32 prevSeqNum = 0u;
 762   1          uint32 numRows;
 763   1          uint32 emEepromAddr = context->userFlashStartAddr;
 764   1      
 765   1          *lastWrRowPtr = emEepromAddr;
 766   1      
 767   1          for(numRows = 0u; numRows < (context->numberOfRows * context->wearLevelingFactor); numRows++)
 768   1          {
 769   2              seqNum = CY_EM_EEPROM_GET_SEQ_NUM(emEepromAddr);
 770   2              if((0u != seqNum) && (seqNum > prevSeqNum))
 771   2              {
 772   3                  /* Some record in EEPROM was found. Store found sequence
 773   3                  * number and row address.
 774   3                  */
 775   3                  prevSeqNum = seqNum;
 776   3                  *lastWrRowPtr = emEepromAddr;
 777   3              }
 778   2      
 779   2              /* Switch to the next row */
 780   2              emEepromAddr = emEepromAddr + CY_EM_EEPROM_FLASH_SIZEOF_ROW;
 781   2          }
 782   1      }
 783          
 784          
 785          /*******************************************************************************
 786          * Function Name: GetRowAddrBySeqNum
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 14  

 787          ****************************************************************************//**
 788          *
 789          * Returns the address of the row in EEPROM using its sequence number.
 790          *
 791          * \param seqNum
 792          * The sequence number of the row.
 793          *
 794          * \param context
 795          * The pointer to the EEPROM context structure.
 796          *
 797          * \return
 798          * The address of the row or zero if the row with the sequence number was not
 799          * found.
 800          *
 801          *******************************************************************************/
 802          static uint32 GetRowAddrBySeqNum(uint32 seqNum, cy_stc_eeprom_context_t * context)
 803          {
 804   1          uint32 emEepromAddr = context->userFlashStartAddr;
 805   1      
 806   1          while(CY_EM_EEPROM_GET_SEQ_NUM(emEepromAddr) != seqNum)
 807   1          {
 808   2              /* Switch to the next row */
 809   2              emEepromAddr = emEepromAddr + CY_EM_EEPROM_FLASH_SIZEOF_ROW;
 810   2      
 811   2              if (CY_EM_EEPROM_ADDR_IN_RANGE !=
 812   2                  CY_EM_EEPROM_IS_ADDR_EXCEED_RANGE(emEepromAddr, context->wlEndAddr))
 813   2              {
 814   3                  emEepromAddr = 0u;
 815   3                  /* Exit the loop as we reached the end of EEPROM */
 816   3                  break;
 817   3              }
 818   2          }
 819   1      
 820   1          return (emEepromAddr);
 821   1      }
 822          
 823          
 824          /*******************************************************************************
 825          * Function Name: GetNextRowToWrite
 826          ****************************************************************************//**
 827          *
 828          * Performs a range check of the row that should be written and updates the
 829          * address to the row respectively. The similar actions are done for the read
 830          * address.
 831          *
 832          * \param seqNum
 833          * The sequence number of the last written row.
 834          *
 835          * \param rowToWrPtr
 836          * The address of the last written row (input). The address of the row to be 
 837          * written (output).
 838          *
 839          * \param rowToRdPtr
 840          * The address of the row from which the data should be read into the RAM buffer
 841          * in a later write operation. Out parameter.
 842          *
 843          * \param context
 844          * The pointer to the EEPROM context structure \ref cy_stc_eeprom_context_t.
 845          *
 846          *******************************************************************************/
 847          static void GetNextRowToWrite(uint32 seqNum,
 848                                      uint32 * rowToWrPtr,
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 15  

 849                                      uint32 * rowToRdPtr,
 850                                      cy_stc_eeprom_context_t * context)
 851          {
 852   1          /* Switch to the next row to be written if the current sequence number is
 853   1          * not zero.
 854   1          */
 855   1          if(0u != seqNum)
 856   1          {
 857   2              *rowToWrPtr = (*rowToWrPtr + CY_EM_EEPROM_FLASH_SIZEOF_ROW);
 858   2          }
 859   1      
 860   1          /* If the resulting row address is out of EEPROM, then switch to the base
 861   1          * EEPROM address (Row#0).
 862   1          */
 863   1          if(CY_EM_EEPROM_ADDR_IN_RANGE !=
 864   1                  CY_EM_EEPROM_IS_ADDR_EXCEED_RANGE(*rowToWrPtr, context->wlEndAddr))
 865   1          {
 866   2              *rowToWrPtr = context->userFlashStartAddr;
 867   2          }
 868   1      
 869   1          *rowToRdPtr = 0u;
 870   1      
 871   1          /* Check if the sequence number is larger than the number of rows in the EEPROM.
 872   1          * If not, do not update the row read address because there is no historic
 873   1          * data to be read.
 874   1          */
 875   1          if(context->numberOfRows <= seqNum)
 876   1          {
 877   2              /* Check if wear leveling is used in EEPROM */
 878   2              if(context->wearLevelingFactor > 1u)
 879   2              {
 880   3                  /* The read row address should be taken from an EEPROM copy that became
 881   3                  * inactive recently. This condition check handles that.
 882   3                  */
 883   3                  if((*rowToWrPtr - (context->numberOfRows * CY_EM_EEPROM_FLASH_SIZEOF_ROW)) <
 884   3                      context->userFlashStartAddr)
 885   3                  {
 886   4                      *rowToRdPtr = context->userFlashStartAddr +
 887   4                          (context->numberOfRows * (context->wearLevelingFactor - 1u) *
 888   4                              CY_EM_EEPROM_FLASH_SIZEOF_ROW) + (*rowToWrPtr - context->userFlashStartAddr);
 889   4                  }
 890   3                  else
 891   3                  {
 892   4                      *rowToRdPtr = *rowToWrPtr - (context->numberOfRows * CY_EM_EEPROM_FLASH_SIZEOF_ROW);
 893   4                  }
 894   3              }
 895   2              else
 896   2              {
 897   3                  /* If no wear leveling, always read from the same flash row that
 898   3                  * should be written.
 899   3                  */
 900   3                  *rowToRdPtr = *rowToWrPtr;
 901   3              }
 902   2          }
 903   1      }
 904          
 905          
 906          /*******************************************************************************
 907          * Function Name: CalcChecksum
 908          ****************************************************************************//**
 909          *
 910          * Implements CRC-8 that is used in checksum calculation for the redundant copy
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 16  

 911          * algorithm.
 912          *
 913          * \param rowData
 914          * The row data to be used to calculate the checksum.
 915          *
 916          * \param len
 917          * The length of rowData.
 918          *
 919          * \return
 920          * The calculated value of CRC-8.
 921          *
 922          *******************************************************************************/
 923          static uint8 CalcChecksum(uint8 rowData[], uint32 len)
 924          {
 925   1          uint8 crc = CY_EM_EEPROM_CRC8_SEED;
 926   1          uint8 i;
 927   1          uint16 cnt = 0u;
 928   1      
 929   1          while(cnt != len)
 930   1          {
 931   2              crc ^= rowData[cnt];
 932   2              for (i = 0u; i < CY_EM_EEPROM_CRC8_POLYNOM_LEN; i++)
 933   2              {
 934   3                  crc = CY_EM_EEPROM_CALCULATE_CRC8(crc);
 935   3              }
 936   2              cnt++;
 937   2          }
 938   1      
 939   1          return (crc);
 940   1      }
 941          
 942          
 943          /*******************************************************************************
 944          * Function Name: CheckRanges
 945          ****************************************************************************//**
 946          *
 947          * Checks if the EEPROM of the requested size can be placed in flash.
 948          *
 949          * \param config
 950          * The pointer to a configuration structure. See \ref cy_stc_eeprom_config_t.
 951          *
 952          * \return
 953          * error / status code. See \ref cy_en_em_eeprom_status_t.
 954          *
 955          *******************************************************************************/
 956          static cy_en_em_eeprom_status_t CheckRanges(cy_stc_eeprom_config_t* config)
 957          {
 958   1          cy_en_em_eeprom_status_t ret = CY_EM_EEPROM_BAD_DATA;
 959   1          uint32 startAddr = config->userFlashStartAddr;
 960   1          uint32 endAddr = startAddr + CY_EM_EEPROM_GET_PHYSICAL_SIZE(config->eepromSize,
 961   1                  config->wearLevelingFactor, config->redundantCopy);
 962   1      
 963   1          /* Range check if there is enough flash for EEPROM */
 964   1          if (CY_EM_EEPROM_IS_IN_FLASH_RANGE(startAddr, endAddr))
 965   1          {
 966   2              ret = CY_EM_EEPROM_SUCCESS;
 967   2          }
 968   1          return (ret);
 969   1      }
 970          
 971          
 972          /*******************************************************************************
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 17  

 973          * Function Name: WriteRow
 974          ****************************************************************************//**
 975          *
 976          * Writes one flash row starting from the specified row address.
 977          *
 978          * \param rowAdd
 979          * The address of the flash row.
 980          *
 981          * \param rowData
 982          * The pointer to the data to be written to the row.
 983          *
 984          * \param context
 985          * The pointer to the EEPROM context structure \ref cy_stc_eeprom_context_t.
 986          *
 987          * \return
 988          * error / status code. See \ref cy_en_em_eeprom_status_t.
 989          *
 990          *******************************************************************************/
 991          static cy_en_em_eeprom_status_t WriteRow(uint32 rowAddr,
 992                                                  uint32 *rowData,
 993                                                  cy_stc_eeprom_context_t * context)
 994          {
 995   1          cy_en_em_eeprom_status_t ret = CY_EM_EEPROM_WRITE_FAIL;
 996   1      #if (!CY_PSOC6)
 997   1          cystatus rc;
 998   1          uint32 rowId;
 999   1          #if ((CY_PSOC3) || (CY_PSOC5))
1000   1              uint32 arrayId;
1001   1          #endif /* (CY_PSOC3) */
1002   1          
1003   1          #if (CY_PSOC3)
1004   1              rowAddr &= CY_EM_EEPROM_CODE_ADDR_MASK;
1005   1              context = context;      /* To avoid compiler warning generation */
1006   1          #else
                      (void)context;          /* To avoid compiler warning generation */
                  #endif /* ((CY_PSOC3) */
1009   1          
1010   1          /* For non-PSoC 6 devices, the Array ID and Row ID needed to write the row */
1011   1          rowId = (rowAddr / CY_EM_EEPROM_FLASH_SIZEOF_ROW) % CY_EM_EEPROM_ROWS_IN_ARRAY;
1012   1      
1013   1          /* Write the flash row */
1014   1          #if (CY_PSOC4)
                      rc = CySysFlashWriteRow(rowId, (uint8 *)rowData);
                  #else
1017   1      
1018   1              #ifndef CY_EM_EEPROM_SKIP_TEMP_MEASUREMENT
1019   1                  (void)CySetTemp();
1020   1              #endif /* (CY_EM_EEPROM_SKIP_TEMP_MEASUREMENT) */
1021   1      
1022   1              arrayId = rowAddr / CY_FLASH_SIZEOF_ARRAY;
1023   1              rc = CyWriteRowData((uint8)arrayId, (uint16)rowId, (uint8 *)rowData);
1024   1              
1025   1              #if (CY_PSOC5)
                          CyFlushCache();
                      #endif /* (CY_PSOC5) */
1028   1          #endif /* (CY_PSOC4) */
1029   1      
1030   1          if(CYRET_SUCCESS == rc)
1031   1          {
1032   2              ret = CY_EM_EEPROM_SUCCESS;
1033   2          }
1034   1      #else /* PSoC 6 */
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 18  

                  if(0u != context->blockingWrite)
                  {
                      /* Do blocking write */
                      if(CY_FLASH_DRV_SUCCESS == Cy_Flash_WriteRow(rowAddr, (const uint32 *)rowData))
                      {
                          ret = CY_EM_EEPROM_SUCCESS;
                      }
                  }
                  else
                  {
                      /* Initiate write */
                      if(CY_FLASH_DRV_OPERATION_STARTED == Cy_Flash_StartWrite(rowAddr, (const uint32 *)rowData))
                      {
                          uint32 countMs = CY_EM_EEPROM_MAX_WRITE_DURATION_MS;
                          cy_en_flashdrv_status_t rc;
              
                          do
                          {
                              CyDelay(1u);                         /* Wait 1ms */
                              rc = Cy_Flash_IsWriteComplete();     /* Check if write completed */
                              countMs--;
                          }
                          while ((rc == CY_FLASH_DRV_OPCODE_BUSY) && (0u != countMs));
              
                          if(CY_FLASH_DRV_SUCCESS == rc)
                          {
                              ret = CY_EM_EEPROM_SUCCESS;
                          }
                      }
                  }
              #endif /* (CY_PSOC6) */
1066   1      
1067   1          return (ret);
1068   1      }
1069          
1070          
1071          /*******************************************************************************
1072          * Function Name: EraseRow
1073          ****************************************************************************//**
1074          *
1075          * Erases one flash row starting from the specified row address. If the redundant
1076          * copy option is enabled the corresponding row in the redundant copy will also
1077          * be erased.
1078          *
1079          * \param rowAdd
1080          * The address of the flash row.
1081          *
1082          * \param ramBuffAddr
1083          * The address of the RAM buffer that contains zeroed data (used only for
1084          * non-PSoC 6 devices).
1085          *
1086          * \param context
1087          * The pointer to the EEPROM context structure \ref cy_stc_eeprom_context_t.
1088          *
1089          * \return
1090          * error / status code. See \ref cy_en_em_eeprom_status_t.
1091          *
1092          *******************************************************************************/
1093          static cy_en_em_eeprom_status_t EraseRow(uint32 rowAddr,
1094                                                  uint32 ramBuffAddr,
1095                                                  cy_stc_eeprom_context_t * context)
1096          {
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 19  

1097   1          uint32 emEepromRowAddr = rowAddr;
1098   1          cy_en_em_eeprom_status_t ret = CY_EM_EEPROM_WRITE_FAIL;
1099   1      #if (CY_PSOC6)
                  uint32 i = 1u;
              
                  (void)ramBuffAddr; /* To avoid compiler warning */
              
                  if(0u != context->redundantCopy)
                  {
                      i++;
                  }
              
                  do
                  {
                      if(0u != context->blockingWrite)
                      {
                          /* Erase the flash row */
                          if(CY_FLASH_DRV_SUCCESS == Cy_Flash_EraseRow(emEepromRowAddr))
                          {
                              ret = CY_EM_EEPROM_SUCCESS;
                          }
                      }
                      else
                      {
                          /* Initiate erase */
                          if(CY_FLASH_DRV_OPERATION_STARTED == Cy_Flash_StartErase(emEepromRowAddr))
                          {
                              uint32 countMs = CY_EM_EEPROM_MAX_WRITE_DURATION_MS;
                              cy_en_flashdrv_status_t rc;
              
                              do
                              {
                                  CyDelay(1u);                         /* Wait 1ms */
                                  rc = Cy_Flash_IsWriteComplete();     /* Check if erase completed */
                                  countMs--;
                              }
                              while ((rc == CY_FLASH_DRV_OPCODE_BUSY) && (0u != countMs));
              
                              if(CY_FLASH_DRV_SUCCESS == rc)
                              {
                                  ret = CY_EM_EEPROM_SUCCESS;
                              }
                          }
                      }
              
                      if(CY_EM_EEPROM_SUCCESS == ret)
                      {
                          /* Update the address to point to the redundant copy row */
                          emEepromRowAddr = (emEepromRowAddr - context->userFlashStartAddr) + context->wlEndAddr;
                      }
                      else
                      {
                          break;
                      }
                      i--;
                  } while (0u != i);
              #else
1154   1          /* Write the data to the specified flash row */
1155   1          ret = WriteRow(emEepromRowAddr, (uint32 *)ramBuffAddr, context);
1156   1      
1157   1          if((CY_EM_EEPROM_SUCCESS == ret) && (0u != context->redundantCopy))
1158   1          {
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 20  

1159   2              /* Update the address to point to the redundant copy row */
1160   2              emEepromRowAddr = (emEepromRowAddr - context->userFlashStartAddr) + context->wlEndAddr;
1161   2              ret = WriteRow(emEepromRowAddr, (uint32 *)ramBuffAddr, context);
1162   2          }
1163   1      
1164   1          if(CY_EM_EEPROM_SUCCESS == ret)
1165   1          {
1166   2              context->lastWrRowAddr = rowAddr;
1167   2          }
1168   1      #endif /* (CY_PSOC6) */
1169   1      
1170   1          return(ret);
1171   1      }
1172          
1173          
1174          /*******************************************************************************
1175          * Function Name: CheckCrcAndCopy
1176          ****************************************************************************//**
1177          *
1178          * Checks the checksum of the specific row in EEPROM. If the CRC matches - copies
1179          * the data to the "datAddr" from EEPROM. f the CRC does not match checks the
1180          * CRC of the corresponding row in the EEPROM's redundant copy. If the CRC
1181          * matches - copies the data to the "datAddr" from EEPROM redundant copy. If the
1182          * CRC of the redundant copy does not match - returns bad checksum.
1183          *
1184          * \param startAddr
1185          * The address that points to the start of the specified row.
1186          *
1187          * \param datAddr
1188          * The start address of where the row data will be copied if the CRC check
1189          * will succeed.
1190          *
1191          * \param rowOffset
1192          * The offset in the row from which the data should be copied.
1193          *
1194          * \param numBytes
1195          * The number of bytes to be copied.
1196          *
1197          * \param context
1198          * The pointer to the EEPROM context structure \ref cy_stc_eeprom_context_t.
1199          *
1200          * \return
1201          * error / status code. See \ref cy_en_em_eeprom_status_t.
1202          *
1203          * \note
1204          * This function uses a buffer of the flash row size to perform read
1205          * operation. For the size of the row refer to the specific PSoC device
1206          * datasheet.
1207          *
1208          *******************************************************************************/
1209          static cy_en_em_eeprom_status_t CheckCrcAndCopy(uint32 startAddr,
1210                                                          uint32 dstAddr,
1211                                                          uint32 rowOffset,
1212                                                          uint32 numBytes,
1213                                                          cy_stc_eeprom_context_t * context)
1214          {
1215   1          cy_en_em_eeprom_status_t ret;
1216   1          uint32 writeRamBuffer[CY_EM_EEPROM_FLASH_SIZEOF_ROW / CY_EM_EEPROM_U32_DIV];
1217   1      
1218   1          /* Calculate the row address in the EEPROM's redundant copy */
1219   1          uint32 rcStartRowAddr = (startAddr - context->userFlashStartAddr) + context->wlEndAddr;
1220   1      
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 21  

1221   1          /* Check the row data CRC in the EEPROM */
1222   1          if((*(uint32 *)(startAddr + CY_EM_EEPROM_HEADER_CHECKSUM_OFFSET)) ==
1223   1              ((uint32) CalcChecksum((uint8 *)(startAddr + CY_EM_EEPROM_EEPROM_DATA_OFFSET),
1224   1                  CY_EM_EEPROM_EEPROM_DATA_LEN)))
1225   1          {
1226   2              (void)memcpy((void *)(dstAddr), (void *)(startAddr + rowOffset), numBytes);
1227   2      
1228   2              ret = CY_EM_EEPROM_SUCCESS;
1229   2          }
1230   1          /* Check the row data CRC in the EEPROM's redundant copy */
1231   1          else if((*(uint32 *)(rcStartRowAddr + CY_EM_EEPROM_HEADER_CHECKSUM_OFFSET)) ==
1232   1                  ((uint32) CalcChecksum((uint8 *)(rcStartRowAddr + CY_EM_EEPROM_EEPROM_DATA_OFFSET),
1233   1                      CY_EM_EEPROM_EEPROM_DATA_LEN)))
1234   1          {
1235   2              /* Copy the redundant copy row to RAM buffer to avoid read while write (RWW)
1236   2              * flash exception. The RWW occurs while trying to write and read the data from
1237   2              * same flash macro.
1238   2              */
1239   2              (void)memcpy((void *)(writeRamBuffer), (void *)(rcStartRowAddr), CY_EM_EEPROM_FLASH_SIZEOF_ROW);
1240   2      
1241   2              /* Restore bad row data from the RAM buffer */
1242   2              ret = WriteRow(startAddr, (uint32 *)writeRamBuffer, context);
1243   2      
1244   2              if(CY_EM_EEPROM_SUCCESS == ret)
1245   2              {
1246   3                  (void)memcpy((void *)(dstAddr), (void *)(writeRamBuffer + rowOffset), numBytes);
1247   3              }
1248   2          }
1249   1          else
1250   1          {
1251   2              ret = CY_EM_EEPROM_BAD_CHECKSUM;
1252   2          }
1253   1      
1254   1          return(ret);
1255   1      }
1256          
1257          
1258          /*******************************************************************************
1259          * Function Name: GetAddresses
1260          ****************************************************************************//**
1261          *
1262          * Calculates the start and end address of the row's EEPROM data to be updated.
1263          * The start and end are not absolute addresses but a relative addresses in a
1264          * flash row.
1265          *
1266          * \param startAddr
1267          * The pointer the address where the EEPROM data start address will be returned.
1268          *
1269          * \param endAddr
1270          * The pointer the address where the EEPROM data end address will be returned.
1271          *
1272          * \param offset
1273          * The pointer the address where the calculated offset of the EEPROM header data
1274          * will be returned.
1275          *
1276          * \param rowNum
1277          * The row number that is about to be written.
1278          *
1279          * \param addr
1280          * The address of the EEPROM header data in the currently analyzed row that may
1281          * concern to the row about to be written.
1282          *
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 22  

1283          * \param len
1284          * The length of the EEPROM header data in the currently analyzed row that may
1285          * concern to the row about to be written.
1286          *
1287          * \return
1288          * Zero indicates that the currently analyzed row has the data to be written to
1289          * the active EEPROM row data locations. Non zero value indicates that there is
1290          * no data to be written
1291          *
1292          *******************************************************************************/
1293          static uint32 GetAddresses(uint32 *startAddr, 
1294                                  uint32 *endAddr, 
1295                                  uint32 *offset,
1296                                  uint32 rowNum,
1297                                  uint32 addr,
1298                                  uint32 len)
1299          {
1300   1          uint32 skip = 0u;
1301   1      
1302   1          *offset =0u;
1303   1      
1304   1          if(0u != CY_EM_EEPROM_IS_ADDR_IN_ROW_RANGE(addr, rowNum))
1305   1          {
1306   2              *startAddr = CY_EM_EEPROM_EEPROM_DATA_LEN + (addr % CY_EM_EEPROM_EEPROM_DATA_LEN);
1307   2      
1308   2              if(0u != CY_EM_EEPROM_IS_ADDR_IN_ROW_RANGE(addr + len, rowNum))
1309   2              {
1310   3                  *endAddr = *startAddr + len;
1311   3              }
1312   2              else
1313   2              {
1314   3                  *endAddr = CY_EM_EEPROM_FLASH_SIZEOF_ROW;
1315   3              }
1316   2          }
1317   1          else
1318   1          {
1319   2      
1320   2              if(0u != CY_EM_EEPROM_IS_ADDR_IN_ROW_RANGE(addr + len, rowNum))
1321   2              {
1322   3                  *startAddr = CY_EM_EEPROM_EEPROM_DATA_LEN;
1323   3                  *endAddr = (*startAddr + len) - (*startAddr - (addr % CY_EM_EEPROM_EEPROM_DATA_LEN));
1324   3                  *offset = len - (*endAddr - *startAddr);
1325   3              }
1326   2              else
1327   2              {
1328   3                  skip++;
1329   3              }
1330   2          }
1331   1      
1332   1          return (skip);
1333   1      }
1334          
1335          
1336          /*******************************************************************************
1337          * Function Name: FillChecksum
1338          ****************************************************************************//**
1339          *
1340          * Performs calculation of the checksum on each row in the Em_EEPROM and fills
1341          * the Em_EEPROM headers checksum field with the calculated checksums.
1342          *
1343          * \param context
1344          * The pointer to the EEPROM context structure.
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 23  

1345          *
1346          * \return
1347          * error / status code. See \ref cy_en_em_eeprom_status_t.
1348          *
1349          * \theory 
1350          * In case if redundant copy option is used the Em_EEPROM would return bad 
1351          * checksum while trying to read the EEPROM rows which were not yet written by 
1352          * the user. E.g. any read after device reprogramming without previous Write() 
1353          * operation to the EEPROM would fail. This would happen because the Em_EEPROM 
1354          * headers checksum field values (which is zero at the moment) would not be 
1355          * equal to the actual data checksum. This function allows to avoid read failure
1356          * after device reprogramming. 
1357          *
1358          * \note
1359          * This function uses a buffer of the flash row size to perform read
1360          * operation. For the size of the row refer to the specific PSoC device
1361          * datasheet.
1362          *
1363          *******************************************************************************/
1364          static cy_en_em_eeprom_status_t FillChecksum(cy_stc_eeprom_context_t * context)
1365          {
1366   1          uint32 i;
1367   1          uint32 rdAddr;
1368   1          uint32 writeRamBuffer[CY_EM_EEPROM_FLASH_SIZEOF_ROW / CY_EM_EEPROM_U32_DIV];
1369   1          uint32 wrAddr = context->lastWrRowAddr;
1370   1          uint32 tmpRowAddr;
1371   1          /* Get the sequence number (number of writes) */
1372   1          uint32 seqNum = CY_EM_EEPROM_GET_SEQ_NUM(wrAddr);
1373   1          cy_en_em_eeprom_status_t ret = CY_EM_EEPROM_BAD_PARAM;
1374   1      
1375   1          for(i = 0u; i < (context->numberOfRows * context->wearLevelingFactor); i++)
1376   1          {
1377   2              /* Copy the EEPROM row from Flash to RAM */
1378   2              (void)memcpy((void *)&writeRamBuffer[0u], (void *)(wrAddr), CY_EM_EEPROM_FLASH_SIZEOF_ROW);
1379   2      
1380   2              /* Increment the sequence number */
1381   2              seqNum++;
1382   2              writeRamBuffer[CY_EM_EEPROM_HEADER_SEQ_NUM_OFFSET_U32] = seqNum;
1383   2      
1384   2              /* Calculate and fill the checksum to the Em_EEPROM header */
1385   2              writeRamBuffer[CY_EM_EEPROM_HEADER_CHECKSUM_OFFSET_U32] = (uint32)
1386   2                          CalcChecksum((uint8 *) &writeRamBuffer[CY_EM_EEPROM_EEPROM_DATA_OFFSET_U32],
1387   2                                                    CY_EM_EEPROM_EEPROM_DATA_LEN);
1388   2      
1389   2              /* Write the data to the specified flash row */
1390   2              ret = WriteRow(wrAddr, writeRamBuffer, context);
1391   2      
1392   2              /* Update the row address to point to the relevant row in the redundant 
1393   2              * EEPROM's copy.
1394   2              */
1395   2              tmpRowAddr = (wrAddr - context->userFlashStartAddr) + context->wlEndAddr;
1396   2      
1397   2              /* Write the data to the specified flash row */
1398   2              ret = WriteRow(tmpRowAddr, writeRamBuffer, context);
1399   2      
1400   2              /* Get the address of the next row to be written. 
1401   2              * "rdAddr" is not used in this function but provided to prevent NULL 
1402   2              * pointer exception in GetNextRowToWrite().
1403   2              */
1404   2              GetNextRowToWrite(seqNum, &wrAddr, &rdAddr, context);
1405   2          }
1406   1          
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 24  

1407   1          return(ret);
1408   1      }
1409          
1410          /** \endcond */
1411          
1412          #if defined(__cplusplus)
              }
              #endif
1415          
1416          /* [] END OF FILE */
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 25  

ASSEMBLY LISTING OF GENERATED OBJECT CODE


             ; FUNCTION _Cy_Em_EEPROM_Init (BEGIN)
                                           ; SOURCE LINE # 95
0000 900000      R     MOV     DPTR,#config
0003 EB                MOV     A,R3
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EA                MOV     A,R2
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 E9                MOV     A,R1
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 96
                                           ; SOURCE LINE # 97
000B 900000      R     MOV     DPTR,#ret
000E 7401              MOV     A,#01H
0010 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 99
0011 900000      R     MOV     DPTR,#context
0014 E0                MOVX    A,@DPTR
0015 FB                MOV     R3,A
0016 A3                INC     DPTR
0017 E0                MOVX    A,@DPTR
0018 FA                MOV     R2,A
0019 A3                INC     DPTR
001A E0                MOVX    A,@DPTR
001B 4A                ORL     A,R2
001C 4B                ORL     A,R3
001D 7003              JNZ     $ + 5H
001F 020000      R     LJMP    ?C0001
0022 900000      R     MOV     DPTR,#config
0025 E0                MOVX    A,@DPTR
0026 FB                MOV     R3,A
0027 A3                INC     DPTR
0028 E0                MOVX    A,@DPTR
0029 FA                MOV     R2,A
002A A3                INC     DPTR
002B E0                MOVX    A,@DPTR
002C 4A                ORL     A,R2
002D 4B                ORL     A,R3
002E 7003              JNZ     $ + 5H
0030 020000      R     LJMP    ?C0001
0033 900000      R     MOV     DPTR,#config
0036 E0                MOVX    A,@DPTR
0037 A3                INC     DPTR
0038 E0                MOVX    A,@DPTR
0039 A3                INC     DPTR
003A E0                MOVX    A,@DPTR
003B 240A              ADD     A,#0AH
003D F9                MOV     R1,A
003E E4                CLR     A
003F 3A                ADDC    A,R2
0040 FA                MOV     R2,A
0041 120000      E     LCALL   ?C?LLDPTR
0044 EF                MOV     A,R7
0045 4E                ORL     A,R6
0046 4D                ORL     A,R5
0047 7003              JNZ     $ + 5H
0049 020000      R     LJMP    ?C0001
004C 900000      R     MOV     DPTR,#config
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 26  

004F E0                MOVX    A,@DPTR
0050 A3                INC     DPTR
0051 E0                MOVX    A,@DPTR
0052 FA                MOV     R2,A
0053 A3                INC     DPTR
0054 E0                MOVX    A,@DPTR
0055 2404              ADD     A,#04H
0057 F9                MOV     R1,A
0058 E4                CLR     A
0059 3A                ADDC    A,R2
005A FA                MOV     R2,A
005B 120000      E     LCALL   ?C?LLDPTR
005E D3                SETB    C
005F EF                MOV     A,R7
0060 940A              SUBB    A,#0AH
0062 EE                MOV     A,R6
0063 9400              SUBB    A,#00H
0065 4003              JC      $ + 5H
0067 020000      R     LJMP    ?C0001
006A 900000      R     MOV     DPTR,#config
006D E0                MOVX    A,@DPTR
006E A3                INC     DPTR
006F E0                MOVX    A,@DPTR
0070 FA                MOV     R2,A
0071 A3                INC     DPTR
0072 E0                MOVX    A,@DPTR
0073 F9                MOV     R1,A
0074 120000      E     LCALL   ?C?LLDPTR
0077 EF                MOV     A,R7
0078 4E                ORL     A,R6
0079 7003              JNZ     $ + 5H
007B 020000      R     LJMP    ?C0001
                                           ; SOURCE LINE # 101
                                           ; SOURCE LINE # 102
007E 120000      R     LCALL   _CheckRanges
0081 900000      R     MOV     DPTR,#ret
0084 EF                MOV     A,R7
0085 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 104
0086 6003              JZ      $ + 5H
0088 020000      R     LJMP    ?C0001
                                           ; SOURCE LINE # 105
                                           ; SOURCE LINE # 107
008B 900000      R     MOV     DPTR,#config
008E E0                MOVX    A,@DPTR
008F FB                MOV     R3,A
0090 A3                INC     DPTR
0091 E0                MOVX    A,@DPTR
0092 FA                MOV     R2,A
0093 A3                INC     DPTR
0094 E0                MOVX    A,@DPTR
0095 F9                MOV     R1,A
0096 120000      E     LCALL   ?C?LLDPTR
0099 900000      R     MOV     DPTR,#context
009C E0                MOVX    A,@DPTR
009D FB                MOV     R3,A
009E A3                INC     DPTR
009F E0                MOVX    A,@DPTR
00A0 FA                MOV     R2,A
00A1 A3                INC     DPTR
00A2 E0                MOVX    A,@DPTR
00A3 240C              ADD     A,#0CH
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 27  

00A5 F9                MOV     R1,A
00A6 E4                CLR     A
00A7 3A                ADDC    A,R2
00A8 FA                MOV     R2,A
00A9 120000      E     LCALL   ?C?LSTPTR
                                           ; SOURCE LINE # 108
00AC 900000      R     MOV     DPTR,#config
00AF E0                MOVX    A,@DPTR
00B0 FB                MOV     R3,A
00B1 A3                INC     DPTR
00B2 E0                MOVX    A,@DPTR
00B3 FA                MOV     R2,A
00B4 A3                INC     DPTR
00B5 E0                MOVX    A,@DPTR
00B6 2404              ADD     A,#04H
00B8 F9                MOV     R1,A
00B9 E4                CLR     A
00BA 3A                ADDC    A,R2
00BB FA                MOV     R2,A
00BC 120000      E     LCALL   ?C?LLDPTR
00BF 900000      R     MOV     DPTR,#context
00C2 E0                MOVX    A,@DPTR
00C3 FB                MOV     R3,A
00C4 A3                INC     DPTR
00C5 E0                MOVX    A,@DPTR
00C6 FA                MOV     R2,A
00C7 A3                INC     DPTR
00C8 E0                MOVX    A,@DPTR
00C9 2410              ADD     A,#010H
00CB F9                MOV     R1,A
00CC E4                CLR     A
00CD 3A                ADDC    A,R2
00CE FA                MOV     R2,A
00CF 120000      E     LCALL   ?C?LSTPTR
                                           ; SOURCE LINE # 109
00D2 900000      R     MOV     DPTR,#config
00D5 E0                MOVX    A,@DPTR
00D6 FB                MOV     R3,A
00D7 A3                INC     DPTR
00D8 E0                MOVX    A,@DPTR
00D9 FA                MOV     R2,A
00DA A3                INC     DPTR
00DB E0                MOVX    A,@DPTR
00DC 2408              ADD     A,#08H
00DE F9                MOV     R1,A
00DF E4                CLR     A
00E0 3A                ADDC    A,R2
00E1 FA                MOV     R2,A
00E2 120000      E     LCALL   ?C?CLDPTR
00E5 FF                MOV     R7,A
00E6 900000      R     MOV     DPTR,#context
00E9 E0                MOVX    A,@DPTR
00EA FB                MOV     R3,A
00EB A3                INC     DPTR
00EC E0                MOVX    A,@DPTR
00ED FA                MOV     R2,A
00EE A3                INC     DPTR
00EF E0                MOVX    A,@DPTR
00F0 2414              ADD     A,#014H
00F2 F9                MOV     R1,A
00F3 E4                CLR     A
00F4 3A                ADDC    A,R2
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 28  

00F5 FA                MOV     R2,A
00F6 EF                MOV     A,R7
00F7 120000      E     LCALL   ?C?CSTPTR
                                           ; SOURCE LINE # 110
00FA 900000      R     MOV     DPTR,#config
00FD E0                MOVX    A,@DPTR
00FE FB                MOV     R3,A
00FF A3                INC     DPTR
0100 E0                MOVX    A,@DPTR
0101 FA                MOV     R2,A
0102 A3                INC     DPTR
0103 E0                MOVX    A,@DPTR
0104 2409              ADD     A,#09H
0106 F9                MOV     R1,A
0107 E4                CLR     A
0108 3A                ADDC    A,R2
0109 FA                MOV     R2,A
010A 120000      E     LCALL   ?C?CLDPTR
010D FF                MOV     R7,A
010E 900000      R     MOV     DPTR,#context
0111 E0                MOVX    A,@DPTR
0112 FB                MOV     R3,A
0113 A3                INC     DPTR
0114 E0                MOVX    A,@DPTR
0115 FA                MOV     R2,A
0116 A3                INC     DPTR
0117 E0                MOVX    A,@DPTR
0118 2415              ADD     A,#015H
011A F9                MOV     R1,A
011B E4                CLR     A
011C 3A                ADDC    A,R2
011D FA                MOV     R2,A
011E EF                MOV     A,R7
011F 120000      E     LCALL   ?C?CSTPTR
                                           ; SOURCE LINE # 111
0122 900000      R     MOV     DPTR,#config
0125 E0                MOVX    A,@DPTR
0126 FB                MOV     R3,A
0127 A3                INC     DPTR
0128 E0                MOVX    A,@DPTR
0129 FA                MOV     R2,A
012A A3                INC     DPTR
012B E0                MOVX    A,@DPTR
012C 240A              ADD     A,#0AH
012E F9                MOV     R1,A
012F E4                CLR     A
0130 3A                ADDC    A,R2
0131 FA                MOV     R2,A
0132 120000      E     LCALL   ?C?LLDPTR
0135 900000      R     MOV     DPTR,#context
0138 E0                MOVX    A,@DPTR
0139 FB                MOV     R3,A
013A A3                INC     DPTR
013B E0                MOVX    A,@DPTR
013C FA                MOV     R2,A
013D A3                INC     DPTR
013E E0                MOVX    A,@DPTR
013F 2416              ADD     A,#016H
0141 F9                MOV     R1,A
0142 E4                CLR     A
0143 3A                ADDC    A,R2
0144 FA                MOV     R2,A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 29  

0145 120000      E     LCALL   ?C?LSTPTR
                                           ; SOURCE LINE # 113
0148 900000      R     MOV     DPTR,#config
014B E0                MOVX    A,@DPTR
014C FB                MOV     R3,A
014D A3                INC     DPTR
014E E0                MOVX    A,@DPTR
014F FA                MOV     R2,A
0150 A3                INC     DPTR
0151 E0                MOVX    A,@DPTR
0152 F9                MOV     R1,A
0153 120000      E     LCALL   ?C?LLDPTR
0156 EF                MOV     A,R7
0157 547F              ANL     A,#07FH
0159 FF                MOV     R7,A
015A E4                CLR     A
015B EF                MOV     A,R7
015C 6010              JZ      ?C0003
015E E4                CLR     A
015F 7F01              MOV     R7,#01H
0161 FE                MOV     R6,A
0162 FD                MOV     R5,A
0163 FC                MOV     R4,A
0164 C004              PUSH    AR4
0166 C005              PUSH    AR5
0168 C006              PUSH    AR6
016A C007              PUSH    AR7
016C 8011              SJMP    ?C0004
016E         ?C0003:
016E E4                CLR     A
016F FF                MOV     R7,A
0170 FE                MOV     R6,A
0171 FD                MOV     R5,A
0172 FC                MOV     R4,A
0173 FB                MOV     R3,A
0174 FA                MOV     R2,A
0175 F9                MOV     R1,A
0176 F8                MOV     R0,A
0177 C000              PUSH    AR0
0179 C001              PUSH    AR1
017B C002              PUSH    AR2
017D C003              PUSH    AR3
017F         ?C0004:
017F 900000      R     MOV     DPTR,#config
0182 E0                MOVX    A,@DPTR
0183 FB                MOV     R3,A
0184 A3                INC     DPTR
0185 E0                MOVX    A,@DPTR
0186 FA                MOV     R2,A
0187 A3                INC     DPTR
0188 E0                MOVX    A,@DPTR
0189 F9                MOV     R1,A
018A 120000      E     LCALL   ?C?LLDPTR
018D E4                CLR     A
018E 7B80              MOV     R3,#080H
0190 FA                MOV     R2,A
0191 F9                MOV     R1,A
0192 F8                MOV     R0,A
0193 120000      E     LCALL   ?C?ULDIV
0196 D003              POP     AR3
0198 D002              POP     AR2
019A D001              POP     AR1
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 30  

019C D000              POP     AR0
019E EF                MOV     A,R7
019F 2B                ADD     A,R3
01A0 FF                MOV     R7,A
01A1 EE                MOV     A,R6
01A2 3A                ADDC    A,R2
01A3 FE                MOV     R6,A
01A4 ED                MOV     A,R5
01A5 39                ADDC    A,R1
01A6 FD                MOV     R5,A
01A7 EC                MOV     A,R4
01A8 38                ADDC    A,R0
01A9 FC                MOV     R4,A
01AA 900000      R     MOV     DPTR,#context
01AD E0                MOVX    A,@DPTR
01AE FB                MOV     R3,A
01AF A3                INC     DPTR
01B0 E0                MOVX    A,@DPTR
01B1 FA                MOV     R2,A
01B2 A3                INC     DPTR
01B3 E0                MOVX    A,@DPTR
01B4 2404              ADD     A,#04H
01B6 F9                MOV     R1,A
01B7 E4                CLR     A
01B8 3A                ADDC    A,R2
01B9 FA                MOV     R2,A
01BA 120000      E     LCALL   ?C?LSTPTR
                                           ; SOURCE LINE # 114
01BD 120000      E     LCALL   ?C?LLDPTR
01C0 E4                CLR     A
01C1 FB                MOV     R3,A
01C2 7A01              MOV     R2,#01H
01C4 F9                MOV     R1,A
01C5 F8                MOV     R0,A
01C6 120000      E     LCALL   ?C?LMUL
01C9 900000      R     MOV     DPTR,#config
01CC E0                MOVX    A,@DPTR
01CD FB                MOV     R3,A
01CE A3                INC     DPTR
01CF E0                MOVX    A,@DPTR
01D0 FA                MOV     R2,A
01D1 A3                INC     DPTR
01D2 E0                MOVX    A,@DPTR
01D3 2404              ADD     A,#04H
01D5 F9                MOV     R1,A
01D6 E4                CLR     A
01D7 3A                ADDC    A,R2
01D8 FA                MOV     R2,A
01D9 120000      E     LCALL   ?C?LLDPTR0
01DC 120000      E     LCALL   ?C?LMUL
01DF 900000      R     MOV     DPTR,#config
01E2 E0                MOVX    A,@DPTR
01E3 FB                MOV     R3,A
01E4 A3                INC     DPTR
01E5 E0                MOVX    A,@DPTR
01E6 FA                MOV     R2,A
01E7 A3                INC     DPTR
01E8 E0                MOVX    A,@DPTR
01E9 240A              ADD     A,#0AH
01EB F9                MOV     R1,A
01EC E4                CLR     A
01ED 3A                ADDC    A,R2
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 31  

01EE FA                MOV     R2,A
01EF 120000      E     LCALL   ?C?LLDPTR0
01F2 EF                MOV     A,R7
01F3 2B                ADD     A,R3
01F4 FF                MOV     R7,A
01F5 EE                MOV     A,R6
01F6 3A                ADDC    A,R2
01F7 FE                MOV     R6,A
01F8 ED                MOV     A,R5
01F9 39                ADDC    A,R1
01FA FD                MOV     R5,A
01FB EC                MOV     A,R4
01FC 38                ADDC    A,R0
01FD FC                MOV     R4,A
01FE 900000      R     MOV     DPTR,#context
0201 E0                MOVX    A,@DPTR
0202 FB                MOV     R3,A
0203 A3                INC     DPTR
0204 E0                MOVX    A,@DPTR
0205 FA                MOV     R2,A
0206 A3                INC     DPTR
0207 E0                MOVX    A,@DPTR
0208 F9                MOV     R1,A
0209 120000      E     LCALL   ?C?LSTPTR
                                           ; SOURCE LINE # 117
020C 900000      R     MOV     DPTR,#context
020F E0                MOVX    A,@DPTR
0210 FB                MOV     R3,A
0211 A3                INC     DPTR
0212 E0                MOVX    A,@DPTR
0213 FA                MOV     R2,A
0214 A3                INC     DPTR
0215 E0                MOVX    A,@DPTR
0216 2408              ADD     A,#08H
0218 F9                MOV     R1,A
0219 E4                CLR     A
021A 3A                ADDC    A,R2
021B FA                MOV     R2,A
021C C003              PUSH    AR3
021E C002              PUSH    AR2
0220 C001              PUSH    AR1
0222 900000      R     MOV     DPTR,#context
0225 E0                MOVX    A,@DPTR
0226 A3                INC     DPTR
0227 E0                MOVX    A,@DPTR
0228 FA                MOV     R2,A
0229 A3                INC     DPTR
022A E0                MOVX    A,@DPTR
022B F9                MOV     R1,A
022C 900000      R     MOV     DPTR,#?_FindLastWrittenRow?BYTE+03H
022F EB                MOV     A,R3
0230 F0                MOVX    @DPTR,A
0231 A3                INC     DPTR
0232 EA                MOV     A,R2
0233 F0                MOVX    @DPTR,A
0234 A3                INC     DPTR
0235 E9                MOV     A,R1
0236 F0                MOVX    @DPTR,A
0237 D001              POP     AR1
0239 D002              POP     AR2
023B D003              POP     AR3
023D 120000      R     LCALL   _FindLastWrittenRow
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 32  

                                           ; SOURCE LINE # 119
0240 900000      R     MOV     DPTR,#context
0243 E0                MOVX    A,@DPTR
0244 FB                MOV     R3,A
0245 A3                INC     DPTR
0246 E0                MOVX    A,@DPTR
0247 FA                MOV     R2,A
0248 A3                INC     DPTR
0249 E0                MOVX    A,@DPTR
024A 2408              ADD     A,#08H
024C F9                MOV     R1,A
024D E4                CLR     A
024E 3A                ADDC    A,R2
024F FA                MOV     R2,A
0250 120000      E     LCALL   ?C?LLDPTR
0253 A907              MOV     R1,AR7
0255 AA06              MOV     R2,AR6
0257 AB05              MOV     R3,AR5
0259 120000      E     LCALL   ?C?LLDPTR
025C EF                MOV     A,R7
025D 4E                ORL     A,R6
025E 705B              JNZ     ?C0001
0260 900000      R     MOV     DPTR,#context
0263 E0                MOVX    A,@DPTR
0264 FB                MOV     R3,A
0265 A3                INC     DPTR
0266 E0                MOVX    A,@DPTR
0267 FA                MOV     R2,A
0268 A3                INC     DPTR
0269 E0                MOVX    A,@DPTR
026A 2414              ADD     A,#014H
026C F9                MOV     R1,A
026D E4                CLR     A
026E 3A                ADDC    A,R2
026F FA                MOV     R2,A
0270 120000      E     LCALL   ?C?CLDPTR
0273 6046              JZ      ?C0001
                                           ; SOURCE LINE # 120
                                           ; SOURCE LINE # 124
0275 900000      R     MOV     DPTR,#context
0278 E0                MOVX    A,@DPTR
0279 A3                INC     DPTR
027A E0                MOVX    A,@DPTR
027B FA                MOV     R2,A
027C A3                INC     DPTR
027D E0                MOVX    A,@DPTR
027E F9                MOV     R1,A
027F 120000      R     LCALL   _FillChecksum
0282 900000      R     MOV     DPTR,#ret
0285 EF                MOV     A,R7
0286 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 127
0287 900000      R     MOV     DPTR,#context
028A E0                MOVX    A,@DPTR
028B FB                MOV     R3,A
028C A3                INC     DPTR
028D E0                MOVX    A,@DPTR
028E FA                MOV     R2,A
028F A3                INC     DPTR
0290 E0                MOVX    A,@DPTR
0291 2408              ADD     A,#08H
0293 F9                MOV     R1,A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 33  

0294 E4                CLR     A
0295 3A                ADDC    A,R2
0296 FA                MOV     R2,A
0297 C003              PUSH    AR3
0299 C002              PUSH    AR2
029B C001              PUSH    AR1
029D 900000      R     MOV     DPTR,#context
02A0 E0                MOVX    A,@DPTR
02A1 A3                INC     DPTR
02A2 E0                MOVX    A,@DPTR
02A3 FA                MOV     R2,A
02A4 A3                INC     DPTR
02A5 E0                MOVX    A,@DPTR
02A6 F9                MOV     R1,A
02A7 900000      R     MOV     DPTR,#?_FindLastWrittenRow?BYTE+03H
02AA EB                MOV     A,R3
02AB F0                MOVX    @DPTR,A
02AC A3                INC     DPTR
02AD EA                MOV     A,R2
02AE F0                MOVX    @DPTR,A
02AF A3                INC     DPTR
02B0 E9                MOV     A,R1
02B1 F0                MOVX    @DPTR,A
02B2 D001              POP     AR1
02B4 D002              POP     AR2
02B6 D003              POP     AR3
02B8 120000      R     LCALL   _FindLastWrittenRow
                                           ; SOURCE LINE # 128
                                           ; SOURCE LINE # 129
                                           ; SOURCE LINE # 130
02BB         ?C0001:
                                           ; SOURCE LINE # 132
02BB 900000      R     MOV     DPTR,#ret
02BE E0                MOVX    A,@DPTR
02BF FF                MOV     R7,A
                                           ; SOURCE LINE # 133
02C0         ?C0006:
02C0 22                RET     
             ; FUNCTION _Cy_Em_EEPROM_Init (END)

             ; FUNCTION _Cy_Em_EEPROM_Read (BEGIN)
                                           ; SOURCE LINE # 169
0000 900000      R     MOV     DPTR,#addr
0003 120000      E     LCALL   ?C?LSTXDATA
0006 900000      R     MOV     DPTR,#eepromData
0009 EB                MOV     A,R3
000A F0                MOVX    @DPTR,A
000B A3                INC     DPTR
000C EA                MOV     A,R2
000D F0                MOVX    @DPTR,A
000E A3                INC     DPTR
000F E9                MOV     A,R1
0010 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 173
                                           ; SOURCE LINE # 174
0011 900000      R     MOV     DPTR,#ret
0014 7401              MOV     A,#01H
0016 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 181
0017 E4                CLR     A
0018 FF                MOV     R7,A
0019 FE                MOV     R6,A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 34  

001A FD                MOV     R5,A
001B FC                MOV     R4,A
001C 900000      R     MOV     DPTR,#curRdEepromRowNum
001F 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 182
0022 E4                CLR     A
0023 FF                MOV     R7,A
0024 FE                MOV     R6,A
0025 FD                MOV     R5,A
0026 FC                MOV     R4,A
0027 900000      R     MOV     DPTR,#dataStartEepromRowNum
002A 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 183
002D AF01              MOV     R7,AR1
002F AE02              MOV     R6,AR2
0031 AD03              MOV     R5,AR3
0033 7C00              MOV     R4,#00H
0035 900000      R     MOV     DPTR,#eeData
0038 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 186
003B 900000      R     MOV     DPTR,#size
003E E0                MOVX    A,@DPTR
003F A3                INC     DPTR
0040 E0                MOVX    A,@DPTR
0041 A3                INC     DPTR
0042 E0                MOVX    A,@DPTR
0043 FE                MOV     R6,A
0044 A3                INC     DPTR
0045 E0                MOVX    A,@DPTR
0046 4E                ORL     A,R6
0047 7003              JNZ     $ + 5H
0049 020000      R     LJMP    ?C0007
004C A3                INC     DPTR
004D E0                MOVX    A,@DPTR
004E FB                MOV     R3,A
004F A3                INC     DPTR
0050 E0                MOVX    A,@DPTR
0051 FA                MOV     R2,A
0052 A3                INC     DPTR
0053 E0                MOVX    A,@DPTR
0054 240C              ADD     A,#0CH
0056 F9                MOV     R1,A
0057 E4                CLR     A
0058 3A                ADDC    A,R2
0059 FA                MOV     R2,A
005A 120000      E     LCALL   ?C?LLDPTR0
005D C000              PUSH    AR0
005F C001              PUSH    AR1
0061 C002              PUSH    AR2
0063 900000      R     MOV     DPTR,#size
0066 E0                MOVX    A,@DPTR
0067 FC                MOV     R4,A
0068 A3                INC     DPTR
0069 E0                MOVX    A,@DPTR
006A FD                MOV     R5,A
006B A3                INC     DPTR
006C E0                MOVX    A,@DPTR
006D A3                INC     DPTR
006E E0                MOVX    A,@DPTR
006F FF                MOV     R7,A
0070 900000      R     MOV     DPTR,#addr
0073 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 35  

0074 F8                MOV     R0,A
0075 A3                INC     DPTR
0076 E0                MOVX    A,@DPTR
0077 F9                MOV     R1,A
0078 A3                INC     DPTR
0079 E0                MOVX    A,@DPTR
007A FA                MOV     R2,A
007B A3                INC     DPTR
007C E0                MOVX    A,@DPTR
007D 2F                ADD     A,R7
007E FF                MOV     R7,A
007F EA                MOV     A,R2
0080 3E                ADDC    A,R6
0081 FE                MOV     R6,A
0082 E9                MOV     A,R1
0083 3D                ADDC    A,R5
0084 FD                MOV     R5,A
0085 E8                MOV     A,R0
0086 3C                ADDC    A,R4
0087 FC                MOV     R4,A
0088 D002              POP     AR2
008A D001              POP     AR1
008C D000              POP     AR0
008E C3                CLR     C
008F 120000      E     LCALL   ?C?ULCMP
0092 5003              JNC     $ + 5H
0094 020000      R     LJMP    ?C0007
0097 900000      R     MOV     DPTR,#eepromData
009A E0                MOVX    A,@DPTR
009B FB                MOV     R3,A
009C A3                INC     DPTR
009D E0                MOVX    A,@DPTR
009E FA                MOV     R2,A
009F A3                INC     DPTR
00A0 E0                MOVX    A,@DPTR
00A1 4A                ORL     A,R2
00A2 4B                ORL     A,R3
00A3 7003              JNZ     $ + 5H
00A5 020000      R     LJMP    ?C0007
                                           ; SOURCE LINE # 187
                                           ; SOURCE LINE # 188
00A8 900000      R     MOV     DPTR,#addr
00AB E0                MOVX    A,@DPTR
00AC FC                MOV     R4,A
00AD A3                INC     DPTR
00AE E0                MOVX    A,@DPTR
00AF FD                MOV     R5,A
00B0 A3                INC     DPTR
00B1 E0                MOVX    A,@DPTR
00B2 FE                MOV     R6,A
00B3 A3                INC     DPTR
00B4 E0                MOVX    A,@DPTR
00B5 FF                MOV     R7,A
00B6 900000      R     MOV     DPTR,#rdAddr
00B9 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 189
00BC 900000      R     MOV     DPTR,#size
00BF E0                MOVX    A,@DPTR
00C0 FC                MOV     R4,A
00C1 A3                INC     DPTR
00C2 E0                MOVX    A,@DPTR
00C3 FD                MOV     R5,A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 36  

00C4 A3                INC     DPTR
00C5 E0                MOVX    A,@DPTR
00C6 FE                MOV     R6,A
00C7 A3                INC     DPTR
00C8 E0                MOVX    A,@DPTR
00C9 FF                MOV     R7,A
00CA 900000      R     MOV     DPTR,#rdSize
00CD 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 191
00D0 900000      R     MOV     DPTR,#context
00D3 E0                MOVX    A,@DPTR
00D4 FB                MOV     R3,A
00D5 A3                INC     DPTR
00D6 E0                MOVX    A,@DPTR
00D7 FA                MOV     R2,A
00D8 A3                INC     DPTR
00D9 E0                MOVX    A,@DPTR
00DA 2408              ADD     A,#08H
00DC F9                MOV     R1,A
00DD E4                CLR     A
00DE 3A                ADDC    A,R2
00DF FA                MOV     R2,A
00E0 120000      E     LCALL   ?C?LLDPTR
00E3 A907              MOV     R1,AR7
00E5 AA06              MOV     R2,AR6
00E7 AB05              MOV     R3,AR5
00E9 120000      E     LCALL   ?C?LLDPTR
00EC 900000      R     MOV     DPTR,#seqNum
00EF 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 192
00F2 E4                CLR     A
00F3 FF                MOV     R7,A
00F4 FE                MOV     R6,A
00F5 FD                MOV     R5,A
00F6 FC                MOV     R4,A
00F7 900000      R     MOV     DPTR,#updateAddrFlag
00FA 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 197
00FD 900000      R     MOV     DPTR,#rdSize
0100 E0                MOVX    A,@DPTR
0101 FC                MOV     R4,A
0102 A3                INC     DPTR
0103 E0                MOVX    A,@DPTR
0104 FD                MOV     R5,A
0105 A3                INC     DPTR
0106 E0                MOVX    A,@DPTR
0107 FE                MOV     R6,A
0108 A3                INC     DPTR
0109 E0                MOVX    A,@DPTR
010A FF                MOV     R7,A
010B 900000      R     MOV     DPTR,#rdAddr
010E E0                MOVX    A,@DPTR
010F F8                MOV     R0,A
0110 A3                INC     DPTR
0111 E0                MOVX    A,@DPTR
0112 F9                MOV     R1,A
0113 A3                INC     DPTR
0114 E0                MOVX    A,@DPTR
0115 FA                MOV     R2,A
0116 A3                INC     DPTR
0117 E0                MOVX    A,@DPTR
0118 2F                ADD     A,R7
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 37  

0119 FF                MOV     R7,A
011A EA                MOV     A,R2
011B 3E                ADDC    A,R6
011C FE                MOV     R6,A
011D E9                MOV     A,R1
011E 3D                ADDC    A,R5
011F FD                MOV     R5,A
0120 E8                MOV     A,R0
0121 3C                ADDC    A,R4
0122 FC                MOV     R4,A
0123 EF                MOV     A,R7
0124 24FF              ADD     A,#0FFH
0126 FF                MOV     R7,A
0127 EE                MOV     A,R6
0128 34FF              ADDC    A,#0FFH
012A FE                MOV     R6,A
012B ED                MOV     A,R5
012C 34FF              ADDC    A,#0FFH
012E FD                MOV     R5,A
012F EC                MOV     A,R4
0130 34FF              ADDC    A,#0FFH
0132 FC                MOV     R4,A
0133 E4                CLR     A
0134 7B80              MOV     R3,#080H
0136 FA                MOV     R2,A
0137 F9                MOV     R1,A
0138 F8                MOV     R0,A
0139 120000      E     LCALL   ?C?ULDIV
013C C004              PUSH    AR4
013E C005              PUSH    AR5
0140 C006              PUSH    AR6
0142 C007              PUSH    AR7
0144 E4                CLR     A
0145 7B80              MOV     R3,#080H
0147 FA                MOV     R2,A
0148 F9                MOV     R1,A
0149 F8                MOV     R0,A
014A 900000      R     MOV     DPTR,#rdAddr
014D E0                MOVX    A,@DPTR
014E FC                MOV     R4,A
014F A3                INC     DPTR
0150 E0                MOVX    A,@DPTR
0151 FD                MOV     R5,A
0152 A3                INC     DPTR
0153 E0                MOVX    A,@DPTR
0154 FE                MOV     R6,A
0155 A3                INC     DPTR
0156 E0                MOVX    A,@DPTR
0157 FF                MOV     R7,A
0158 120000      E     LCALL   ?C?ULDIV
015B A804              MOV     R0,AR4
015D A905              MOV     R1,AR5
015F AA06              MOV     R2,AR6
0161 AB07              MOV     R3,AR7
0163 D007              POP     AR7
0165 D006              POP     AR6
0167 D005              POP     AR5
0169 D004              POP     AR4
016B C3                CLR     C
016C EF                MOV     A,R7
016D 9B                SUBB    A,R3
016E FF                MOV     R7,A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 38  

016F EE                MOV     A,R6
0170 9A                SUBB    A,R2
0171 FE                MOV     R6,A
0172 ED                MOV     A,R5
0173 99                SUBB    A,R1
0174 FD                MOV     R5,A
0175 EC                MOV     A,R4
0176 98                SUBB    A,R0
0177 FC                MOV     R4,A
0178 EF                MOV     A,R7
0179 2401              ADD     A,#01H
017B FF                MOV     R7,A
017C E4                CLR     A
017D 3E                ADDC    A,R6
017E FE                MOV     R6,A
017F E4                CLR     A
0180 3D                ADDC    A,R5
0181 FD                MOV     R5,A
0182 E4                CLR     A
0183 3C                ADDC    A,R4
0184 FC                MOV     R4,A
0185 900000      R     MOV     DPTR,#numRowReads
0188 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 204
018B 900000      R     MOV     DPTR,#context
018E E0                MOVX    A,@DPTR
018F FB                MOV     R3,A
0190 A3                INC     DPTR
0191 E0                MOVX    A,@DPTR
0192 FA                MOV     R2,A
0193 A3                INC     DPTR
0194 E0                MOVX    A,@DPTR
0195 2416              ADD     A,#016H
0197 F9                MOV     R1,A
0198 E4                CLR     A
0199 3A                ADDC    A,R2
019A FA                MOV     R2,A
019B 120000      E     LCALL   ?C?LLDPTR0
019E C000              PUSH    AR0
01A0 C001              PUSH    AR1
01A2 C002              PUSH    AR2
01A4 C003              PUSH    AR3
01A6 900000      R     MOV     DPTR,#context
01A9 E0                MOVX    A,@DPTR
01AA FB                MOV     R3,A
01AB A3                INC     DPTR
01AC E0                MOVX    A,@DPTR
01AD FA                MOV     R2,A
01AE A3                INC     DPTR
01AF E0                MOVX    A,@DPTR
01B0 2408              ADD     A,#08H
01B2 F9                MOV     R1,A
01B3 E4                CLR     A
01B4 3A                ADDC    A,R2
01B5 FA                MOV     R2,A
01B6 120000      E     LCALL   ?C?LLDPTR
01B9 D003              POP     AR3
01BB D002              POP     AR2
01BD D001              POP     AR1
01BF D000              POP     AR0
01C1 C3                CLR     C
01C2 EF                MOV     A,R7
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 39  

01C3 9B                SUBB    A,R3
01C4 FF                MOV     R7,A
01C5 EE                MOV     A,R6
01C6 9A                SUBB    A,R2
01C7 FE                MOV     R6,A
01C8 ED                MOV     A,R5
01C9 99                SUBB    A,R1
01CA FD                MOV     R5,A
01CB EC                MOV     A,R4
01CC 98                SUBB    A,R0
01CD FC                MOV     R4,A
01CE C004              PUSH    AR4
01D0 C005              PUSH    AR5
01D2 C006              PUSH    AR6
01D4 C007              PUSH    AR7
01D6 900000      R     MOV     DPTR,#context
01D9 E0                MOVX    A,@DPTR
01DA FB                MOV     R3,A
01DB A3                INC     DPTR
01DC E0                MOVX    A,@DPTR
01DD FA                MOV     R2,A
01DE A3                INC     DPTR
01DF E0                MOVX    A,@DPTR
01E0 2404              ADD     A,#04H
01E2 F9                MOV     R1,A
01E3 E4                CLR     A
01E4 3A                ADDC    A,R2
01E5 FA                MOV     R2,A
01E6 120000      E     LCALL   ?C?LLDPTR
01E9 E4                CLR     A
01EA FB                MOV     R3,A
01EB 7A01              MOV     R2,#01H
01ED F9                MOV     R1,A
01EE F8                MOV     R0,A
01EF 120000      E     LCALL   ?C?LMUL
01F2 A804              MOV     R0,AR4
01F4 A905              MOV     R1,AR5
01F6 AA06              MOV     R2,AR6
01F8 AB07              MOV     R3,AR7
01FA D007              POP     AR7
01FC D006              POP     AR6
01FE D005              POP     AR5
0200 D004              POP     AR4
0202 120000      E     LCALL   ?C?ULDIV
0205 C004              PUSH    AR4
0207 C005              PUSH    AR5
0209 C006              PUSH    AR6
020B C007              PUSH    AR7
020D 900000      R     MOV     DPTR,#context
0210 E0                MOVX    A,@DPTR
0211 FB                MOV     R3,A
0212 A3                INC     DPTR
0213 E0                MOVX    A,@DPTR
0214 FA                MOV     R2,A
0215 A3                INC     DPTR
0216 E0                MOVX    A,@DPTR
0217 2404              ADD     A,#04H
0219 F9                MOV     R1,A
021A E4                CLR     A
021B 3A                ADDC    A,R2
021C FA                MOV     R2,A
021D 120000      E     LCALL   ?C?LLDPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 40  

0220 E4                CLR     A
0221 FB                MOV     R3,A
0222 7A01              MOV     R2,#01H
0224 F9                MOV     R1,A
0225 F8                MOV     R0,A
0226 120000      E     LCALL   ?C?LMUL
0229 D003              POP     AR3
022B D002              POP     AR2
022D D001              POP     AR1
022F D000              POP     AR0
0231 120000      E     LCALL   ?C?LMUL
0234 900000      R     MOV     DPTR,#context
0237 E0                MOVX    A,@DPTR
0238 FB                MOV     R3,A
0239 A3                INC     DPTR
023A E0                MOVX    A,@DPTR
023B FA                MOV     R2,A
023C A3                INC     DPTR
023D E0                MOVX    A,@DPTR
023E 2416              ADD     A,#016H
0240 F9                MOV     R1,A
0241 E4                CLR     A
0242 3A                ADDC    A,R2
0243 FA                MOV     R2,A
0244 120000      E     LCALL   ?C?LLDPTR0
0247 EF                MOV     A,R7
0248 2B                ADD     A,R3
0249 FF                MOV     R7,A
024A EE                MOV     A,R6
024B 3A                ADDC    A,R2
024C FE                MOV     R6,A
024D ED                MOV     A,R5
024E 39                ADDC    A,R1
024F FD                MOV     R5,A
0250 EC                MOV     A,R4
0251 38                ADDC    A,R0
0252 FC                MOV     R4,A
0253 900000      R     MOV     DPTR,#curEepromBaseAddr
0256 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 210
0259 E4                CLR     A
025A FF                MOV     R7,A
025B FE                MOV     R6,A
025C FD                MOV     R5,A
025D FC                MOV     R4,A
025E 900000      R     MOV     DPTR,#i
0261 120000      E     LCALL   ?C?LSTXDATA
0264         ?C0008:
0264 900000      R     MOV     DPTR,#context
0267 E0                MOVX    A,@DPTR
0268 FB                MOV     R3,A
0269 A3                INC     DPTR
026A E0                MOVX    A,@DPTR
026B FA                MOV     R2,A
026C A3                INC     DPTR
026D E0                MOVX    A,@DPTR
026E 2404              ADD     A,#04H
0270 F9                MOV     R1,A
0271 E4                CLR     A
0272 3A                ADDC    A,R2
0273 FA                MOV     R2,A
0274 120000      E     LCALL   ?C?LLDPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 41  

0277 900000      R     MOV     DPTR,#i
027A E0                MOVX    A,@DPTR
027B F8                MOV     R0,A
027C A3                INC     DPTR
027D E0                MOVX    A,@DPTR
027E F9                MOV     R1,A
027F A3                INC     DPTR
0280 E0                MOVX    A,@DPTR
0281 FA                MOV     R2,A
0282 A3                INC     DPTR
0283 E0                MOVX    A,@DPTR
0284 FB                MOV     R3,A
0285 C3                CLR     C
0286 120000      E     LCALL   ?C?ULCMP
0289 4003              JC      $ + 5H
028B 020000      R     LJMP    ?C0009
                                           ; SOURCE LINE # 211
                                           ; SOURCE LINE # 212
028E E4                CLR     A
028F 7F80              MOV     R7,#080H
0291 FE                MOV     R6,A
0292 FD                MOV     R5,A
0293 FC                MOV     R4,A
0294 900000      R     MOV     DPTR,#i
0297 E0                MOVX    A,@DPTR
0298 F8                MOV     R0,A
0299 A3                INC     DPTR
029A E0                MOVX    A,@DPTR
029B A3                INC     DPTR
029C E0                MOVX    A,@DPTR
029D A3                INC     DPTR
029E E0                MOVX    A,@DPTR
029F 120000      E     LCALL   ?C?LMUL
02A2 900000      R     MOV     DPTR,#rdAddr
02A5 E0                MOVX    A,@DPTR
02A6 F8                MOV     R0,A
02A7 A3                INC     DPTR
02A8 E0                MOVX    A,@DPTR
02A9 F9                MOV     R1,A
02AA A3                INC     DPTR
02AB E0                MOVX    A,@DPTR
02AC FA                MOV     R2,A
02AD A3                INC     DPTR
02AE E0                MOVX    A,@DPTR
02AF FB                MOV     R3,A
02B0 C3                CLR     C
02B1 120000      E     LCALL   ?C?ULCMP
02B4 5004              JNC     ?C0012
02B6 7F00              MOV     R7,#00H
02B8 803E              SJMP    ?C0013
02BA         ?C0012:
02BA E4                CLR     A
02BB 7F80              MOV     R7,#080H
02BD FE                MOV     R6,A
02BE FD                MOV     R5,A
02BF FC                MOV     R4,A
02C0 900000      R     MOV     DPTR,#i
02C3 E0                MOVX    A,@DPTR
02C4 F8                MOV     R0,A
02C5 A3                INC     DPTR
02C6 E0                MOVX    A,@DPTR
02C7 F9                MOV     R1,A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 42  

02C8 A3                INC     DPTR
02C9 E0                MOVX    A,@DPTR
02CA FA                MOV     R2,A
02CB A3                INC     DPTR
02CC E0                MOVX    A,@DPTR
02CD FB                MOV     R3,A
02CE 120000      E     LCALL   ?C?LMUL
02D1 EF                MOV     A,R7
02D2 247F              ADD     A,#07FH
02D4 FF                MOV     R7,A
02D5 E4                CLR     A
02D6 3E                ADDC    A,R6
02D7 FE                MOV     R6,A
02D8 E4                CLR     A
02D9 3D                ADDC    A,R5
02DA FD                MOV     R5,A
02DB E4                CLR     A
02DC 3C                ADDC    A,R4
02DD FC                MOV     R4,A
02DE 900000      R     MOV     DPTR,#rdAddr
02E1 E0                MOVX    A,@DPTR
02E2 F8                MOV     R0,A
02E3 A3                INC     DPTR
02E4 E0                MOVX    A,@DPTR
02E5 F9                MOV     R1,A
02E6 A3                INC     DPTR
02E7 E0                MOVX    A,@DPTR
02E8 FA                MOV     R2,A
02E9 A3                INC     DPTR
02EA E0                MOVX    A,@DPTR
02EB FB                MOV     R3,A
02EC D3                SETB    C
02ED 120000      E     LCALL   ?C?ULCMP
02F0 4004              JC      ?C0014
02F2 7F00              MOV     R7,#00H
02F4 8002              SJMP    ?C0015
02F6         ?C0014:
02F6 7F01              MOV     R7,#01H
02F8         ?C0015:
02F8         ?C0013:
02F8 EF                MOV     A,R7
02F9 602A              JZ      ?C0010
                                           ; SOURCE LINE # 213
                                           ; SOURCE LINE # 214
02FB 900000      R     MOV     DPTR,#i
02FE E0                MOVX    A,@DPTR
02FF FC                MOV     R4,A
0300 A3                INC     DPTR
0301 E0                MOVX    A,@DPTR
0302 FD                MOV     R5,A
0303 A3                INC     DPTR
0304 E0                MOVX    A,@DPTR
0305 FE                MOV     R6,A
0306 A3                INC     DPTR
0307 E0                MOVX    A,@DPTR
0308 FF                MOV     R7,A
0309 900000      R     MOV     DPTR,#dataStartEepromRowNum
030C 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 215
030F 900000      R     MOV     DPTR,#dataStartEepromRowNum
0312 E0                MOVX    A,@DPTR
0313 FC                MOV     R4,A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 43  

0314 A3                INC     DPTR
0315 E0                MOVX    A,@DPTR
0316 FD                MOV     R5,A
0317 A3                INC     DPTR
0318 E0                MOVX    A,@DPTR
0319 FE                MOV     R6,A
031A A3                INC     DPTR
031B E0                MOVX    A,@DPTR
031C FF                MOV     R7,A
031D 900000      R     MOV     DPTR,#curRdEepromRowNum
0320 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 216
0323 8028              SJMP    ?C0009
                                           ; SOURCE LINE # 217
                                           ; SOURCE LINE # 218
0325         ?C0010:
0325 900000      R     MOV     DPTR,#i
0328 E0                MOVX    A,@DPTR
0329 FC                MOV     R4,A
032A A3                INC     DPTR
032B E0                MOVX    A,@DPTR
032C FD                MOV     R5,A
032D A3                INC     DPTR
032E E0                MOVX    A,@DPTR
032F FE                MOV     R6,A
0330 A3                INC     DPTR
0331 E0                MOVX    A,@DPTR
0332 FF                MOV     R7,A
0333 E4                CLR     A
0334 FA                MOV     R2,A
0335 F9                MOV     R1,A
0336 F8                MOV     R0,A
0337 EF                MOV     A,R7
0338 2401              ADD     A,#01H
033A FF                MOV     R7,A
033B EA                MOV     A,R2
033C 3E                ADDC    A,R6
033D FE                MOV     R6,A
033E E9                MOV     A,R1
033F 3D                ADDC    A,R5
0340 FD                MOV     R5,A
0341 E8                MOV     A,R0
0342 3C                ADDC    A,R4
0343 FC                MOV     R4,A
0344 900000      R     MOV     DPTR,#i
0347 120000      E     LCALL   ?C?LSTXDATA
034A 020000      R     LJMP    ?C0008
034D         ?C0009:
                                           ; SOURCE LINE # 221
034D 900000      R     MOV     DPTR,#context
0350 E0                MOVX    A,@DPTR
0351 FB                MOV     R3,A
0352 A3                INC     DPTR
0353 E0                MOVX    A,@DPTR
0354 FA                MOV     R2,A
0355 A3                INC     DPTR
0356 E0                MOVX    A,@DPTR
0357 2408              ADD     A,#08H
0359 F9                MOV     R1,A
035A E4                CLR     A
035B 3A                ADDC    A,R2
035C FA                MOV     R2,A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 44  

035D 120000      E     LCALL   ?C?LLDPTR
0360 900000      R     MOV     DPTR,#curEepromBaseAddr
0363 E0                MOVX    A,@DPTR
0364 F8                MOV     R0,A
0365 A3                INC     DPTR
0366 E0                MOVX    A,@DPTR
0367 F9                MOV     R1,A
0368 A3                INC     DPTR
0369 E0                MOVX    A,@DPTR
036A FA                MOV     R2,A
036B A3                INC     DPTR
036C E0                MOVX    A,@DPTR
036D FB                MOV     R3,A
036E C3                CLR     C
036F EF                MOV     A,R7
0370 9B                SUBB    A,R3
0371 FF                MOV     R7,A
0372 EE                MOV     A,R6
0373 9A                SUBB    A,R2
0374 FE                MOV     R6,A
0375 ED                MOV     A,R5
0376 99                SUBB    A,R1
0377 FD                MOV     R5,A
0378 EC                MOV     A,R4
0379 98                SUBB    A,R0
037A FC                MOV     R4,A
037B E4                CLR     A
037C FB                MOV     R3,A
037D 7A01              MOV     R2,#01H
037F F9                MOV     R1,A
0380 F8                MOV     R0,A
0381 120000      E     LCALL   ?C?ULDIV
0384 900000      R     MOV     DPTR,#actEepromRowNum
0387 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 224
038A 900000      R     MOV     DPTR,#context
038D E0                MOVX    A,@DPTR
038E FB                MOV     R3,A
038F A3                INC     DPTR
0390 E0                MOVX    A,@DPTR
0391 FA                MOV     R2,A
0392 A3                INC     DPTR
0393 E0                MOVX    A,@DPTR
0394 2410              ADD     A,#010H
0396 F9                MOV     R1,A
0397 E4                CLR     A
0398 3A                ADDC    A,R2
0399 FA                MOV     R2,A
039A 120000      E     LCALL   ?C?LLDPTR
039D D3                SETB    C
039E EF                MOV     A,R7
039F 9401              SUBB    A,#01H
03A1 EE                MOV     A,R6
03A2 9400              SUBB    A,#00H
03A4 5003              JNC     $ + 5H
03A6 020000      R     LJMP    ?C0016
                                           ; SOURCE LINE # 225
                                           ; SOURCE LINE # 226
03A9 900000      R     MOV     DPTR,#numRowReads
03AC E0                MOVX    A,@DPTR
03AD FC                MOV     R4,A
03AE A3                INC     DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 45  

03AF E0                MOVX    A,@DPTR
03B0 FD                MOV     R5,A
03B1 A3                INC     DPTR
03B2 E0                MOVX    A,@DPTR
03B3 FE                MOV     R6,A
03B4 A3                INC     DPTR
03B5 E0                MOVX    A,@DPTR
03B6 24FF              ADD     A,#0FFH
03B8 FF                MOV     R7,A
03B9 EE                MOV     A,R6
03BA 34FF              ADDC    A,#0FFH
03BC FE                MOV     R6,A
03BD ED                MOV     A,R5
03BE 34FF              ADDC    A,#0FFH
03C0 FD                MOV     R5,A
03C1 EC                MOV     A,R4
03C2 34FF              ADDC    A,#0FFH
03C4 FC                MOV     R4,A
03C5 900000      R     MOV     DPTR,#dataStartEepromRowNum
03C8 E0                MOVX    A,@DPTR
03C9 F8                MOV     R0,A
03CA A3                INC     DPTR
03CB E0                MOVX    A,@DPTR
03CC F9                MOV     R1,A
03CD A3                INC     DPTR
03CE E0                MOVX    A,@DPTR
03CF FA                MOV     R2,A
03D0 A3                INC     DPTR
03D1 E0                MOVX    A,@DPTR
03D2 2F                ADD     A,R7
03D3 FF                MOV     R7,A
03D4 EA                MOV     A,R2
03D5 3E                ADDC    A,R6
03D6 FE                MOV     R6,A
03D7 E9                MOV     A,R1
03D8 3D                ADDC    A,R5
03D9 FD                MOV     R5,A
03DA E8                MOV     A,R0
03DB 3C                ADDC    A,R4
03DC FC                MOV     R4,A
03DD 900000      R     MOV     DPTR,#dataEndEepromRowNum
03E0 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 229
03E3 900000      R     MOV     DPTR,#actEepromRowNum
03E6 E0                MOVX    A,@DPTR
03E7 FC                MOV     R4,A
03E8 A3                INC     DPTR
03E9 E0                MOVX    A,@DPTR
03EA FD                MOV     R5,A
03EB A3                INC     DPTR
03EC E0                MOVX    A,@DPTR
03ED FE                MOV     R6,A
03EE A3                INC     DPTR
03EF E0                MOVX    A,@DPTR
03F0 FF                MOV     R7,A
03F1 900000      R     MOV     DPTR,#dataStartEepromRowNum
03F4 E0                MOVX    A,@DPTR
03F5 F8                MOV     R0,A
03F6 A3                INC     DPTR
03F7 E0                MOVX    A,@DPTR
03F8 F9                MOV     R1,A
03F9 A3                INC     DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 46  

03FA E0                MOVX    A,@DPTR
03FB FA                MOV     R2,A
03FC A3                INC     DPTR
03FD E0                MOVX    A,@DPTR
03FE FB                MOV     R3,A
03FF D3                SETB    C
0400 120000      E     LCALL   ?C?ULCMP
0403 4004              JC      ?C0017
0405 7F01              MOV     R7,#01H
0407 8028              SJMP    ?C0018
0409         ?C0017:
0409 900000      R     MOV     DPTR,#actEepromRowNum
040C E0                MOVX    A,@DPTR
040D FC                MOV     R4,A
040E A3                INC     DPTR
040F E0                MOVX    A,@DPTR
0410 FD                MOV     R5,A
0411 A3                INC     DPTR
0412 E0                MOVX    A,@DPTR
0413 FE                MOV     R6,A
0414 A3                INC     DPTR
0415 E0                MOVX    A,@DPTR
0416 FF                MOV     R7,A
0417 900000      R     MOV     DPTR,#dataEndEepromRowNum
041A E0                MOVX    A,@DPTR
041B F8                MOV     R0,A
041C A3                INC     DPTR
041D E0                MOVX    A,@DPTR
041E F9                MOV     R1,A
041F A3                INC     DPTR
0420 E0                MOVX    A,@DPTR
0421 FA                MOV     R2,A
0422 A3                INC     DPTR
0423 E0                MOVX    A,@DPTR
0424 FB                MOV     R3,A
0425 D3                SETB    C
0426 120000      E     LCALL   ?C?ULCMP
0429 4004              JC      ?C0019
042B 7F01              MOV     R7,#01H
042D 8002              SJMP    ?C0020
042F         ?C0019:
042F 7F00              MOV     R7,#00H
0431         ?C0020:
0431         ?C0018:
0431 E4                CLR     A
0432 FC                MOV     R4,A
0433 FD                MOV     R5,A
0434 FE                MOV     R6,A
0435 900000      R     MOV     DPTR,#updateAddrFlag
0438 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 231
043B         ?C0016:
                                           ; SOURCE LINE # 234
043B E4                CLR     A
043C FF                MOV     R7,A
043D FE                MOV     R6,A
043E FD                MOV     R5,A
043F FC                MOV     R4,A
0440 900000      R     MOV     DPTR,#i
0443 120000      E     LCALL   ?C?LSTXDATA
0446         ?C0021:
0446 900000      R     MOV     DPTR,#numRowReads
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 47  

0449 E0                MOVX    A,@DPTR
044A FC                MOV     R4,A
044B A3                INC     DPTR
044C E0                MOVX    A,@DPTR
044D FD                MOV     R5,A
044E A3                INC     DPTR
044F E0                MOVX    A,@DPTR
0450 FE                MOV     R6,A
0451 A3                INC     DPTR
0452 E0                MOVX    A,@DPTR
0453 FF                MOV     R7,A
0454 900000      R     MOV     DPTR,#i
0457 E0                MOVX    A,@DPTR
0458 F8                MOV     R0,A
0459 A3                INC     DPTR
045A E0                MOVX    A,@DPTR
045B F9                MOV     R1,A
045C A3                INC     DPTR
045D E0                MOVX    A,@DPTR
045E FA                MOV     R2,A
045F A3                INC     DPTR
0460 E0                MOVX    A,@DPTR
0461 FB                MOV     R3,A
0462 C3                CLR     C
0463 120000      E     LCALL   ?C?ULCMP
0466 4003              JC      $ + 5H
0468 020000      R     LJMP    ?C0022
                                           ; SOURCE LINE # 235
                                           ; SOURCE LINE # 236
046B E4                CLR     A
046C FF                MOV     R7,A
046D 7E01              MOV     R6,#01H
046F FD                MOV     R5,A
0470 FC                MOV     R4,A
0471 900000      R     MOV     DPTR,#curRdEepromRowNum
0474 E0                MOVX    A,@DPTR
0475 F8                MOV     R0,A
0476 A3                INC     DPTR
0477 E0                MOVX    A,@DPTR
0478 F9                MOV     R1,A
0479 A3                INC     DPTR
047A E0                MOVX    A,@DPTR
047B FA                MOV     R2,A
047C A3                INC     DPTR
047D E0                MOVX    A,@DPTR
047E FB                MOV     R3,A
047F 120000      E     LCALL   ?C?LMUL
0482 900000      R     MOV     DPTR,#curEepromBaseAddr
0485 E0                MOVX    A,@DPTR
0486 F8                MOV     R0,A
0487 A3                INC     DPTR
0488 E0                MOVX    A,@DPTR
0489 F9                MOV     R1,A
048A A3                INC     DPTR
048B E0                MOVX    A,@DPTR
048C FA                MOV     R2,A
048D A3                INC     DPTR
048E E0                MOVX    A,@DPTR
048F 2F                ADD     A,R7
0490 FF                MOV     R7,A
0491 EA                MOV     A,R2
0492 3E                ADDC    A,R6
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 48  

0493 FE                MOV     R6,A
0494 E9                MOV     A,R1
0495 3D                ADDC    A,R5
0496 FD                MOV     R5,A
0497 E8                MOV     A,R0
0498 3C                ADDC    A,R4
0499 FC                MOV     R4,A
049A 900000      R     MOV     DPTR,#startRowAddr
049D 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 237
04A0 900000      R     MOV     DPTR,#rdAddr
04A3 E0                MOVX    A,@DPTR
04A4 FC                MOV     R4,A
04A5 A3                INC     DPTR
04A6 E0                MOVX    A,@DPTR
04A7 FD                MOV     R5,A
04A8 A3                INC     DPTR
04A9 E0                MOVX    A,@DPTR
04AA FE                MOV     R6,A
04AB A3                INC     DPTR
04AC E0                MOVX    A,@DPTR
04AD 547F              ANL     A,#07FH
04AF FF                MOV     R7,A
04B0 E4                CLR     A
04B1 EF                MOV     A,R7
04B2 2480              ADD     A,#080H
04B4 FF                MOV     R7,A
04B5 E4                CLR     A
04B6 33                RLC     A
04B7 FE                MOV     R6,A
04B8 E4                CLR     A
04B9 33                RLC     A
04BA FD                MOV     R5,A
04BB E4                CLR     A
04BC 33                RLC     A
04BD FC                MOV     R4,A
04BE 900000      R     MOV     DPTR,#curRowOffset
04C1 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 242
04C4 900000      R     MOV     DPTR,#i
04C7 E0                MOVX    A,@DPTR
04C8 FC                MOV     R4,A
04C9 A3                INC     DPTR
04CA E0                MOVX    A,@DPTR
04CB FD                MOV     R5,A
04CC A3                INC     DPTR
04CD E0                MOVX    A,@DPTR
04CE FE                MOV     R6,A
04CF A3                INC     DPTR
04D0 E0                MOVX    A,@DPTR
04D1 2401              ADD     A,#01H
04D3 FF                MOV     R7,A
04D4 E4                CLR     A
04D5 3E                ADDC    A,R6
04D6 FE                MOV     R6,A
04D7 E4                CLR     A
04D8 3D                ADDC    A,R5
04D9 FD                MOV     R5,A
04DA E4                CLR     A
04DB 3C                ADDC    A,R4
04DC FC                MOV     R4,A
04DD 900000      R     MOV     DPTR,#numRowReads
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 49  

04E0 E0                MOVX    A,@DPTR
04E1 F8                MOV     R0,A
04E2 A3                INC     DPTR
04E3 E0                MOVX    A,@DPTR
04E4 F9                MOV     R1,A
04E5 A3                INC     DPTR
04E6 E0                MOVX    A,@DPTR
04E7 FA                MOV     R2,A
04E8 A3                INC     DPTR
04E9 E0                MOVX    A,@DPTR
04EA FB                MOV     R3,A
04EB D3                SETB    C
04EC 120000      E     LCALL   ?C?ULCMP
04EF 4029              JC      ?C0024
                                           ; SOURCE LINE # 243
                                           ; SOURCE LINE # 244
04F1 900000      R     MOV     DPTR,#rdAddr
04F4 E0                MOVX    A,@DPTR
04F5 FC                MOV     R4,A
04F6 A3                INC     DPTR
04F7 E0                MOVX    A,@DPTR
04F8 FD                MOV     R5,A
04F9 A3                INC     DPTR
04FA E0                MOVX    A,@DPTR
04FB FE                MOV     R6,A
04FC A3                INC     DPTR
04FD E0                MOVX    A,@DPTR
04FE 547F              ANL     A,#07FH
0500 FB                MOV     R3,A
0501 E4                CLR     A
0502 7480              MOV     A,#080H
0504 9B                SUBB    A,R3
0505 FF                MOV     R7,A
0506 E4                CLR     A
0507 9400              SUBB    A,#00H
0509 FE                MOV     R6,A
050A E4                CLR     A
050B 9400              SUBB    A,#00H
050D FD                MOV     R5,A
050E E4                CLR     A
050F 9400              SUBB    A,#00H
0511 FC                MOV     R4,A
0512 900000      R     MOV     DPTR,#numBytesToRead
0515 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 245
0518 8014              SJMP    ?C0025
051A         ?C0024:
                                           ; SOURCE LINE # 247
                                           ; SOURCE LINE # 248
051A 900000      R     MOV     DPTR,#rdSize
051D E0                MOVX    A,@DPTR
051E FC                MOV     R4,A
051F A3                INC     DPTR
0520 E0                MOVX    A,@DPTR
0521 FD                MOV     R5,A
0522 A3                INC     DPTR
0523 E0                MOVX    A,@DPTR
0524 FE                MOV     R6,A
0525 A3                INC     DPTR
0526 E0                MOVX    A,@DPTR
0527 FF                MOV     R7,A
0528 900000      R     MOV     DPTR,#numBytesToRead
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 50  

052B 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 249
052E         ?C0025:
                                           ; SOURCE LINE # 254
052E 900000      R     MOV     DPTR,#updateAddrFlag
0531 E0                MOVX    A,@DPTR
0532 A3                INC     DPTR
0533 E0                MOVX    A,@DPTR
0534 A3                INC     DPTR
0535 E0                MOVX    A,@DPTR
0536 FE                MOV     R6,A
0537 A3                INC     DPTR
0538 E0                MOVX    A,@DPTR
0539 4E                ORL     A,R6
053A 7003              JNZ     $ + 5H
053C 020000      R     LJMP    ?C0026
053F 900000      R     MOV     DPTR,#actEepromRowNum
0542 E0                MOVX    A,@DPTR
0543 FC                MOV     R4,A
0544 A3                INC     DPTR
0545 E0                MOVX    A,@DPTR
0546 FD                MOV     R5,A
0547 A3                INC     DPTR
0548 E0                MOVX    A,@DPTR
0549 FE                MOV     R6,A
054A A3                INC     DPTR
054B E0                MOVX    A,@DPTR
054C FF                MOV     R7,A
054D A3                INC     DPTR
054E E0                MOVX    A,@DPTR
054F F8                MOV     R0,A
0550 A3                INC     DPTR
0551 E0                MOVX    A,@DPTR
0552 F9                MOV     R1,A
0553 A3                INC     DPTR
0554 E0                MOVX    A,@DPTR
0555 FA                MOV     R2,A
0556 A3                INC     DPTR
0557 E0                MOVX    A,@DPTR
0558 FB                MOV     R3,A
0559 D3                SETB    C
055A 120000      E     LCALL   ?C?ULCMP
055D 5003              JNC     $ + 5H
055F 020000      R     LJMP    ?C0026
                                           ; SOURCE LINE # 255
                                           ; SOURCE LINE # 256
0562 900000      R     MOV     DPTR,#startRowAddr
0565 E0                MOVX    A,@DPTR
0566 FC                MOV     R4,A
0567 A3                INC     DPTR
0568 E0                MOVX    A,@DPTR
0569 FD                MOV     R5,A
056A A3                INC     DPTR
056B E0                MOVX    A,@DPTR
056C FE                MOV     R6,A
056D A3                INC     DPTR
056E E0                MOVX    A,@DPTR
056F FF                MOV     R7,A
0570 C004              PUSH    AR4
0572 C005              PUSH    AR5
0574 C006              PUSH    AR6
0576 C007              PUSH    AR7
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 51  

0578 900000      R     MOV     DPTR,#context
057B E0                MOVX    A,@DPTR
057C FB                MOV     R3,A
057D A3                INC     DPTR
057E E0                MOVX    A,@DPTR
057F FA                MOV     R2,A
0580 A3                INC     DPTR
0581 E0                MOVX    A,@DPTR
0582 2404              ADD     A,#04H
0584 F9                MOV     R1,A
0585 E4                CLR     A
0586 3A                ADDC    A,R2
0587 FA                MOV     R2,A
0588 120000      E     LCALL   ?C?LLDPTR
058B E4                CLR     A
058C FB                MOV     R3,A
058D 7A01              MOV     R2,#01H
058F F9                MOV     R1,A
0590 F8                MOV     R0,A
0591 120000      E     LCALL   ?C?LMUL
0594 A804              MOV     R0,AR4
0596 A905              MOV     R1,AR5
0598 AA06              MOV     R2,AR6
059A AB07              MOV     R3,AR7
059C D007              POP     AR7
059E D006              POP     AR6
05A0 D005              POP     AR5
05A2 D004              POP     AR4
05A4 C3                CLR     C
05A5 EF                MOV     A,R7
05A6 9B                SUBB    A,R3
05A7 FF                MOV     R7,A
05A8 EE                MOV     A,R6
05A9 9A                SUBB    A,R2
05AA FE                MOV     R6,A
05AB ED                MOV     A,R5
05AC 99                SUBB    A,R1
05AD FD                MOV     R5,A
05AE EC                MOV     A,R4
05AF 98                SUBB    A,R0
05B0 FC                MOV     R4,A
05B1 900000      R     MOV     DPTR,#startRowAddr
05B4 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 258
05B7 900000      R     MOV     DPTR,#context
05BA E0                MOVX    A,@DPTR
05BB FB                MOV     R3,A
05BC A3                INC     DPTR
05BD E0                MOVX    A,@DPTR
05BE FA                MOV     R2,A
05BF A3                INC     DPTR
05C0 E0                MOVX    A,@DPTR
05C1 2416              ADD     A,#016H
05C3 F9                MOV     R1,A
05C4 E4                CLR     A
05C5 3A                ADDC    A,R2
05C6 FA                MOV     R2,A
05C7 120000      E     LCALL   ?C?LLDPTR
05CA 900000      R     MOV     DPTR,#startRowAddr
05CD E0                MOVX    A,@DPTR
05CE F8                MOV     R0,A
05CF A3                INC     DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 52  

05D0 E0                MOVX    A,@DPTR
05D1 F9                MOV     R1,A
05D2 A3                INC     DPTR
05D3 E0                MOVX    A,@DPTR
05D4 FA                MOV     R2,A
05D5 A3                INC     DPTR
05D6 E0                MOVX    A,@DPTR
05D7 FB                MOV     R3,A
05D8 C3                CLR     C
05D9 120000      E     LCALL   ?C?ULCMP
05DC 5068              JNC     ?C0026
                                           ; SOURCE LINE # 259
                                           ; SOURCE LINE # 260
05DE 900000      R     MOV     DPTR,#context
05E1 E0                MOVX    A,@DPTR
05E2 FB                MOV     R3,A
05E3 A3                INC     DPTR
05E4 E0                MOVX    A,@DPTR
05E5 FA                MOV     R2,A
05E6 A3                INC     DPTR
05E7 E0                MOVX    A,@DPTR
05E8 2404              ADD     A,#04H
05EA F9                MOV     R1,A
05EB E4                CLR     A
05EC 3A                ADDC    A,R2
05ED FA                MOV     R2,A
05EE 120000      E     LCALL   ?C?LLDPTR
05F1 900000      R     MOV     DPTR,#curRdEepromRowNum
05F4 E0                MOVX    A,@DPTR
05F5 F8                MOV     R0,A
05F6 A3                INC     DPTR
05F7 E0                MOVX    A,@DPTR
05F8 F9                MOV     R1,A
05F9 A3                INC     DPTR
05FA E0                MOVX    A,@DPTR
05FB FA                MOV     R2,A
05FC A3                INC     DPTR
05FD E0                MOVX    A,@DPTR
05FE FB                MOV     R3,A
05FF C3                CLR     C
0600 EF                MOV     A,R7
0601 9B                SUBB    A,R3
0602 FF                MOV     R7,A
0603 EE                MOV     A,R6
0604 9A                SUBB    A,R2
0605 FE                MOV     R6,A
0606 ED                MOV     A,R5
0607 99                SUBB    A,R1
0608 FD                MOV     R5,A
0609 EC                MOV     A,R4
060A 98                SUBB    A,R0
060B FC                MOV     R4,A
060C E4                CLR     A
060D FB                MOV     R3,A
060E 7A01              MOV     R2,#01H
0610 F9                MOV     R1,A
0611 F8                MOV     R0,A
0612 120000      E     LCALL   ?C?LMUL
0615 C004              PUSH    AR4
0617 C005              PUSH    AR5
0619 C006              PUSH    AR6
061B C007              PUSH    AR7
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 53  

061D 900000      R     MOV     DPTR,#context
0620 E0                MOVX    A,@DPTR
0621 FB                MOV     R3,A
0622 A3                INC     DPTR
0623 E0                MOVX    A,@DPTR
0624 FA                MOV     R2,A
0625 A3                INC     DPTR
0626 E0                MOVX    A,@DPTR
0627 F9                MOV     R1,A
0628 120000      E     LCALL   ?C?LLDPTR
062B D003              POP     AR3
062D D002              POP     AR2
062F D001              POP     AR1
0631 D000              POP     AR0
0633 C3                CLR     C
0634 EF                MOV     A,R7
0635 9B                SUBB    A,R3
0636 FF                MOV     R7,A
0637 EE                MOV     A,R6
0638 9A                SUBB    A,R2
0639 FE                MOV     R6,A
063A ED                MOV     A,R5
063B 99                SUBB    A,R1
063C FD                MOV     R5,A
063D EC                MOV     A,R4
063E 98                SUBB    A,R0
063F FC                MOV     R4,A
0640 900000      R     MOV     DPTR,#startRowAddr
0643 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 262
                                           ; SOURCE LINE # 263
0646         ?C0026:
                                           ; SOURCE LINE # 265
0646 900000      R     MOV     DPTR,#context
0649 E0                MOVX    A,@DPTR
064A FB                MOV     R3,A
064B A3                INC     DPTR
064C E0                MOVX    A,@DPTR
064D FA                MOV     R2,A
064E A3                INC     DPTR
064F E0                MOVX    A,@DPTR
0650 2414              ADD     A,#014H
0652 F9                MOV     R1,A
0653 E4                CLR     A
0654 3A                ADDC    A,R2
0655 FA                MOV     R2,A
0656 120000      E     LCALL   ?C?CLDPTR
0659 606E              JZ      ?C0028
                                           ; SOURCE LINE # 266
                                           ; SOURCE LINE # 270
065B 900000      R     MOV     DPTR,#eeData
065E E0                MOVX    A,@DPTR
065F FC                MOV     R4,A
0660 A3                INC     DPTR
0661 E0                MOVX    A,@DPTR
0662 FD                MOV     R5,A
0663 A3                INC     DPTR
0664 E0                MOVX    A,@DPTR
0665 FE                MOV     R6,A
0666 A3                INC     DPTR
0667 E0                MOVX    A,@DPTR
0668 FF                MOV     R7,A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 54  

0669 900000      R     MOV     DPTR,#?_CheckCrcAndCopy?BYTE+04H
066C 120000      E     LCALL   ?C?LSTXDATA
066F 900000      R     MOV     DPTR,#curRowOffset
0672 E0                MOVX    A,@DPTR
0673 FC                MOV     R4,A
0674 A3                INC     DPTR
0675 E0                MOVX    A,@DPTR
0676 FD                MOV     R5,A
0677 A3                INC     DPTR
0678 E0                MOVX    A,@DPTR
0679 FE                MOV     R6,A
067A A3                INC     DPTR
067B E0                MOVX    A,@DPTR
067C FF                MOV     R7,A
067D 900000      R     MOV     DPTR,#?_CheckCrcAndCopy?BYTE+08H
0680 120000      E     LCALL   ?C?LSTXDATA
0683 900000      R     MOV     DPTR,#numBytesToRead
0686 E0                MOVX    A,@DPTR
0687 FC                MOV     R4,A
0688 A3                INC     DPTR
0689 E0                MOVX    A,@DPTR
068A FD                MOV     R5,A
068B A3                INC     DPTR
068C E0                MOVX    A,@DPTR
068D FE                MOV     R6,A
068E A3                INC     DPTR
068F E0                MOVX    A,@DPTR
0690 FF                MOV     R7,A
0691 900000      R     MOV     DPTR,#?_CheckCrcAndCopy?BYTE+0CH
0694 120000      E     LCALL   ?C?LSTXDATA
0697 900000      R     MOV     DPTR,#context
069A E0                MOVX    A,@DPTR
069B F9                MOV     R1,A
069C A3                INC     DPTR
069D E0                MOVX    A,@DPTR
069E FA                MOV     R2,A
069F A3                INC     DPTR
06A0 E0                MOVX    A,@DPTR
06A1 900000      R     MOV     DPTR,#?_CheckCrcAndCopy?BYTE+010H
06A4 C9                XCH     A,R1
06A5 F0                MOVX    @DPTR,A
06A6 A3                INC     DPTR
06A7 EA                MOV     A,R2
06A8 F0                MOVX    @DPTR,A
06A9 A3                INC     DPTR
06AA E9                MOV     A,R1
06AB F0                MOVX    @DPTR,A
06AC 900000      R     MOV     DPTR,#startRowAddr
06AF E0                MOVX    A,@DPTR
06B0 FC                MOV     R4,A
06B1 A3                INC     DPTR
06B2 E0                MOVX    A,@DPTR
06B3 FD                MOV     R5,A
06B4 A3                INC     DPTR
06B5 E0                MOVX    A,@DPTR
06B6 FE                MOV     R6,A
06B7 A3                INC     DPTR
06B8 E0                MOVX    A,@DPTR
06B9 FF                MOV     R7,A
06BA 120000      R     LCALL   _CheckCrcAndCopy
06BD 900000      R     MOV     DPTR,#ret
06C0 EF                MOV     A,R7
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 55  

06C1 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 272
06C2 605F              JZ      ?C0030
                                           ; SOURCE LINE # 273
                                           ; SOURCE LINE # 274
06C4 020000      R     LJMP    ?C0022
                                           ; SOURCE LINE # 275
06C7         ?C0029:
                                           ; SOURCE LINE # 276
06C7 805A              SJMP    ?C0030
06C9         ?C0028:
                                           ; SOURCE LINE # 278
                                           ; SOURCE LINE # 281
06C9 900000      R     MOV     DPTR,#numBytesToRead
06CC E0                MOVX    A,@DPTR
06CD A3                INC     DPTR
06CE E0                MOVX    A,@DPTR
06CF A3                INC     DPTR
06D0 E0                MOVX    A,@DPTR
06D1 FE                MOV     R6,A
06D2 A3                INC     DPTR
06D3 E0                MOVX    A,@DPTR
06D4 FF                MOV     R7,A
06D5 C006              PUSH    AR6
06D7 C007              PUSH    AR7
06D9 900000      R     MOV     DPTR,#curRowOffset
06DC E0                MOVX    A,@DPTR
06DD FC                MOV     R4,A
06DE A3                INC     DPTR
06DF E0                MOVX    A,@DPTR
06E0 FD                MOV     R5,A
06E1 A3                INC     DPTR
06E2 E0                MOVX    A,@DPTR
06E3 FE                MOV     R6,A
06E4 A3                INC     DPTR
06E5 E0                MOVX    A,@DPTR
06E6 FF                MOV     R7,A
06E7 A3                INC     DPTR
06E8 E0                MOVX    A,@DPTR
06E9 F8                MOV     R0,A
06EA A3                INC     DPTR
06EB E0                MOVX    A,@DPTR
06EC F9                MOV     R1,A
06ED A3                INC     DPTR
06EE E0                MOVX    A,@DPTR
06EF FA                MOV     R2,A
06F0 A3                INC     DPTR
06F1 E0                MOVX    A,@DPTR
06F2 2F                ADD     A,R7
06F3 FF                MOV     R7,A
06F4 EA                MOV     A,R2
06F5 3E                ADDC    A,R6
06F6 FE                MOV     R6,A
06F7 E9                MOV     A,R1
06F8 3D                ADDC    A,R5
06F9 FD                MOV     R5,A
06FA E8                MOV     A,R0
06FB 3C                ADDC    A,R4
06FC A907              MOV     R1,AR7
06FE AA06              MOV     R2,AR6
0700 AB05              MOV     R3,AR5
0702 C002              PUSH    AR2
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 56  

0704 900000      R     MOV     DPTR,#eeData
0707 E0                MOVX    A,@DPTR
0708 A3                INC     DPTR
0709 E0                MOVX    A,@DPTR
070A FD                MOV     R5,A
070B A3                INC     DPTR
070C E0                MOVX    A,@DPTR
070D FE                MOV     R6,A
070E A3                INC     DPTR
070F E0                MOVX    A,@DPTR
0710 AA06              MOV     R2,AR6
0712 F8                MOV     R0,A
0713 AC02              MOV     R4,AR2
0715 D002              POP     AR2
0717 D007              POP     AR7
0719 D006              POP     AR6
071B 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 285
071E E4                CLR     A
071F 900000      R     MOV     DPTR,#ret
0722 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 286
0723         ?C0030:
                                           ; SOURCE LINE # 289
0723 900000      R     MOV     DPTR,#rdAddr
0726 E0                MOVX    A,@DPTR
0727 FC                MOV     R4,A
0728 A3                INC     DPTR
0729 E0                MOVX    A,@DPTR
072A FD                MOV     R5,A
072B A3                INC     DPTR
072C E0                MOVX    A,@DPTR
072D FE                MOV     R6,A
072E A3                INC     DPTR
072F E0                MOVX    A,@DPTR
0730 FF                MOV     R7,A
0731 900000      R     MOV     DPTR,#numBytesToRead
0734 E0                MOVX    A,@DPTR
0735 F8                MOV     R0,A
0736 A3                INC     DPTR
0737 E0                MOVX    A,@DPTR
0738 F9                MOV     R1,A
0739 A3                INC     DPTR
073A E0                MOVX    A,@DPTR
073B FA                MOV     R2,A
073C A3                INC     DPTR
073D E0                MOVX    A,@DPTR
073E FB                MOV     R3,A
073F EF                MOV     A,R7
0740 2B                ADD     A,R3
0741 FF                MOV     R7,A
0742 EE                MOV     A,R6
0743 3A                ADDC    A,R2
0744 FE                MOV     R6,A
0745 ED                MOV     A,R5
0746 39                ADDC    A,R1
0747 FD                MOV     R5,A
0748 EC                MOV     A,R4
0749 38                ADDC    A,R0
074A FC                MOV     R4,A
074B 900000      R     MOV     DPTR,#rdAddr
074E 120000      E     LCALL   ?C?LSTXDATA
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 57  

                                           ; SOURCE LINE # 290
0751 900000      R     MOV     DPTR,#rdSize
0754 E0                MOVX    A,@DPTR
0755 FC                MOV     R4,A
0756 A3                INC     DPTR
0757 E0                MOVX    A,@DPTR
0758 FD                MOV     R5,A
0759 A3                INC     DPTR
075A E0                MOVX    A,@DPTR
075B FE                MOV     R6,A
075C A3                INC     DPTR
075D E0                MOVX    A,@DPTR
075E FF                MOV     R7,A
075F 900000      R     MOV     DPTR,#numBytesToRead
0762 E0                MOVX    A,@DPTR
0763 F8                MOV     R0,A
0764 A3                INC     DPTR
0765 E0                MOVX    A,@DPTR
0766 F9                MOV     R1,A
0767 A3                INC     DPTR
0768 E0                MOVX    A,@DPTR
0769 FA                MOV     R2,A
076A A3                INC     DPTR
076B E0                MOVX    A,@DPTR
076C FB                MOV     R3,A
076D C3                CLR     C
076E EF                MOV     A,R7
076F 9B                SUBB    A,R3
0770 FF                MOV     R7,A
0771 EE                MOV     A,R6
0772 9A                SUBB    A,R2
0773 FE                MOV     R6,A
0774 ED                MOV     A,R5
0775 99                SUBB    A,R1
0776 FD                MOV     R5,A
0777 EC                MOV     A,R4
0778 98                SUBB    A,R0
0779 FC                MOV     R4,A
077A 900000      R     MOV     DPTR,#rdSize
077D 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 291
0780 900000      R     MOV     DPTR,#eeData
0783 E0                MOVX    A,@DPTR
0784 FC                MOV     R4,A
0785 A3                INC     DPTR
0786 E0                MOVX    A,@DPTR
0787 FD                MOV     R5,A
0788 A3                INC     DPTR
0789 E0                MOVX    A,@DPTR
078A FE                MOV     R6,A
078B A3                INC     DPTR
078C E0                MOVX    A,@DPTR
078D FF                MOV     R7,A
078E 900000      R     MOV     DPTR,#numBytesToRead
0791 E0                MOVX    A,@DPTR
0792 F8                MOV     R0,A
0793 A3                INC     DPTR
0794 E0                MOVX    A,@DPTR
0795 F9                MOV     R1,A
0796 A3                INC     DPTR
0797 E0                MOVX    A,@DPTR
0798 FA                MOV     R2,A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 58  

0799 A3                INC     DPTR
079A E0                MOVX    A,@DPTR
079B FB                MOV     R3,A
079C EF                MOV     A,R7
079D 2B                ADD     A,R3
079E FF                MOV     R7,A
079F EE                MOV     A,R6
07A0 3A                ADDC    A,R2
07A1 FE                MOV     R6,A
07A2 ED                MOV     A,R5
07A3 39                ADDC    A,R1
07A4 FD                MOV     R5,A
07A5 EC                MOV     A,R4
07A6 38                ADDC    A,R0
07A7 FC                MOV     R4,A
07A8 900000      R     MOV     DPTR,#eeData
07AB 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 292
07AE 900000      R     MOV     DPTR,#curRdEepromRowNum
07B1 E0                MOVX    A,@DPTR
07B2 FC                MOV     R4,A
07B3 A3                INC     DPTR
07B4 E0                MOVX    A,@DPTR
07B5 FD                MOV     R5,A
07B6 A3                INC     DPTR
07B7 E0                MOVX    A,@DPTR
07B8 FE                MOV     R6,A
07B9 A3                INC     DPTR
07BA E0                MOVX    A,@DPTR
07BB FF                MOV     R7,A
07BC E4                CLR     A
07BD FA                MOV     R2,A
07BE F9                MOV     R1,A
07BF F8                MOV     R0,A
07C0 EF                MOV     A,R7
07C1 2401              ADD     A,#01H
07C3 FF                MOV     R7,A
07C4 EA                MOV     A,R2
07C5 3E                ADDC    A,R6
07C6 FE                MOV     R6,A
07C7 E9                MOV     A,R1
07C8 3D                ADDC    A,R5
07C9 FD                MOV     R5,A
07CA E8                MOV     A,R0
07CB 3C                ADDC    A,R4
07CC FC                MOV     R4,A
07CD 900000      R     MOV     DPTR,#curRdEepromRowNum
07D0 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 293
07D3 900000      R     MOV     DPTR,#i
07D6 E0                MOVX    A,@DPTR
07D7 FC                MOV     R4,A
07D8 A3                INC     DPTR
07D9 E0                MOVX    A,@DPTR
07DA FD                MOV     R5,A
07DB A3                INC     DPTR
07DC E0                MOVX    A,@DPTR
07DD FE                MOV     R6,A
07DE A3                INC     DPTR
07DF E0                MOVX    A,@DPTR
07E0 FF                MOV     R7,A
07E1 E4                CLR     A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 59  

07E2 F8                MOV     R0,A
07E3 EF                MOV     A,R7
07E4 2401              ADD     A,#01H
07E6 FF                MOV     R7,A
07E7 EA                MOV     A,R2
07E8 3E                ADDC    A,R6
07E9 FE                MOV     R6,A
07EA E9                MOV     A,R1
07EB 3D                ADDC    A,R5
07EC FD                MOV     R5,A
07ED E8                MOV     A,R0
07EE 3C                ADDC    A,R4
07EF FC                MOV     R4,A
07F0 900000      R     MOV     DPTR,#i
07F3 120000      E     LCALL   ?C?LSTXDATA
07F6 020000      R     LJMP    ?C0021
07F9         ?C0022:
                                           ; SOURCE LINE # 303
07F9 900000      R     MOV     DPTR,#ret
07FC E0                MOVX    A,@DPTR
07FD 6003              JZ      $ + 5H
07FF 020000      R     LJMP    ?C0007
0802 900000      R     MOV     DPTR,#seqNum
0805 E0                MOVX    A,@DPTR
0806 A3                INC     DPTR
0807 E0                MOVX    A,@DPTR
0808 A3                INC     DPTR
0809 E0                MOVX    A,@DPTR
080A FE                MOV     R6,A
080B A3                INC     DPTR
080C E0                MOVX    A,@DPTR
080D 4E                ORL     A,R6
080E 7003              JNZ     $ + 5H
0810 020000      R     LJMP    ?C0007
                                           ; SOURCE LINE # 304
                                           ; SOURCE LINE # 305
0813 900000      R     MOV     DPTR,#context
0816 E0                MOVX    A,@DPTR
0817 FB                MOV     R3,A
0818 A3                INC     DPTR
0819 E0                MOVX    A,@DPTR
081A FA                MOV     R2,A
081B A3                INC     DPTR
081C E0                MOVX    A,@DPTR
081D 2404              ADD     A,#04H
081F F9                MOV     R1,A
0820 E4                CLR     A
0821 3A                ADDC    A,R2
0822 FA                MOV     R2,A
0823 120000      E     LCALL   ?C?LLDPTR
0826 900000      R     MOV     DPTR,#seqNum
0829 E0                MOVX    A,@DPTR
082A F8                MOV     R0,A
082B A3                INC     DPTR
082C E0                MOVX    A,@DPTR
082D F9                MOV     R1,A
082E A3                INC     DPTR
082F E0                MOVX    A,@DPTR
0830 FA                MOV     R2,A
0831 A3                INC     DPTR
0832 E0                MOVX    A,@DPTR
0833 FB                MOV     R3,A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 60  

0834 C3                CLR     C
0835 120000      E     LCALL   ?C?ULCMP
0838 4015              JC      ?C0032
083A 900000      R     MOV     DPTR,#context
083D E0                MOVX    A,@DPTR
083E FB                MOV     R3,A
083F A3                INC     DPTR
0840 E0                MOVX    A,@DPTR
0841 FA                MOV     R2,A
0842 A3                INC     DPTR
0843 E0                MOVX    A,@DPTR
0844 2404              ADD     A,#04H
0846 F9                MOV     R1,A
0847 E4                CLR     A
0848 3A                ADDC    A,R2
0849 FA                MOV     R2,A
084A 120000      E     LCALL   ?C?LLDPTR
084D 800E              SJMP    ?C0033
084F         ?C0032:
084F 900000      R     MOV     DPTR,#seqNum
0852 E0                MOVX    A,@DPTR
0853 FC                MOV     R4,A
0854 A3                INC     DPTR
0855 E0                MOVX    A,@DPTR
0856 FD                MOV     R5,A
0857 A3                INC     DPTR
0858 E0                MOVX    A,@DPTR
0859 FE                MOV     R6,A
085A A3                INC     DPTR
085B E0                MOVX    A,@DPTR
085C FF                MOV     R7,A
085D         ?C0033:
085D 900000      R     MOV     DPTR,#numRowReads
0860 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 306
0863 900000      R     MOV     DPTR,#numRowReads
0866 E0                MOVX    A,@DPTR
0867 FC                MOV     R4,A
0868 A3                INC     DPTR
0869 E0                MOVX    A,@DPTR
086A FD                MOV     R5,A
086B A3                INC     DPTR
086C E0                MOVX    A,@DPTR
086D FE                MOV     R6,A
086E A3                INC     DPTR
086F E0                MOVX    A,@DPTR
0870 FF                MOV     R7,A
0871 74FF              MOV     A,#0FFH
0873 EF                MOV     A,R7
0874 24FF              ADD     A,#0FFH
0876 FF                MOV     R7,A
0877 EE                MOV     A,R6
0878 34FF              ADDC    A,#0FFH
087A FE                MOV     R6,A
087B ED                MOV     A,R5
087C 34FF              ADDC    A,#0FFH
087E FD                MOV     R5,A
087F EC                MOV     A,R4
0880 34FF              ADDC    A,#0FFH
0882 FC                MOV     R4,A
0883 900000      R     MOV     DPTR,#numRowReads
0886 120000      E     LCALL   ?C?LSTXDATA
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 61  

                                           ; SOURCE LINE # 308
0889 900000      R     MOV     DPTR,#numRowReads
088C E0                MOVX    A,@DPTR
088D F8                MOV     R0,A
088E A3                INC     DPTR
088F E0                MOVX    A,@DPTR
0890 F9                MOV     R1,A
0891 A3                INC     DPTR
0892 E0                MOVX    A,@DPTR
0893 FA                MOV     R2,A
0894 A3                INC     DPTR
0895 E0                MOVX    A,@DPTR
0896 FB                MOV     R3,A
0897 900000      R     MOV     DPTR,#seqNum
089A E0                MOVX    A,@DPTR
089B FC                MOV     R4,A
089C A3                INC     DPTR
089D E0                MOVX    A,@DPTR
089E FD                MOV     R5,A
089F A3                INC     DPTR
08A0 E0                MOVX    A,@DPTR
08A1 FE                MOV     R6,A
08A2 A3                INC     DPTR
08A3 E0                MOVX    A,@DPTR
08A4 C3                CLR     C
08A5 9B                SUBB    A,R3
08A6 FF                MOV     R7,A
08A7 EE                MOV     A,R6
08A8 9A                SUBB    A,R2
08A9 FE                MOV     R6,A
08AA ED                MOV     A,R5
08AB 99                SUBB    A,R1
08AC FD                MOV     R5,A
08AD EC                MOV     A,R4
08AE 98                SUBB    A,R0
08AF FC                MOV     R4,A
08B0 900000      R     MOV     DPTR,#i
08B3 120000      E     LCALL   ?C?LSTXDATA
08B6         ?C0034:
08B6 900000      R     MOV     DPTR,#seqNum
08B9 E0                MOVX    A,@DPTR
08BA FC                MOV     R4,A
08BB A3                INC     DPTR
08BC E0                MOVX    A,@DPTR
08BD FD                MOV     R5,A
08BE A3                INC     DPTR
08BF E0                MOVX    A,@DPTR
08C0 FE                MOV     R6,A
08C1 A3                INC     DPTR
08C2 E0                MOVX    A,@DPTR
08C3 FF                MOV     R7,A
08C4 900000      R     MOV     DPTR,#i
08C7 E0                MOVX    A,@DPTR
08C8 F8                MOV     R0,A
08C9 A3                INC     DPTR
08CA E0                MOVX    A,@DPTR
08CB F9                MOV     R1,A
08CC A3                INC     DPTR
08CD E0                MOVX    A,@DPTR
08CE FA                MOV     R2,A
08CF A3                INC     DPTR
08D0 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 62  

08D1 FB                MOV     R3,A
08D2 D3                SETB    C
08D3 120000      E     LCALL   ?C?ULCMP
08D6 4003              JC      $ + 5H
08D8 020000      R     LJMP    ?C0007
                                           ; SOURCE LINE # 309
                                           ; SOURCE LINE # 310
08DB 900000      R     MOV     DPTR,#i
08DE E0                MOVX    A,@DPTR
08DF FC                MOV     R4,A
08E0 A3                INC     DPTR
08E1 E0                MOVX    A,@DPTR
08E2 FD                MOV     R5,A
08E3 A3                INC     DPTR
08E4 E0                MOVX    A,@DPTR
08E5 FE                MOV     R6,A
08E6 A3                INC     DPTR
08E7 E0                MOVX    A,@DPTR
08E8 FF                MOV     R7,A
08E9 900000      R     MOV     DPTR,#context
08EC E0                MOVX    A,@DPTR
08ED FB                MOV     R3,A
08EE A3                INC     DPTR
08EF E0                MOVX    A,@DPTR
08F0 FA                MOV     R2,A
08F1 A3                INC     DPTR
08F2 E0                MOVX    A,@DPTR
08F3 F9                MOV     R1,A
08F4 120000      R     LCALL   _GetRowAddrBySeqNum
08F7 900000      R     MOV     DPTR,#startRowAddr
08FA 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 312
08FD 900000      R     MOV     DPTR,#startRowAddr
0900 E0                MOVX    A,@DPTR
0901 A3                INC     DPTR
0902 E0                MOVX    A,@DPTR
0903 A3                INC     DPTR
0904 E0                MOVX    A,@DPTR
0905 FE                MOV     R6,A
0906 A3                INC     DPTR
0907 E0                MOVX    A,@DPTR
0908 4E                ORL     A,R6
0909 7003              JNZ     $ + 5H
090B 020000      R     LJMP    ?C0036
                                           ; SOURCE LINE # 313
                                           ; SOURCE LINE # 315
090E 900000      R     MOV     DPTR,#startRowAddr
0911 E0                MOVX    A,@DPTR
0912 FC                MOV     R4,A
0913 A3                INC     DPTR
0914 E0                MOVX    A,@DPTR
0915 FD                MOV     R5,A
0916 A3                INC     DPTR
0917 E0                MOVX    A,@DPTR
0918 A3                INC     DPTR
0919 E0                MOVX    A,@DPTR
091A 2404              ADD     A,#04H
091C FF                MOV     R7,A
091D E4                CLR     A
091E 3E                ADDC    A,R6
091F FE                MOV     R6,A
0920 E4                CLR     A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 63  

0921 3D                ADDC    A,R5
0922 FD                MOV     R5,A
0923 E4                CLR     A
0924 3C                ADDC    A,R4
0925 A907              MOV     R1,AR7
0927 AA06              MOV     R2,AR6
0929 AB05              MOV     R3,AR5
092B 120000      E     LCALL   ?C?LLDPTR
092E 900000      R     MOV     DPTR,#startAddr
0931 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 316
0934 900000      R     MOV     DPTR,#startRowAddr
0937 E0                MOVX    A,@DPTR
0938 FC                MOV     R4,A
0939 A3                INC     DPTR
093A E0                MOVX    A,@DPTR
093B FD                MOV     R5,A
093C A3                INC     DPTR
093D E0                MOVX    A,@DPTR
093E FE                MOV     R6,A
093F A3                INC     DPTR
0940 E0                MOVX    A,@DPTR
0941 2408              ADD     A,#08H
0943 FF                MOV     R7,A
0944 E4                CLR     A
0945 3E                ADDC    A,R6
0946 FE                MOV     R6,A
0947 E4                CLR     A
0948 3D                ADDC    A,R5
0949 FD                MOV     R5,A
094A E4                CLR     A
094B 3C                ADDC    A,R4
094C A907              MOV     R1,AR7
094E AA06              MOV     R2,AR6
0950 AB05              MOV     R3,AR5
0952 120000      E     LCALL   ?C?LLDPTR
0955 900000      R     MOV     DPTR,#startAddr
0958 E0                MOVX    A,@DPTR
0959 F8                MOV     R0,A
095A A3                INC     DPTR
095B E0                MOVX    A,@DPTR
095C F9                MOV     R1,A
095D A3                INC     DPTR
095E E0                MOVX    A,@DPTR
095F FA                MOV     R2,A
0960 A3                INC     DPTR
0961 E0                MOVX    A,@DPTR
0962 2F                ADD     A,R7
0963 FF                MOV     R7,A
0964 EA                MOV     A,R2
0965 3E                ADDC    A,R6
0966 FE                MOV     R6,A
0967 E9                MOV     A,R1
0968 3D                ADDC    A,R5
0969 FD                MOV     R5,A
096A E8                MOV     A,R0
096B 3C                ADDC    A,R4
096C FC                MOV     R4,A
096D A3                INC     DPTR
096E 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 319
0971 900000      R     MOV     DPTR,#addr
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 64  

0974 E0                MOVX    A,@DPTR
0975 FC                MOV     R4,A
0976 A3                INC     DPTR
0977 E0                MOVX    A,@DPTR
0978 FD                MOV     R5,A
0979 A3                INC     DPTR
097A E0                MOVX    A,@DPTR
097B FE                MOV     R6,A
097C A3                INC     DPTR
097D E0                MOVX    A,@DPTR
097E FF                MOV     R7,A
097F 900000      R     MOV     DPTR,#startAddr
0982 E0                MOVX    A,@DPTR
0983 F8                MOV     R0,A
0984 A3                INC     DPTR
0985 E0                MOVX    A,@DPTR
0986 F9                MOV     R1,A
0987 A3                INC     DPTR
0988 E0                MOVX    A,@DPTR
0989 FA                MOV     R2,A
098A A3                INC     DPTR
098B E0                MOVX    A,@DPTR
098C FB                MOV     R3,A
098D D3                SETB    C
098E 120000      E     LCALL   ?C?ULCMP
0991 4041              JC      ?C0039
0993 900000      R     MOV     DPTR,#size
0996 E0                MOVX    A,@DPTR
0997 FC                MOV     R4,A
0998 A3                INC     DPTR
0999 E0                MOVX    A,@DPTR
099A FD                MOV     R5,A
099B A3                INC     DPTR
099C E0                MOVX    A,@DPTR
099D FE                MOV     R6,A
099E A3                INC     DPTR
099F E0                MOVX    A,@DPTR
09A0 FF                MOV     R7,A
09A1 900000      R     MOV     DPTR,#addr
09A4 E0                MOVX    A,@DPTR
09A5 F8                MOV     R0,A
09A6 A3                INC     DPTR
09A7 E0                MOVX    A,@DPTR
09A8 F9                MOV     R1,A
09A9 A3                INC     DPTR
09AA E0                MOVX    A,@DPTR
09AB FA                MOV     R2,A
09AC A3                INC     DPTR
09AD E0                MOVX    A,@DPTR
09AE 2F                ADD     A,R7
09AF FF                MOV     R7,A
09B0 EA                MOV     A,R2
09B1 3E                ADDC    A,R6
09B2 FE                MOV     R6,A
09B3 E9                MOV     A,R1
09B4 3D                ADDC    A,R5
09B5 FD                MOV     R5,A
09B6 E8                MOV     A,R0
09B7 3C                ADDC    A,R4
09B8 FC                MOV     R4,A
09B9 900000      R     MOV     DPTR,#startAddr
09BC E0                MOVX    A,@DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 65  

09BD F8                MOV     R0,A
09BE A3                INC     DPTR
09BF E0                MOVX    A,@DPTR
09C0 F9                MOV     R1,A
09C1 A3                INC     DPTR
09C2 E0                MOVX    A,@DPTR
09C3 FA                MOV     R2,A
09C4 A3                INC     DPTR
09C5 E0                MOVX    A,@DPTR
09C6 C3                CLR     C
09C7 120000      E     LCALL   ?C?ULCMP
09CA 4004              JC      ?C0041
09CC 7F00              MOV     R7,#00H
09CE 8002              SJMP    ?C0042
09D0         ?C0041:
09D0 7F01              MOV     R7,#01H
09D2         ?C0042:
09D2 8028              SJMP    ?C0040
09D4         ?C0039:
09D4 900000      R     MOV     DPTR,#endAddr
09D7 E0                MOVX    A,@DPTR
09D8 FC                MOV     R4,A
09D9 A3                INC     DPTR
09DA E0                MOVX    A,@DPTR
09DB FD                MOV     R5,A
09DC A3                INC     DPTR
09DD E0                MOVX    A,@DPTR
09DE FE                MOV     R6,A
09DF A3                INC     DPTR
09E0 E0                MOVX    A,@DPTR
09E1 FF                MOV     R7,A
09E2 900000      R     MOV     DPTR,#addr
09E5 E0                MOVX    A,@DPTR
09E6 F8                MOV     R0,A
09E7 A3                INC     DPTR
09E8 E0                MOVX    A,@DPTR
09E9 F9                MOV     R1,A
09EA A3                INC     DPTR
09EB E0                MOVX    A,@DPTR
09EC FA                MOV     R2,A
09ED A3                INC     DPTR
09EE E0                MOVX    A,@DPTR
09EF FB                MOV     R3,A
09F0 C3                CLR     C
09F1 120000      E     LCALL   ?C?ULCMP
09F4 4004              JC      ?C0043
09F6 7F00              MOV     R7,#00H
09F8 8002              SJMP    ?C0044
09FA         ?C0043:
09FA 7F01              MOV     R7,#01H
09FC         ?C0044:
09FC         ?C0040:
09FC EF                MOV     A,R7
09FD 7003              JNZ     $ + 5H
09FF 020000      R     LJMP    ?C0036
                                           ; SOURCE LINE # 320
                                           ; SOURCE LINE # 321
0A02 900000      R     MOV     DPTR,#addr
0A05 E0                MOVX    A,@DPTR
0A06 FC                MOV     R4,A
0A07 A3                INC     DPTR
0A08 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 66  

0A09 FD                MOV     R5,A
0A0A A3                INC     DPTR
0A0B E0                MOVX    A,@DPTR
0A0C FE                MOV     R6,A
0A0D A3                INC     DPTR
0A0E E0                MOVX    A,@DPTR
0A0F FF                MOV     R7,A
0A10 900000      R     MOV     DPTR,#startAddr
0A13 E0                MOVX    A,@DPTR
0A14 F8                MOV     R0,A
0A15 A3                INC     DPTR
0A16 E0                MOVX    A,@DPTR
0A17 F9                MOV     R1,A
0A18 A3                INC     DPTR
0A19 E0                MOVX    A,@DPTR
0A1A FA                MOV     R2,A
0A1B A3                INC     DPTR
0A1C E0                MOVX    A,@DPTR
0A1D FB                MOV     R3,A
0A1E D3                SETB    C
0A1F 120000      E     LCALL   ?C?ULCMP
0A22 4007              JC      ?C0045
0A24 E4                CLR     A
0A25 FF                MOV     R7,A
0A26 FE                MOV     R6,A
0A27 FD                MOV     R5,A
0A28 FC                MOV     R4,A
0A29 8027              SJMP    ?C0046
0A2B         ?C0045:
0A2B 900000      R     MOV     DPTR,#startAddr
0A2E E0                MOVX    A,@DPTR
0A2F F8                MOV     R0,A
0A30 A3                INC     DPTR
0A31 E0                MOVX    A,@DPTR
0A32 F9                MOV     R1,A
0A33 A3                INC     DPTR
0A34 E0                MOVX    A,@DPTR
0A35 FA                MOV     R2,A
0A36 A3                INC     DPTR
0A37 E0                MOVX    A,@DPTR
0A38 FB                MOV     R3,A
0A39 900000      R     MOV     DPTR,#addr
0A3C E0                MOVX    A,@DPTR
0A3D FC                MOV     R4,A
0A3E A3                INC     DPTR
0A3F E0                MOVX    A,@DPTR
0A40 FD                MOV     R5,A
0A41 A3                INC     DPTR
0A42 E0                MOVX    A,@DPTR
0A43 FE                MOV     R6,A
0A44 A3                INC     DPTR
0A45 E0                MOVX    A,@DPTR
0A46 C3                CLR     C
0A47 9B                SUBB    A,R3
0A48 FF                MOV     R7,A
0A49 EE                MOV     A,R6
0A4A 9A                SUBB    A,R2
0A4B FE                MOV     R6,A
0A4C ED                MOV     A,R5
0A4D 99                SUBB    A,R1
0A4E FD                MOV     R5,A
0A4F EC                MOV     A,R4
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 67  

0A50 98                SUBB    A,R0
0A51 FC                MOV     R4,A
0A52         ?C0046:
0A52 900000      R     MOV     DPTR,#srcOffset
0A55 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 322
0A58 900000      R     MOV     DPTR,#addr
0A5B E0                MOVX    A,@DPTR
0A5C FC                MOV     R4,A
0A5D A3                INC     DPTR
0A5E E0                MOVX    A,@DPTR
0A5F FD                MOV     R5,A
0A60 A3                INC     DPTR
0A61 E0                MOVX    A,@DPTR
0A62 FE                MOV     R6,A
0A63 A3                INC     DPTR
0A64 E0                MOVX    A,@DPTR
0A65 FF                MOV     R7,A
0A66 900000      R     MOV     DPTR,#startAddr
0A69 E0                MOVX    A,@DPTR
0A6A F8                MOV     R0,A
0A6B A3                INC     DPTR
0A6C E0                MOVX    A,@DPTR
0A6D F9                MOV     R1,A
0A6E A3                INC     DPTR
0A6F E0                MOVX    A,@DPTR
0A70 FA                MOV     R2,A
0A71 A3                INC     DPTR
0A72 E0                MOVX    A,@DPTR
0A73 FB                MOV     R3,A
0A74 D3                SETB    C
0A75 120000      E     LCALL   ?C?ULCMP
0A78 4028              JC      ?C0047
0A7A 900000      R     MOV     DPTR,#addr
0A7D E0                MOVX    A,@DPTR
0A7E F8                MOV     R0,A
0A7F A3                INC     DPTR
0A80 E0                MOVX    A,@DPTR
0A81 F9                MOV     R1,A
0A82 A3                INC     DPTR
0A83 E0                MOVX    A,@DPTR
0A84 FA                MOV     R2,A
0A85 A3                INC     DPTR
0A86 E0                MOVX    A,@DPTR
0A87 FB                MOV     R3,A
0A88 900000      R     MOV     DPTR,#startAddr
0A8B E0                MOVX    A,@DPTR
0A8C FC                MOV     R4,A
0A8D A3                INC     DPTR
0A8E E0                MOVX    A,@DPTR
0A8F FD                MOV     R5,A
0A90 A3                INC     DPTR
0A91 E0                MOVX    A,@DPTR
0A92 FE                MOV     R6,A
0A93 A3                INC     DPTR
0A94 E0                MOVX    A,@DPTR
0A95 9B                SUBB    A,R3
0A96 FF                MOV     R7,A
0A97 EE                MOV     A,R6
0A98 9A                SUBB    A,R2
0A99 FE                MOV     R6,A
0A9A ED                MOV     A,R5
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 68  

0A9B 99                SUBB    A,R1
0A9C FD                MOV     R5,A
0A9D EC                MOV     A,R4
0A9E 98                SUBB    A,R0
0A9F FC                MOV     R4,A
0AA0 8005              SJMP    ?C0048
0AA2         ?C0047:
0AA2 E4                CLR     A
0AA3 FF                MOV     R7,A
0AA4 FE                MOV     R6,A
0AA5 FD                MOV     R5,A
0AA6 FC                MOV     R4,A
0AA7         ?C0048:
0AA7 900000      R     MOV     DPTR,#dstOffset
0AAA 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 323
0AAD 900000      R     MOV     DPTR,#addr
0AB0 E0                MOVX    A,@DPTR
0AB1 FC                MOV     R4,A
0AB2 A3                INC     DPTR
0AB3 E0                MOVX    A,@DPTR
0AB4 FD                MOV     R5,A
0AB5 A3                INC     DPTR
0AB6 E0                MOVX    A,@DPTR
0AB7 FE                MOV     R6,A
0AB8 A3                INC     DPTR
0AB9 E0                MOVX    A,@DPTR
0ABA FF                MOV     R7,A
0ABB 900000      R     MOV     DPTR,#startAddr
0ABE E0                MOVX    A,@DPTR
0ABF F8                MOV     R0,A
0AC0 A3                INC     DPTR
0AC1 E0                MOVX    A,@DPTR
0AC2 F9                MOV     R1,A
0AC3 A3                INC     DPTR
0AC4 E0                MOVX    A,@DPTR
0AC5 FA                MOV     R2,A
0AC6 A3                INC     DPTR
0AC7 E0                MOVX    A,@DPTR
0AC8 FB                MOV     R3,A
0AC9 D3                SETB    C
0ACA 120000      E     LCALL   ?C?ULCMP
0ACD 4010              JC      ?C0049
0ACF 900000      R     MOV     DPTR,#startAddr
0AD2 E0                MOVX    A,@DPTR
0AD3 FC                MOV     R4,A
0AD4 A3                INC     DPTR
0AD5 E0                MOVX    A,@DPTR
0AD6 FD                MOV     R5,A
0AD7 A3                INC     DPTR
0AD8 E0                MOVX    A,@DPTR
0AD9 FE                MOV     R6,A
0ADA A3                INC     DPTR
0ADB E0                MOVX    A,@DPTR
0ADC FF                MOV     R7,A
0ADD 800E              SJMP    ?C0050
0ADF         ?C0049:
0ADF 900000      R     MOV     DPTR,#addr
0AE2 E0                MOVX    A,@DPTR
0AE3 FC                MOV     R4,A
0AE4 A3                INC     DPTR
0AE5 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 69  

0AE6 FD                MOV     R5,A
0AE7 A3                INC     DPTR
0AE8 E0                MOVX    A,@DPTR
0AE9 FE                MOV     R6,A
0AEA A3                INC     DPTR
0AEB E0                MOVX    A,@DPTR
0AEC FF                MOV     R7,A
0AED         ?C0050:
0AED 900000      R     MOV     DPTR,#rdAddr
0AF0 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 325
0AF3 900000      R     MOV     DPTR,#srcOffset
0AF6 E0                MOVX    A,@DPTR
0AF7 FC                MOV     R4,A
0AF8 A3                INC     DPTR
0AF9 E0                MOVX    A,@DPTR
0AFA FD                MOV     R5,A
0AFB A3                INC     DPTR
0AFC E0                MOVX    A,@DPTR
0AFD FE                MOV     R6,A
0AFE A3                INC     DPTR
0AFF E0                MOVX    A,@DPTR
0B00 240C              ADD     A,#0CH
0B02 FF                MOV     R7,A
0B03 E4                CLR     A
0B04 3E                ADDC    A,R6
0B05 FE                MOV     R6,A
0B06 E4                CLR     A
0B07 3D                ADDC    A,R5
0B08 FD                MOV     R5,A
0B09 E4                CLR     A
0B0A 3C                ADDC    A,R4
0B0B FC                MOV     R4,A
0B0C 900000      R     MOV     DPTR,#srcOffset
0B0F 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 328
0B12 900000      R     MOV     DPTR,#size
0B15 E0                MOVX    A,@DPTR
0B16 FC                MOV     R4,A
0B17 A3                INC     DPTR
0B18 E0                MOVX    A,@DPTR
0B19 FD                MOV     R5,A
0B1A A3                INC     DPTR
0B1B E0                MOVX    A,@DPTR
0B1C FE                MOV     R6,A
0B1D A3                INC     DPTR
0B1E E0                MOVX    A,@DPTR
0B1F FF                MOV     R7,A
0B20 900000      R     MOV     DPTR,#addr
0B23 E0                MOVX    A,@DPTR
0B24 F8                MOV     R0,A
0B25 A3                INC     DPTR
0B26 E0                MOVX    A,@DPTR
0B27 F9                MOV     R1,A
0B28 A3                INC     DPTR
0B29 E0                MOVX    A,@DPTR
0B2A FA                MOV     R2,A
0B2B A3                INC     DPTR
0B2C E0                MOVX    A,@DPTR
0B2D 2F                ADD     A,R7
0B2E FF                MOV     R7,A
0B2F EA                MOV     A,R2
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 70  

0B30 3E                ADDC    A,R6
0B31 FE                MOV     R6,A
0B32 E9                MOV     A,R1
0B33 3D                ADDC    A,R5
0B34 FD                MOV     R5,A
0B35 E8                MOV     A,R0
0B36 3C                ADDC    A,R4
0B37 FC                MOV     R4,A
0B38 900000      R     MOV     DPTR,#endAddr
0B3B E0                MOVX    A,@DPTR
0B3C F8                MOV     R0,A
0B3D A3                INC     DPTR
0B3E E0                MOVX    A,@DPTR
0B3F F9                MOV     R1,A
0B40 A3                INC     DPTR
0B41 E0                MOVX    A,@DPTR
0B42 FA                MOV     R2,A
0B43 A3                INC     DPTR
0B44 E0                MOVX    A,@DPTR
0B45 FB                MOV     R3,A
0B46 C3                CLR     C
0B47 120000      E     LCALL   ?C?ULCMP
0B4A 5010              JNC     ?C0051
0B4C 900000      R     MOV     DPTR,#endAddr
0B4F E0                MOVX    A,@DPTR
0B50 FC                MOV     R4,A
0B51 A3                INC     DPTR
0B52 E0                MOVX    A,@DPTR
0B53 FD                MOV     R5,A
0B54 A3                INC     DPTR
0B55 E0                MOVX    A,@DPTR
0B56 FE                MOV     R6,A
0B57 A3                INC     DPTR
0B58 E0                MOVX    A,@DPTR
0B59 FF                MOV     R7,A
0B5A 8026              SJMP    ?C0052
0B5C         ?C0051:
0B5C 900000      R     MOV     DPTR,#size
0B5F E0                MOVX    A,@DPTR
0B60 FC                MOV     R4,A
0B61 A3                INC     DPTR
0B62 E0                MOVX    A,@DPTR
0B63 FD                MOV     R5,A
0B64 A3                INC     DPTR
0B65 E0                MOVX    A,@DPTR
0B66 FE                MOV     R6,A
0B67 A3                INC     DPTR
0B68 E0                MOVX    A,@DPTR
0B69 FF                MOV     R7,A
0B6A 900000      R     MOV     DPTR,#addr
0B6D E0                MOVX    A,@DPTR
0B6E F8                MOV     R0,A
0B6F A3                INC     DPTR
0B70 E0                MOVX    A,@DPTR
0B71 F9                MOV     R1,A
0B72 A3                INC     DPTR
0B73 E0                MOVX    A,@DPTR
0B74 FA                MOV     R2,A
0B75 A3                INC     DPTR
0B76 E0                MOVX    A,@DPTR
0B77 2F                ADD     A,R7
0B78 FF                MOV     R7,A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 71  

0B79 EA                MOV     A,R2
0B7A 3E                ADDC    A,R6
0B7B FE                MOV     R6,A
0B7C E9                MOV     A,R1
0B7D 3D                ADDC    A,R5
0B7E FD                MOV     R5,A
0B7F E8                MOV     A,R0
0B80 3C                ADDC    A,R4
0B81 FC                MOV     R4,A
0B82         ?C0052:
0B82 900000      R     MOV     DPTR,#rdAddr
0B85 E0                MOVX    A,@DPTR
0B86 F8                MOV     R0,A
0B87 A3                INC     DPTR
0B88 E0                MOVX    A,@DPTR
0B89 F9                MOV     R1,A
0B8A A3                INC     DPTR
0B8B E0                MOVX    A,@DPTR
0B8C FA                MOV     R2,A
0B8D A3                INC     DPTR
0B8E E0                MOVX    A,@DPTR
0B8F FB                MOV     R3,A
0B90 C3                CLR     C
0B91 EF                MOV     A,R7
0B92 9B                SUBB    A,R3
0B93 FF                MOV     R7,A
0B94 EE                MOV     A,R6
0B95 9A                SUBB    A,R2
0B96 FE                MOV     R6,A
0B97 ED                MOV     A,R5
0B98 99                SUBB    A,R1
0B99 FD                MOV     R5,A
0B9A EC                MOV     A,R4
0B9B 98                SUBB    A,R0
0B9C FC                MOV     R4,A
0B9D 900000      R     MOV     DPTR,#numBytesToRead
0BA0 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 331
0BA3 900000      R     MOV     DPTR,#eepromData
0BA6 E0                MOVX    A,@DPTR
0BA7 FB                MOV     R3,A
0BA8 A3                INC     DPTR
0BA9 E0                MOVX    A,@DPTR
0BAA FA                MOV     R2,A
0BAB A3                INC     DPTR
0BAC E0                MOVX    A,@DPTR
0BAD F9                MOV     R1,A
0BAE FF                MOV     R7,A
0BAF AE02              MOV     R6,AR2
0BB1 AD03              MOV     R5,AR3
0BB3 7C00              MOV     R4,#00H
0BB5 900000      R     MOV     DPTR,#dstOffset
0BB8 E0                MOVX    A,@DPTR
0BB9 F8                MOV     R0,A
0BBA A3                INC     DPTR
0BBB E0                MOVX    A,@DPTR
0BBC F9                MOV     R1,A
0BBD A3                INC     DPTR
0BBE E0                MOVX    A,@DPTR
0BBF FA                MOV     R2,A
0BC0 A3                INC     DPTR
0BC1 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 72  

0BC2 2F                ADD     A,R7
0BC3 FF                MOV     R7,A
0BC4 EA                MOV     A,R2
0BC5 3E                ADDC    A,R6
0BC6 FE                MOV     R6,A
0BC7 E9                MOV     A,R1
0BC8 3D                ADDC    A,R5
0BC9 FD                MOV     R5,A
0BCA EC                MOV     A,R4
0BCB 38                ADDC    A,R0
0BCC FC                MOV     R4,A
0BCD 900000      R     MOV     DPTR,#eeData
0BD0 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 338
0BD3 900000      R     MOV     DPTR,#context
0BD6 E0                MOVX    A,@DPTR
0BD7 FB                MOV     R3,A
0BD8 A3                INC     DPTR
0BD9 E0                MOVX    A,@DPTR
0BDA FA                MOV     R2,A
0BDB A3                INC     DPTR
0BDC E0                MOVX    A,@DPTR
0BDD 2414              ADD     A,#014H
0BDF F9                MOV     R1,A
0BE0 E4                CLR     A
0BE1 3A                ADDC    A,R2
0BE2 FA                MOV     R2,A
0BE3 120000      E     LCALL   ?C?CLDPTR
0BE6 606E              JZ      ?C0053
                                           ; SOURCE LINE # 339
                                           ; SOURCE LINE # 340
0BE8 900000      R     MOV     DPTR,#eeData
0BEB E0                MOVX    A,@DPTR
0BEC FC                MOV     R4,A
0BED A3                INC     DPTR
0BEE E0                MOVX    A,@DPTR
0BEF FD                MOV     R5,A
0BF0 A3                INC     DPTR
0BF1 E0                MOVX    A,@DPTR
0BF2 FE                MOV     R6,A
0BF3 A3                INC     DPTR
0BF4 E0                MOVX    A,@DPTR
0BF5 FF                MOV     R7,A
0BF6 900000      R     MOV     DPTR,#?_CheckCrcAndCopy?BYTE+04H
0BF9 120000      E     LCALL   ?C?LSTXDATA
0BFC 900000      R     MOV     DPTR,#srcOffset
0BFF E0                MOVX    A,@DPTR
0C00 FC                MOV     R4,A
0C01 A3                INC     DPTR
0C02 E0                MOVX    A,@DPTR
0C03 FD                MOV     R5,A
0C04 A3                INC     DPTR
0C05 E0                MOVX    A,@DPTR
0C06 FE                MOV     R6,A
0C07 A3                INC     DPTR
0C08 E0                MOVX    A,@DPTR
0C09 FF                MOV     R7,A
0C0A 900000      R     MOV     DPTR,#?_CheckCrcAndCopy?BYTE+08H
0C0D 120000      E     LCALL   ?C?LSTXDATA
0C10 900000      R     MOV     DPTR,#numBytesToRead
0C13 E0                MOVX    A,@DPTR
0C14 FC                MOV     R4,A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 73  

0C15 A3                INC     DPTR
0C16 E0                MOVX    A,@DPTR
0C17 FD                MOV     R5,A
0C18 A3                INC     DPTR
0C19 E0                MOVX    A,@DPTR
0C1A FE                MOV     R6,A
0C1B A3                INC     DPTR
0C1C E0                MOVX    A,@DPTR
0C1D FF                MOV     R7,A
0C1E 900000      R     MOV     DPTR,#?_CheckCrcAndCopy?BYTE+0CH
0C21 120000      E     LCALL   ?C?LSTXDATA
0C24 900000      R     MOV     DPTR,#context
0C27 E0                MOVX    A,@DPTR
0C28 F9                MOV     R1,A
0C29 A3                INC     DPTR
0C2A E0                MOVX    A,@DPTR
0C2B FA                MOV     R2,A
0C2C A3                INC     DPTR
0C2D E0                MOVX    A,@DPTR
0C2E 900000      R     MOV     DPTR,#?_CheckCrcAndCopy?BYTE+010H
0C31 C9                XCH     A,R1
0C32 F0                MOVX    @DPTR,A
0C33 A3                INC     DPTR
0C34 EA                MOV     A,R2
0C35 F0                MOVX    @DPTR,A
0C36 A3                INC     DPTR
0C37 E9                MOV     A,R1
0C38 F0                MOVX    @DPTR,A
0C39 900000      R     MOV     DPTR,#startRowAddr
0C3C E0                MOVX    A,@DPTR
0C3D FC                MOV     R4,A
0C3E A3                INC     DPTR
0C3F E0                MOVX    A,@DPTR
0C40 FD                MOV     R5,A
0C41 A3                INC     DPTR
0C42 E0                MOVX    A,@DPTR
0C43 FE                MOV     R6,A
0C44 A3                INC     DPTR
0C45 E0                MOVX    A,@DPTR
0C46 FF                MOV     R7,A
0C47 120000      R     LCALL   _CheckCrcAndCopy
0C4A 900000      R     MOV     DPTR,#ret
0C4D EF                MOV     A,R7
0C4E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 342
0C4F 605C              JZ      ?C0036
                                           ; SOURCE LINE # 343
                                           ; SOURCE LINE # 344
0C51 020000      R     LJMP    ?C0007
                                           ; SOURCE LINE # 345
0C54         ?C0054:
                                           ; SOURCE LINE # 346
0C54 8057              SJMP    ?C0036
0C56         ?C0053:
                                           ; SOURCE LINE # 348
                                           ; SOURCE LINE # 349
0C56 900000      R     MOV     DPTR,#numBytesToRead
0C59 E0                MOVX    A,@DPTR
0C5A A3                INC     DPTR
0C5B E0                MOVX    A,@DPTR
0C5C A3                INC     DPTR
0C5D E0                MOVX    A,@DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 74  

0C5E FE                MOV     R6,A
0C5F A3                INC     DPTR
0C60 E0                MOVX    A,@DPTR
0C61 FF                MOV     R7,A
0C62 C006              PUSH    AR6
0C64 C007              PUSH    AR7
0C66 900000      R     MOV     DPTR,#srcOffset
0C69 E0                MOVX    A,@DPTR
0C6A FC                MOV     R4,A
0C6B A3                INC     DPTR
0C6C E0                MOVX    A,@DPTR
0C6D FD                MOV     R5,A
0C6E A3                INC     DPTR
0C6F E0                MOVX    A,@DPTR
0C70 FE                MOV     R6,A
0C71 A3                INC     DPTR
0C72 E0                MOVX    A,@DPTR
0C73 FF                MOV     R7,A
0C74 900000      R     MOV     DPTR,#startRowAddr
0C77 E0                MOVX    A,@DPTR
0C78 F8                MOV     R0,A
0C79 A3                INC     DPTR
0C7A E0                MOVX    A,@DPTR
0C7B F9                MOV     R1,A
0C7C A3                INC     DPTR
0C7D E0                MOVX    A,@DPTR
0C7E FA                MOV     R2,A
0C7F A3                INC     DPTR
0C80 E0                MOVX    A,@DPTR
0C81 2F                ADD     A,R7
0C82 FF                MOV     R7,A
0C83 EA                MOV     A,R2
0C84 3E                ADDC    A,R6
0C85 FE                MOV     R6,A
0C86 E9                MOV     A,R1
0C87 3D                ADDC    A,R5
0C88 FD                MOV     R5,A
0C89 E8                MOV     A,R0
0C8A 3C                ADDC    A,R4
0C8B A907              MOV     R1,AR7
0C8D AA06              MOV     R2,AR6
0C8F AB05              MOV     R3,AR5
0C91 C002              PUSH    AR2
0C93 900000      R     MOV     DPTR,#eeData
0C96 E0                MOVX    A,@DPTR
0C97 A3                INC     DPTR
0C98 E0                MOVX    A,@DPTR
0C99 FD                MOV     R5,A
0C9A A3                INC     DPTR
0C9B E0                MOVX    A,@DPTR
0C9C FE                MOV     R6,A
0C9D A3                INC     DPTR
0C9E E0                MOVX    A,@DPTR
0C9F AA06              MOV     R2,AR6
0CA1 F8                MOV     R0,A
0CA2 AC02              MOV     R4,AR2
0CA4 D002              POP     AR2
0CA6 D007              POP     AR7
0CA8 D006              POP     AR6
0CAA 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 350
                                           ; SOURCE LINE # 351
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 75  

                                           ; SOURCE LINE # 352
                                           ; SOURCE LINE # 353
0CAD         ?C0036:
0CAD 900000      R     MOV     DPTR,#i
0CB0 E0                MOVX    A,@DPTR
0CB1 FC                MOV     R4,A
0CB2 A3                INC     DPTR
0CB3 E0                MOVX    A,@DPTR
0CB4 FD                MOV     R5,A
0CB5 A3                INC     DPTR
0CB6 E0                MOVX    A,@DPTR
0CB7 FE                MOV     R6,A
0CB8 A3                INC     DPTR
0CB9 E0                MOVX    A,@DPTR
0CBA FF                MOV     R7,A
0CBB E4                CLR     A
0CBC FA                MOV     R2,A
0CBD F9                MOV     R1,A
0CBE F8                MOV     R0,A
0CBF EF                MOV     A,R7
0CC0 2401              ADD     A,#01H
0CC2 FF                MOV     R7,A
0CC3 EA                MOV     A,R2
0CC4 3E                ADDC    A,R6
0CC5 FE                MOV     R6,A
0CC6 E9                MOV     A,R1
0CC7 3D                ADDC    A,R5
0CC8 FD                MOV     R5,A
0CC9 E8                MOV     A,R0
0CCA 3C                ADDC    A,R4
0CCB FC                MOV     R4,A
0CCC 900000      R     MOV     DPTR,#i
0CCF 120000      E     LCALL   ?C?LSTXDATA
0CD2 020000      R     LJMP    ?C0034
                                           ; SOURCE LINE # 354
                                           ; SOURCE LINE # 355
0CD5         ?C0007:
                                           ; SOURCE LINE # 357
0CD5 900000      R     MOV     DPTR,#ret
0CD8 E0                MOVX    A,@DPTR
0CD9 FF                MOV     R7,A
                                           ; SOURCE LINE # 358
0CDA         ?C0056:
0CDA 22                RET     
             ; FUNCTION _Cy_Em_EEPROM_Read (END)

             ; FUNCTION _Cy_Em_EEPROM_Write (BEGIN)
                                           ; SOURCE LINE # 411
0000 900000      R     MOV     DPTR,#addr
0003 120000      E     LCALL   ?C?LSTXDATA
0006 900000      R     MOV     DPTR,#eepromData
0009 EB                MOV     A,R3
000A F0                MOVX    @DPTR,A
000B A3                INC     DPTR
000C EA                MOV     A,R2
000D F0                MOVX    @DPTR,A
000E A3                INC     DPTR
000F E9                MOV     A,R1
0010 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 415
                                           ; SOURCE LINE # 416
0011 900000      R     MOV     DPTR,#ret
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 76  

0014 7401              MOV     A,#01H
0016 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 421
0017 E4                CLR     A
0018 FF                MOV     R7,A
0019 FE                MOV     R6,A
001A FD                MOV     R5,A
001B FC                MOV     R4,A
001C 900000      R     MOV     DPTR,#startAddr
001F 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 422
0022 E4                CLR     A
0023 FF                MOV     R7,A
0024 FE                MOV     R6,A
0025 FD                MOV     R5,A
0026 FC                MOV     R4,A
0027 900000      R     MOV     DPTR,#endAddr
002A 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 424
002D 900000      R     MOV     DPTR,#context
0030 E0                MOVX    A,@DPTR
0031 FB                MOV     R3,A
0032 A3                INC     DPTR
0033 E0                MOVX    A,@DPTR
0034 FA                MOV     R2,A
0035 A3                INC     DPTR
0036 E0                MOVX    A,@DPTR
0037 2408              ADD     A,#08H
0039 F9                MOV     R1,A
003A E4                CLR     A
003B 3A                ADDC    A,R2
003C FA                MOV     R2,A
003D 120000      E     LCALL   ?C?LLDPTR
0040 900000      R     MOV     DPTR,#emEepromRowAddr
0043 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 427
0046 900000      R     MOV     DPTR,#eepromData
0049 E0                MOVX    A,@DPTR
004A FB                MOV     R3,A
004B A3                INC     DPTR
004C E0                MOVX    A,@DPTR
004D FA                MOV     R2,A
004E A3                INC     DPTR
004F E0                MOVX    A,@DPTR
0050 F9                MOV     R1,A
0051 FF                MOV     R7,A
0052 AE02              MOV     R6,AR2
0054 AD03              MOV     R5,AR3
0056 7C00              MOV     R4,#00H
0058 900000      R     MOV     DPTR,#eeData
005B 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 430
005E 900000      R     MOV     DPTR,#size
0061 E0                MOVX    A,@DPTR
0062 A3                INC     DPTR
0063 E0                MOVX    A,@DPTR
0064 A3                INC     DPTR
0065 E0                MOVX    A,@DPTR
0066 FE                MOV     R6,A
0067 A3                INC     DPTR
0068 E0                MOVX    A,@DPTR
0069 4E                ORL     A,R6
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 77  

006A 7003              JNZ     $ + 5H
006C 020000      R     LJMP    ?C0057
006F A3                INC     DPTR
0070 E0                MOVX    A,@DPTR
0071 FB                MOV     R3,A
0072 A3                INC     DPTR
0073 E0                MOVX    A,@DPTR
0074 FA                MOV     R2,A
0075 A3                INC     DPTR
0076 E0                MOVX    A,@DPTR
0077 240C              ADD     A,#0CH
0079 F9                MOV     R1,A
007A E4                CLR     A
007B 3A                ADDC    A,R2
007C FA                MOV     R2,A
007D 120000      E     LCALL   ?C?LLDPTR0
0080 C000              PUSH    AR0
0082 C001              PUSH    AR1
0084 C002              PUSH    AR2
0086 900000      R     MOV     DPTR,#size
0089 E0                MOVX    A,@DPTR
008A FC                MOV     R4,A
008B A3                INC     DPTR
008C E0                MOVX    A,@DPTR
008D FD                MOV     R5,A
008E A3                INC     DPTR
008F E0                MOVX    A,@DPTR
0090 A3                INC     DPTR
0091 E0                MOVX    A,@DPTR
0092 FF                MOV     R7,A
0093 900000      R     MOV     DPTR,#addr
0096 E0                MOVX    A,@DPTR
0097 F8                MOV     R0,A
0098 A3                INC     DPTR
0099 E0                MOVX    A,@DPTR
009A F9                MOV     R1,A
009B A3                INC     DPTR
009C E0                MOVX    A,@DPTR
009D FA                MOV     R2,A
009E A3                INC     DPTR
009F E0                MOVX    A,@DPTR
00A0 2F                ADD     A,R7
00A1 FF                MOV     R7,A
00A2 EA                MOV     A,R2
00A3 3E                ADDC    A,R6
00A4 FE                MOV     R6,A
00A5 E9                MOV     A,R1
00A6 3D                ADDC    A,R5
00A7 FD                MOV     R5,A
00A8 E8                MOV     A,R0
00A9 3C                ADDC    A,R4
00AA FC                MOV     R4,A
00AB D002              POP     AR2
00AD D001              POP     AR1
00AF D000              POP     AR0
00B1 C3                CLR     C
00B2 120000      E     LCALL   ?C?ULCMP
00B5 5003              JNC     $ + 5H
00B7 020000      R     LJMP    ?C0057
00BA 900000      R     MOV     DPTR,#eepromData
00BD E0                MOVX    A,@DPTR
00BE FB                MOV     R3,A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 78  

00BF A3                INC     DPTR
00C0 E0                MOVX    A,@DPTR
00C1 FA                MOV     R2,A
00C2 A3                INC     DPTR
00C3 E0                MOVX    A,@DPTR
00C4 4A                ORL     A,R2
00C5 4B                ORL     A,R3
00C6 7003              JNZ     $ + 5H
00C8 020000      R     LJMP    ?C0057
                                           ; SOURCE LINE # 431
                                           ; SOURCE LINE # 432
00CB A3                INC     DPTR
00CC E0                MOVX    A,@DPTR
00CD FC                MOV     R4,A
00CE A3                INC     DPTR
00CF E0                MOVX    A,@DPTR
00D0 FD                MOV     R5,A
00D1 A3                INC     DPTR
00D2 E0                MOVX    A,@DPTR
00D3 FE                MOV     R6,A
00D4 A3                INC     DPTR
00D5 E0                MOVX    A,@DPTR
00D6 24FF              ADD     A,#0FFH
00D8 FF                MOV     R7,A
00D9 EE                MOV     A,R6
00DA 34FF              ADDC    A,#0FFH
00DC FE                MOV     R6,A
00DD ED                MOV     A,R5
00DE 34FF              ADDC    A,#0FFH
00E0 FD                MOV     R5,A
00E1 EC                MOV     A,R4
00E2 34FF              ADDC    A,#0FFH
00E4 FC                MOV     R4,A
00E5 E4                CLR     A
00E6 7B70              MOV     R3,#070H
00E8 FA                MOV     R2,A
00E9 F9                MOV     R1,A
00EA F8                MOV     R0,A
00EB 120000      E     LCALL   ?C?ULDIV
00EE EF                MOV     A,R7
00EF 2401              ADD     A,#01H
00F1 FF                MOV     R7,A
00F2 E4                CLR     A
00F3 3E                ADDC    A,R6
00F4 FE                MOV     R6,A
00F5 E4                CLR     A
00F6 3D                ADDC    A,R5
00F7 FD                MOV     R5,A
00F8 E4                CLR     A
00F9 3C                ADDC    A,R4
00FA FC                MOV     R4,A
00FB 900000      R     MOV     DPTR,#numWrites
00FE 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 433
0101 E4                CLR     A
0102 FF                MOV     R7,A
0103 FE                MOV     R6,A
0104 FD                MOV     R5,A
0105 FC                MOV     R4,A
0106 900000      R     MOV     DPTR,#eeHeaderDataOffset
0109 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 435
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 79  

010C E4                CLR     A
010D FF                MOV     R7,A
010E FE                MOV     R6,A
010F FD                MOV     R5,A
0110 FC                MOV     R4,A
0111 900000      R     MOV     DPTR,#wrCnt
0114 120000      E     LCALL   ?C?LSTXDATA
0117         ?C0058:
0117 900000      R     MOV     DPTR,#numWrites
011A E0                MOVX    A,@DPTR
011B FC                MOV     R4,A
011C A3                INC     DPTR
011D E0                MOVX    A,@DPTR
011E FD                MOV     R5,A
011F A3                INC     DPTR
0120 E0                MOVX    A,@DPTR
0121 FE                MOV     R6,A
0122 A3                INC     DPTR
0123 E0                MOVX    A,@DPTR
0124 FF                MOV     R7,A
0125 900000      R     MOV     DPTR,#wrCnt
0128 E0                MOVX    A,@DPTR
0129 F8                MOV     R0,A
012A A3                INC     DPTR
012B E0                MOVX    A,@DPTR
012C F9                MOV     R1,A
012D A3                INC     DPTR
012E E0                MOVX    A,@DPTR
012F FA                MOV     R2,A
0130 A3                INC     DPTR
0131 E0                MOVX    A,@DPTR
0132 FB                MOV     R3,A
0133 C3                CLR     C
0134 120000      E     LCALL   ?C?ULCMP
0137 4003              JC      $ + 5H
0139 020000      R     LJMP    ?C0057
                                           ; SOURCE LINE # 436
                                           ; SOURCE LINE # 437
013C E4                CLR     A
013D FF                MOV     R7,A
013E FE                MOV     R6,A
013F FD                MOV     R5,A
0140 FC                MOV     R4,A
0141 900000      R     MOV     DPTR,#skipOperation
0144 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 439
0147 900000      R     MOV     DPTR,#emEepromRowAddr
014A E0                MOVX    A,@DPTR
014B A3                INC     DPTR
014C E0                MOVX    A,@DPTR
014D FD                MOV     R5,A
014E A3                INC     DPTR
014F E0                MOVX    A,@DPTR
0150 FE                MOV     R6,A
0151 A3                INC     DPTR
0152 E0                MOVX    A,@DPTR
0153 F9                MOV     R1,A
0154 AA06              MOV     R2,AR6
0156 AB05              MOV     R3,AR5
0158 120000      E     LCALL   ?C?LLDPTR
015B 900000      R     MOV     DPTR,#seqNum
015E 120000      E     LCALL   ?C?LSTXDATA
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 80  

                                           ; SOURCE LINE # 446
0161 900000      R     MOV     DPTR,#seqNum
0164 E0                MOVX    A,@DPTR
0165 FC                MOV     R4,A
0166 A3                INC     DPTR
0167 E0                MOVX    A,@DPTR
0168 FD                MOV     R5,A
0169 A3                INC     DPTR
016A E0                MOVX    A,@DPTR
016B FE                MOV     R6,A
016C A3                INC     DPTR
016D E0                MOVX    A,@DPTR
016E FF                MOV     R7,A
016F 900000      R     MOV     DPTR,#?_GetNextRowToWrite?BYTE+07H
0172 7401              MOV     A,#01H
0174 F0                MOVX    @DPTR,A
0175 A3                INC     DPTR
0176 7400        R     MOV     A,#HIGH emEepromRowRdAddr
0178 F0                MOVX    @DPTR,A
0179 A3                INC     DPTR
017A 7400        R     MOV     A,#LOW emEepromRowRdAddr
017C F0                MOVX    @DPTR,A
017D 900000      R     MOV     DPTR,#context
0180 E0                MOVX    A,@DPTR
0181 F9                MOV     R1,A
0182 A3                INC     DPTR
0183 E0                MOVX    A,@DPTR
0184 FA                MOV     R2,A
0185 A3                INC     DPTR
0186 E0                MOVX    A,@DPTR
0187 900000      R     MOV     DPTR,#?_GetNextRowToWrite?BYTE+0AH
018A C9                XCH     A,R1
018B F0                MOVX    @DPTR,A
018C A3                INC     DPTR
018D EA                MOV     A,R2
018E F0                MOVX    @DPTR,A
018F A3                INC     DPTR
0190 E9                MOV     A,R1
0191 F0                MOVX    @DPTR,A
0192 7B01              MOV     R3,#01H
0194 7A00        R     MOV     R2,#HIGH emEepromRowAddr
0196 7900        R     MOV     R1,#LOW emEepromRowAddr
0198 120000      R     LCALL   _GetNextRowToWrite
                                           ; SOURCE LINE # 449
019B 7E01              MOV     R6,#01H
019D 7F00              MOV     R7,#00H
019F 7D00              MOV     R5,#00H
01A1 7B01              MOV     R3,#01H
01A3 7A00        R     MOV     R2,#HIGH writeRamBuffer
01A5 7900        R     MOV     R1,#LOW writeRamBuffer
01A7 120000      E     LCALL   ?C?MEMSET
                                           ; SOURCE LINE # 452
01AA 900000      R     MOV     DPTR,#seqNum
01AD E0                MOVX    A,@DPTR
01AE FC                MOV     R4,A
01AF A3                INC     DPTR
01B0 E0                MOVX    A,@DPTR
01B1 FD                MOV     R5,A
01B2 A3                INC     DPTR
01B3 E0                MOVX    A,@DPTR
01B4 FE                MOV     R6,A
01B5 A3                INC     DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 81  

01B6 E0                MOVX    A,@DPTR
01B7 FF                MOV     R7,A
01B8 E4                CLR     A
01B9 FA                MOV     R2,A
01BA F9                MOV     R1,A
01BB F8                MOV     R0,A
01BC EF                MOV     A,R7
01BD 2401              ADD     A,#01H
01BF FF                MOV     R7,A
01C0 EA                MOV     A,R2
01C1 3E                ADDC    A,R6
01C2 FE                MOV     R6,A
01C3 E9                MOV     A,R1
01C4 3D                ADDC    A,R5
01C5 FD                MOV     R5,A
01C6 E8                MOV     A,R0
01C7 3C                ADDC    A,R4
01C8 FC                MOV     R4,A
01C9 900000      R     MOV     DPTR,#seqNum
01CC 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 453
01CF 900000      R     MOV     DPTR,#seqNum
01D2 E0                MOVX    A,@DPTR
01D3 FC                MOV     R4,A
01D4 A3                INC     DPTR
01D5 E0                MOVX    A,@DPTR
01D6 FD                MOV     R5,A
01D7 A3                INC     DPTR
01D8 E0                MOVX    A,@DPTR
01D9 FE                MOV     R6,A
01DA A3                INC     DPTR
01DB E0                MOVX    A,@DPTR
01DC FF                MOV     R7,A
01DD 900000      R     MOV     DPTR,#writeRamBuffer
01E0 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 454
01E3 900000      R     MOV     DPTR,#addr
01E6 E0                MOVX    A,@DPTR
01E7 FC                MOV     R4,A
01E8 A3                INC     DPTR
01E9 E0                MOVX    A,@DPTR
01EA FD                MOV     R5,A
01EB A3                INC     DPTR
01EC E0                MOVX    A,@DPTR
01ED FE                MOV     R6,A
01EE A3                INC     DPTR
01EF E0                MOVX    A,@DPTR
01F0 FF                MOV     R7,A
01F1 900000      R     MOV     DPTR,#writeRamBuffer+04H
01F4 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 455
01F7 900000      R     MOV     DPTR,#eeData
01FA E0                MOVX    A,@DPTR
01FB A3                INC     DPTR
01FC E0                MOVX    A,@DPTR
01FD FD                MOV     R5,A
01FE A3                INC     DPTR
01FF E0                MOVX    A,@DPTR
0200 FE                MOV     R6,A
0201 A3                INC     DPTR
0202 E0                MOVX    A,@DPTR
0203 F9                MOV     R1,A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 82  

0204 AA06              MOV     R2,AR6
0206 900000      R     MOV     DPTR,#tmpData
0209 ED                MOV     A,R5
020A F0                MOVX    @DPTR,A
020B A3                INC     DPTR
020C EA                MOV     A,R2
020D F0                MOVX    @DPTR,A
020E A3                INC     DPTR
020F E9                MOV     A,R1
0210 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 458
0211 900000      R     MOV     DPTR,#numWrites
0214 E0                MOVX    A,@DPTR
0215 FC                MOV     R4,A
0216 A3                INC     DPTR
0217 E0                MOVX    A,@DPTR
0218 FD                MOV     R5,A
0219 A3                INC     DPTR
021A E0                MOVX    A,@DPTR
021B FE                MOV     R6,A
021C A3                INC     DPTR
021D E0                MOVX    A,@DPTR
021E 24FF              ADD     A,#0FFH
0220 FF                MOV     R7,A
0221 EE                MOV     A,R6
0222 34FF              ADDC    A,#0FFH
0224 FE                MOV     R6,A
0225 ED                MOV     A,R5
0226 34FF              ADDC    A,#0FFH
0228 FD                MOV     R5,A
0229 EC                MOV     A,R4
022A 34FF              ADDC    A,#0FFH
022C FC                MOV     R4,A
022D 900000      R     MOV     DPTR,#wrCnt
0230 E0                MOVX    A,@DPTR
0231 F8                MOV     R0,A
0232 A3                INC     DPTR
0233 E0                MOVX    A,@DPTR
0234 F9                MOV     R1,A
0235 A3                INC     DPTR
0236 E0                MOVX    A,@DPTR
0237 FA                MOV     R2,A
0238 A3                INC     DPTR
0239 E0                MOVX    A,@DPTR
023A FB                MOV     R3,A
023B C3                CLR     C
023C 120000      E     LCALL   ?C?ULCMP
023F 7016              JNZ     ?C0061
                                           ; SOURCE LINE # 459
                                           ; SOURCE LINE # 461
0241 900000      R     MOV     DPTR,#size
0244 E0                MOVX    A,@DPTR
0245 FC                MOV     R4,A
0246 A3                INC     DPTR
0247 E0                MOVX    A,@DPTR
0248 FD                MOV     R5,A
0249 A3                INC     DPTR
024A E0                MOVX    A,@DPTR
024B FE                MOV     R6,A
024C A3                INC     DPTR
024D E0                MOVX    A,@DPTR
024E FF                MOV     R7,A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 83  

024F 900000      R     MOV     DPTR,#writeRamBuffer+08H
0252 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 462
0255 806D              SJMP    ?C0062
0257         ?C0061:
                                           ; SOURCE LINE # 464
                                           ; SOURCE LINE # 469
0257 E4                CLR     A
0258 7F70              MOV     R7,#070H
025A FE                MOV     R6,A
025B FD                MOV     R5,A
025C FC                MOV     R4,A
025D 900000      R     MOV     DPTR,#writeRamBuffer+08H
0260 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 470
0263 900000      R     MOV     DPTR,#size
0266 E0                MOVX    A,@DPTR
0267 FC                MOV     R4,A
0268 A3                INC     DPTR
0269 E0                MOVX    A,@DPTR
026A FD                MOV     R5,A
026B A3                INC     DPTR
026C E0                MOVX    A,@DPTR
026D FE                MOV     R6,A
026E A3                INC     DPTR
026F E0                MOVX    A,@DPTR
0270 C3                CLR     C
0271 9470              SUBB    A,#070H
0273 FF                MOV     R7,A
0274 EE                MOV     A,R6
0275 9400              SUBB    A,#00H
0277 FE                MOV     R6,A
0278 ED                MOV     A,R5
0279 9400              SUBB    A,#00H
027B FD                MOV     R5,A
027C EC                MOV     A,R4
027D 9400              SUBB    A,#00H
027F FC                MOV     R4,A
0280 900000      R     MOV     DPTR,#size
0283 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 471
0286 900000      R     MOV     DPTR,#addr
0289 E0                MOVX    A,@DPTR
028A FC                MOV     R4,A
028B A3                INC     DPTR
028C E0                MOVX    A,@DPTR
028D FD                MOV     R5,A
028E A3                INC     DPTR
028F E0                MOVX    A,@DPTR
0290 FE                MOV     R6,A
0291 A3                INC     DPTR
0292 E0                MOVX    A,@DPTR
0293 2470              ADD     A,#070H
0295 FF                MOV     R7,A
0296 E4                CLR     A
0297 3E                ADDC    A,R6
0298 FE                MOV     R6,A
0299 E4                CLR     A
029A 3D                ADDC    A,R5
029B FD                MOV     R5,A
029C E4                CLR     A
029D 3C                ADDC    A,R4
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 84  

029E FC                MOV     R4,A
029F 900000      R     MOV     DPTR,#addr
02A2 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 472
02A5 900000      R     MOV     DPTR,#eeData
02A8 E0                MOVX    A,@DPTR
02A9 FC                MOV     R4,A
02AA A3                INC     DPTR
02AB E0                MOVX    A,@DPTR
02AC FD                MOV     R5,A
02AD A3                INC     DPTR
02AE E0                MOVX    A,@DPTR
02AF FE                MOV     R6,A
02B0 A3                INC     DPTR
02B1 E0                MOVX    A,@DPTR
02B2 2470              ADD     A,#070H
02B4 FF                MOV     R7,A
02B5 E4                CLR     A
02B6 3E                ADDC    A,R6
02B7 FE                MOV     R6,A
02B8 E4                CLR     A
02B9 3D                ADDC    A,R5
02BA FD                MOV     R5,A
02BB E4                CLR     A
02BC 3C                ADDC    A,R4
02BD FC                MOV     R4,A
02BE 900000      R     MOV     DPTR,#eeData
02C1 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 473
02C4         ?C0062:
                                           ; SOURCE LINE # 476
02C4 900000      R     MOV     DPTR,#writeRamBuffer+08H
02C7 E0                MOVX    A,@DPTR
02C8 A3                INC     DPTR
02C9 E0                MOVX    A,@DPTR
02CA A3                INC     DPTR
02CB E0                MOVX    A,@DPTR
02CC FE                MOV     R6,A
02CD A3                INC     DPTR
02CE E0                MOVX    A,@DPTR
02CF FF                MOV     R7,A
02D0 7800        R     MOV     R0,#LOW writeRamBuffer+0CH
02D2 7C00        R     MOV     R4,#HIGH writeRamBuffer+0CH
02D4 7D01              MOV     R5,#01H
02D6 900000      R     MOV     DPTR,#tmpData
02D9 E0                MOVX    A,@DPTR
02DA FB                MOV     R3,A
02DB A3                INC     DPTR
02DC E0                MOVX    A,@DPTR
02DD FA                MOV     R2,A
02DE A3                INC     DPTR
02DF E0                MOVX    A,@DPTR
02E0 F9                MOV     R1,A
02E1 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 480
02E4 E4                CLR     A
02E5 FF                MOV     R7,A
02E6 FE                MOV     R6,A
02E7 FD                MOV     R5,A
02E8 FC                MOV     R4,A
02E9 900000      R     MOV     DPTR,#emEepromRowRdAddr
02EC E0                MOVX    A,@DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 85  

02ED F8                MOV     R0,A
02EE A3                INC     DPTR
02EF E0                MOVX    A,@DPTR
02F0 F9                MOV     R1,A
02F1 A3                INC     DPTR
02F2 E0                MOVX    A,@DPTR
02F3 FA                MOV     R2,A
02F4 A3                INC     DPTR
02F5 E0                MOVX    A,@DPTR
02F6 FB                MOV     R3,A
02F7 C3                CLR     C
02F8 120000      E     LCALL   ?C?ULCMP
02FB 602B              JZ      ?C0063
                                           ; SOURCE LINE # 481
                                           ; SOURCE LINE # 484
02FD 900000      R     MOV     DPTR,#emEepromRowRdAddr
0300 E0                MOVX    A,@DPTR
0301 FC                MOV     R4,A
0302 A3                INC     DPTR
0303 E0                MOVX    A,@DPTR
0304 FD                MOV     R5,A
0305 A3                INC     DPTR
0306 E0                MOVX    A,@DPTR
0307 FE                MOV     R6,A
0308 A3                INC     DPTR
0309 E0                MOVX    A,@DPTR
030A 2480              ADD     A,#080H
030C FF                MOV     R7,A
030D E4                CLR     A
030E 3E                ADDC    A,R6
030F FE                MOV     R6,A
0310 E4                CLR     A
0311 3D                ADDC    A,R5
0312 FD                MOV     R5,A
0313 E4                CLR     A
0314 3C                ADDC    A,R4
0315 A907              MOV     R1,AR7
0317 AA06              MOV     R2,AR6
0319 AB05              MOV     R3,AR5
031B 7800        R     MOV     R0,#LOW writeRamBuffer+080H
031D 7C00        R     MOV     R4,#HIGH writeRamBuffer+080H
031F 7D01              MOV     R5,#01H
0321 7E00              MOV     R6,#00H
0323 7F80              MOV     R7,#080H
0325 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 486
0328         ?C0063:
                                           ; SOURCE LINE # 492
0328 900000      R     MOV     DPTR,#context
032B E0                MOVX    A,@DPTR
032C FB                MOV     R3,A
032D A3                INC     DPTR
032E E0                MOVX    A,@DPTR
032F FA                MOV     R2,A
0330 A3                INC     DPTR
0331 E0                MOVX    A,@DPTR
0332 2404              ADD     A,#04H
0334 F9                MOV     R1,A
0335 E4                CLR     A
0336 3A                ADDC    A,R2
0337 FA                MOV     R2,A
0338 120000      E     LCALL   ?C?LLDPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 86  

033B 900000      R     MOV     DPTR,#seqNum
033E E0                MOVX    A,@DPTR
033F F8                MOV     R0,A
0340 A3                INC     DPTR
0341 E0                MOVX    A,@DPTR
0342 F9                MOV     R1,A
0343 A3                INC     DPTR
0344 E0                MOVX    A,@DPTR
0345 FA                MOV     R2,A
0346 A3                INC     DPTR
0347 E0                MOVX    A,@DPTR
0348 FB                MOV     R3,A
0349 D3                SETB    C
034A 120000      E     LCALL   ?C?ULCMP
034D 403B              JC      ?C0064
034F 900000      R     MOV     DPTR,#context
0352 E0                MOVX    A,@DPTR
0353 FB                MOV     R3,A
0354 A3                INC     DPTR
0355 E0                MOVX    A,@DPTR
0356 FA                MOV     R2,A
0357 A3                INC     DPTR
0358 E0                MOVX    A,@DPTR
0359 2404              ADD     A,#04H
035B F9                MOV     R1,A
035C E4                CLR     A
035D 3A                ADDC    A,R2
035E FA                MOV     R2,A
035F 120000      E     LCALL   ?C?LLDPTR0
0362 900000      R     MOV     DPTR,#seqNum
0365 E0                MOVX    A,@DPTR
0366 FC                MOV     R4,A
0367 A3                INC     DPTR
0368 E0                MOVX    A,@DPTR
0369 FD                MOV     R5,A
036A A3                INC     DPTR
036B E0                MOVX    A,@DPTR
036C FE                MOV     R6,A
036D A3                INC     DPTR
036E E0                MOVX    A,@DPTR
036F C3                CLR     C
0370 9B                SUBB    A,R3
0371 FF                MOV     R7,A
0372 EE                MOV     A,R6
0373 9A                SUBB    A,R2
0374 FE                MOV     R6,A
0375 ED                MOV     A,R5
0376 99                SUBB    A,R1
0377 FD                MOV     R5,A
0378 EC                MOV     A,R4
0379 98                SUBB    A,R0
037A FC                MOV     R4,A
037B EF                MOV     A,R7
037C 2401              ADD     A,#01H
037E FF                MOV     R7,A
037F E4                CLR     A
0380 3E                ADDC    A,R6
0381 FE                MOV     R6,A
0382 E4                CLR     A
0383 3D                ADDC    A,R5
0384 FD                MOV     R5,A
0385 E4                CLR     A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 87  

0386 3C                ADDC    A,R4
0387 FC                MOV     R4,A
0388 8006              SJMP    ?C0065
038A         ?C0064:
038A E4                CLR     A
038B 7F01              MOV     R7,#01H
038D FE                MOV     R6,A
038E FD                MOV     R5,A
038F FC                MOV     R4,A
0390         ?C0065:
0390 900000      R     MOV     DPTR,#i
0393 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 494
0396         ?C0066:
0396 900000      R     MOV     DPTR,#seqNum
0399 E0                MOVX    A,@DPTR
039A FC                MOV     R4,A
039B A3                INC     DPTR
039C E0                MOVX    A,@DPTR
039D FD                MOV     R5,A
039E A3                INC     DPTR
039F E0                MOVX    A,@DPTR
03A0 FE                MOV     R6,A
03A1 A3                INC     DPTR
03A2 E0                MOVX    A,@DPTR
03A3 FF                MOV     R7,A
03A4 900000      R     MOV     DPTR,#i
03A7 E0                MOVX    A,@DPTR
03A8 F8                MOV     R0,A
03A9 A3                INC     DPTR
03AA E0                MOVX    A,@DPTR
03AB F9                MOV     R1,A
03AC A3                INC     DPTR
03AD E0                MOVX    A,@DPTR
03AE FA                MOV     R2,A
03AF A3                INC     DPTR
03B0 E0                MOVX    A,@DPTR
03B1 FB                MOV     R3,A
03B2 D3                SETB    C
03B3 120000      E     LCALL   ?C?ULCMP
03B6 4003              JC      $ + 5H
03B8 020000      R     LJMP    ?C0067
                                           ; SOURCE LINE # 495
                                           ; SOURCE LINE # 496
03BB 900000      R     MOV     DPTR,#seqNum
03BE E0                MOVX    A,@DPTR
03BF FC                MOV     R4,A
03C0 A3                INC     DPTR
03C1 E0                MOVX    A,@DPTR
03C2 FD                MOV     R5,A
03C3 A3                INC     DPTR
03C4 E0                MOVX    A,@DPTR
03C5 FE                MOV     R6,A
03C6 A3                INC     DPTR
03C7 E0                MOVX    A,@DPTR
03C8 FF                MOV     R7,A
03C9 900000      R     MOV     DPTR,#i
03CC E0                MOVX    A,@DPTR
03CD F8                MOV     R0,A
03CE A3                INC     DPTR
03CF E0                MOVX    A,@DPTR
03D0 A3                INC     DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 88  

03D1 E0                MOVX    A,@DPTR
03D2 A3                INC     DPTR
03D3 E0                MOVX    A,@DPTR
03D4 C3                CLR     C
03D5 120000      E     LCALL   ?C?ULCMP
03D8 7015              JNZ     ?C0069
                                           ; SOURCE LINE # 497
                                           ; SOURCE LINE # 502
03DA 7B01              MOV     R3,#01H
03DC 7A00        R     MOV     R2,#HIGH writeRamBuffer
03DE 7900        R     MOV     R1,#LOW writeRamBuffer
03E0 AF01              MOV     R7,AR1
03E2 AE02              MOV     R6,AR2
03E4 7D01              MOV     R5,#01H
03E6 FC                MOV     R4,A
03E7 900000      R     MOV     DPTR,#tmpRowAddr
03EA 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 503
03ED 8022              SJMP    ?C0070
03EF         ?C0069:
                                           ; SOURCE LINE # 505
                                           ; SOURCE LINE # 509
03EF 900000      R     MOV     DPTR,#i
03F2 E0                MOVX    A,@DPTR
03F3 FC                MOV     R4,A
03F4 A3                INC     DPTR
03F5 E0                MOVX    A,@DPTR
03F6 FD                MOV     R5,A
03F7 A3                INC     DPTR
03F8 E0                MOVX    A,@DPTR
03F9 FE                MOV     R6,A
03FA A3                INC     DPTR
03FB E0                MOVX    A,@DPTR
03FC FF                MOV     R7,A
03FD 900000      R     MOV     DPTR,#context
0400 E0                MOVX    A,@DPTR
0401 FB                MOV     R3,A
0402 A3                INC     DPTR
0403 E0                MOVX    A,@DPTR
0404 FA                MOV     R2,A
0405 A3                INC     DPTR
0406 E0                MOVX    A,@DPTR
0407 F9                MOV     R1,A
0408 120000      R     LCALL   _GetRowAddrBySeqNum
040B 900000      R     MOV     DPTR,#tmpRowAddr
040E 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 510
0411         ?C0070:
                                           ; SOURCE LINE # 512
0411 900000      R     MOV     DPTR,#context
0414 E0                MOVX    A,@DPTR
0415 FB                MOV     R3,A
0416 A3                INC     DPTR
0417 E0                MOVX    A,@DPTR
0418 FA                MOV     R2,A
0419 A3                INC     DPTR
041A E0                MOVX    A,@DPTR
041B 2416              ADD     A,#016H
041D F9                MOV     R1,A
041E E4                CLR     A
041F 3A                ADDC    A,R2
0420 FA                MOV     R2,A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 89  

0421 120000      E     LCALL   ?C?LLDPTR0
0424 900000      R     MOV     DPTR,#emEepromRowAddr
0427 E0                MOVX    A,@DPTR
0428 FC                MOV     R4,A
0429 A3                INC     DPTR
042A E0                MOVX    A,@DPTR
042B FD                MOV     R5,A
042C A3                INC     DPTR
042D E0                MOVX    A,@DPTR
042E FE                MOV     R6,A
042F A3                INC     DPTR
0430 E0                MOVX    A,@DPTR
0431 C3                CLR     C
0432 9B                SUBB    A,R3
0433 FF                MOV     R7,A
0434 EE                MOV     A,R6
0435 9A                SUBB    A,R2
0436 FE                MOV     R6,A
0437 ED                MOV     A,R5
0438 99                SUBB    A,R1
0439 FD                MOV     R5,A
043A EC                MOV     A,R4
043B 98                SUBB    A,R0
043C FC                MOV     R4,A
043D E4                CLR     A
043E FB                MOV     R3,A
043F 7A01              MOV     R2,#01H
0441 F9                MOV     R1,A
0442 F8                MOV     R0,A
0443 120000      E     LCALL   ?C?ULDIV
0446 900000      R     MOV     DPTR,#context
0449 E0                MOVX    A,@DPTR
044A FB                MOV     R3,A
044B A3                INC     DPTR
044C E0                MOVX    A,@DPTR
044D FA                MOV     R2,A
044E A3                INC     DPTR
044F E0                MOVX    A,@DPTR
0450 2404              ADD     A,#04H
0452 F9                MOV     R1,A
0453 E4                CLR     A
0454 3A                ADDC    A,R2
0455 FA                MOV     R2,A
0456 120000      E     LCALL   ?C?LLDPTR0
0459 120000      E     LCALL   ?C?ULDIV
045C AC00              MOV     R4,AR0
045E AD01              MOV     R5,AR1
0460 AE02              MOV     R6,AR2
0462 AF03              MOV     R7,AR3
0464 900000      R     MOV     DPTR,#actEmEepromRowNum
0467 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 515
046A E4                CLR     A
046B FF                MOV     R7,A
046C FE                MOV     R6,A
046D FD                MOV     R5,A
046E FC                MOV     R4,A
046F 900000      R     MOV     DPTR,#tmpRowAddr
0472 E0                MOVX    A,@DPTR
0473 F8                MOV     R0,A
0474 A3                INC     DPTR
0475 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 90  

0476 F9                MOV     R1,A
0477 A3                INC     DPTR
0478 E0                MOVX    A,@DPTR
0479 FA                MOV     R2,A
047A A3                INC     DPTR
047B E0                MOVX    A,@DPTR
047C FB                MOV     R3,A
047D C3                CLR     C
047E 120000      E     LCALL   ?C?ULCMP
0481 7003              JNZ     $ + 5H
0483 020000      R     LJMP    ?C0071
                                           ; SOURCE LINE # 516
                                           ; SOURCE LINE # 524
0486 900000      R     MOV     DPTR,#?_GetAddresses?BYTE+03H
0489 7401              MOV     A,#01H
048B F0                MOVX    @DPTR,A
048C A3                INC     DPTR
048D 7400        R     MOV     A,#HIGH endAddr
048F F0                MOVX    @DPTR,A
0490 A3                INC     DPTR
0491 7400        R     MOV     A,#LOW endAddr
0493 F0                MOVX    @DPTR,A
0494 A3                INC     DPTR
0495 7401              MOV     A,#01H
0497 F0                MOVX    @DPTR,A
0498 A3                INC     DPTR
0499 7400        R     MOV     A,#HIGH eeHeaderDataOffset
049B F0                MOVX    @DPTR,A
049C A3                INC     DPTR
049D 7400        R     MOV     A,#LOW eeHeaderDataOffset
049F F0                MOVX    @DPTR,A
04A0 900000      R     MOV     DPTR,#actEmEepromRowNum
04A3 E0                MOVX    A,@DPTR
04A4 FC                MOV     R4,A
04A5 A3                INC     DPTR
04A6 E0                MOVX    A,@DPTR
04A7 FD                MOV     R5,A
04A8 A3                INC     DPTR
04A9 E0                MOVX    A,@DPTR
04AA FE                MOV     R6,A
04AB A3                INC     DPTR
04AC E0                MOVX    A,@DPTR
04AD FF                MOV     R7,A
04AE 900000      R     MOV     DPTR,#?_GetAddresses?BYTE+09H
04B1 120000      E     LCALL   ?C?LSTXDATA
04B4 900000      R     MOV     DPTR,#tmpRowAddr
04B7 E0                MOVX    A,@DPTR
04B8 FC                MOV     R4,A
04B9 A3                INC     DPTR
04BA E0                MOVX    A,@DPTR
04BB FD                MOV     R5,A
04BC A3                INC     DPTR
04BD E0                MOVX    A,@DPTR
04BE FE                MOV     R6,A
04BF A3                INC     DPTR
04C0 E0                MOVX    A,@DPTR
04C1 2404              ADD     A,#04H
04C3 FF                MOV     R7,A
04C4 E4                CLR     A
04C5 3E                ADDC    A,R6
04C6 FE                MOV     R6,A
04C7 E4                CLR     A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 91  

04C8 3D                ADDC    A,R5
04C9 FD                MOV     R5,A
04CA E4                CLR     A
04CB 3C                ADDC    A,R4
04CC A907              MOV     R1,AR7
04CE AA06              MOV     R2,AR6
04D0 AB05              MOV     R3,AR5
04D2 120000      E     LCALL   ?C?LLDPTR
04D5 900000      R     MOV     DPTR,#?_GetAddresses?BYTE+0DH
04D8 120000      E     LCALL   ?C?LSTXDATA
04DB 900000      R     MOV     DPTR,#tmpRowAddr
04DE E0                MOVX    A,@DPTR
04DF FC                MOV     R4,A
04E0 A3                INC     DPTR
04E1 E0                MOVX    A,@DPTR
04E2 FD                MOV     R5,A
04E3 A3                INC     DPTR
04E4 E0                MOVX    A,@DPTR
04E5 FE                MOV     R6,A
04E6 A3                INC     DPTR
04E7 E0                MOVX    A,@DPTR
04E8 2408              ADD     A,#08H
04EA FF                MOV     R7,A
04EB E4                CLR     A
04EC 3E                ADDC    A,R6
04ED FE                MOV     R6,A
04EE E4                CLR     A
04EF 3D                ADDC    A,R5
04F0 FD                MOV     R5,A
04F1 E4                CLR     A
04F2 3C                ADDC    A,R4
04F3 A907              MOV     R1,AR7
04F5 AA06              MOV     R2,AR6
04F7 AB05              MOV     R3,AR5
04F9 120000      E     LCALL   ?C?LLDPTR
04FC 900000      R     MOV     DPTR,#?_GetAddresses?BYTE+011H
04FF 120000      E     LCALL   ?C?LSTXDATA
0502 7B01              MOV     R3,#01H
0504 7A00        R     MOV     R2,#HIGH startAddr
0506 7900        R     MOV     R1,#LOW startAddr
0508 120000      R     LCALL   _GetAddresses
050B 900000      R     MOV     DPTR,#skipOperation
050E 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 525
0511 8025              SJMP    ?C0072
0513         ?C0071:
                                           ; SOURCE LINE # 527
                                           ; SOURCE LINE # 529
0513 900000      R     MOV     DPTR,#skipOperation
0516 E0                MOVX    A,@DPTR
0517 FC                MOV     R4,A
0518 A3                INC     DPTR
0519 E0                MOVX    A,@DPTR
051A FD                MOV     R5,A
051B A3                INC     DPTR
051C E0                MOVX    A,@DPTR
051D FE                MOV     R6,A
051E A3                INC     DPTR
051F E0                MOVX    A,@DPTR
0520 FF                MOV     R7,A
0521 E4                CLR     A
0522 FA                MOV     R2,A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 92  

0523 F9                MOV     R1,A
0524 F8                MOV     R0,A
0525 EF                MOV     A,R7
0526 2401              ADD     A,#01H
0528 FF                MOV     R7,A
0529 EA                MOV     A,R2
052A 3E                ADDC    A,R6
052B FE                MOV     R6,A
052C E9                MOV     A,R1
052D 3D                ADDC    A,R5
052E FD                MOV     R5,A
052F E8                MOV     A,R0
0530 3C                ADDC    A,R4
0531 FC                MOV     R4,A
0532 900000      R     MOV     DPTR,#skipOperation
0535 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 530
0538         ?C0072:
                                           ; SOURCE LINE # 533
0538 900000      R     MOV     DPTR,#skipOperation
053B E0                MOVX    A,@DPTR
053C A3                INC     DPTR
053D E0                MOVX    A,@DPTR
053E A3                INC     DPTR
053F E0                MOVX    A,@DPTR
0540 FE                MOV     R6,A
0541 A3                INC     DPTR
0542 E0                MOVX    A,@DPTR
0543 4E                ORL     A,R6
0544 6003              JZ      $ + 5H
0546 020000      R     LJMP    ?C0073
                                           ; SOURCE LINE # 534
                                           ; SOURCE LINE # 535
0549 7B01              MOV     R3,#01H
054B 7A00        R     MOV     R2,#HIGH writeRamBuffer
054D 7900        R     MOV     R1,#LOW writeRamBuffer
054F AF01              MOV     R7,AR1
0551 AE02              MOV     R6,AR2
0553 FC                MOV     R4,A
0554 900000      R     MOV     DPTR,#startAddr
0557 E0                MOVX    A,@DPTR
0558 F8                MOV     R0,A
0559 A3                INC     DPTR
055A E0                MOVX    A,@DPTR
055B F9                MOV     R1,A
055C A3                INC     DPTR
055D E0                MOVX    A,@DPTR
055E FA                MOV     R2,A
055F A3                INC     DPTR
0560 E0                MOVX    A,@DPTR
0561 2F                ADD     A,R7
0562 FF                MOV     R7,A
0563 EA                MOV     A,R2
0564 3E                ADDC    A,R6
0565 FE                MOV     R6,A
0566 E9                MOV     A,R1
0567 3401              ADDC    A,#01H
0569 FD                MOV     R5,A
056A EC                MOV     A,R4
056B 38                ADDC    A,R0
056C FC                MOV     R4,A
056D 900000      R     MOV     DPTR,#dataAddr
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 93  

0570 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 540
0573 900000      R     MOV     DPTR,#tmpRowAddr
0576 E0                MOVX    A,@DPTR
0577 FC                MOV     R4,A
0578 A3                INC     DPTR
0579 E0                MOVX    A,@DPTR
057A FD                MOV     R5,A
057B A3                INC     DPTR
057C E0                MOVX    A,@DPTR
057D FE                MOV     R6,A
057E A3                INC     DPTR
057F E0                MOVX    A,@DPTR
0580 240C              ADD     A,#0CH
0582 FF                MOV     R7,A
0583 E4                CLR     A
0584 3E                ADDC    A,R6
0585 FE                MOV     R6,A
0586 E4                CLR     A
0587 3D                ADDC    A,R5
0588 FD                MOV     R5,A
0589 E4                CLR     A
058A 3C                ADDC    A,R4
058B FC                MOV     R4,A
058C 900000      R     MOV     DPTR,#eeHeaderDataOffset
058F E0                MOVX    A,@DPTR
0590 F8                MOV     R0,A
0591 A3                INC     DPTR
0592 E0                MOVX    A,@DPTR
0593 F9                MOV     R1,A
0594 A3                INC     DPTR
0595 E0                MOVX    A,@DPTR
0596 FA                MOV     R2,A
0597 A3                INC     DPTR
0598 E0                MOVX    A,@DPTR
0599 2F                ADD     A,R7
059A FF                MOV     R7,A
059B EA                MOV     A,R2
059C 3E                ADDC    A,R6
059D FE                MOV     R6,A
059E E9                MOV     A,R1
059F 3D                ADDC    A,R5
05A0 FD                MOV     R5,A
05A1 E8                MOV     A,R0
05A2 3C                ADDC    A,R4
05A3 FC                MOV     R4,A
05A4 900000      R     MOV     DPTR,#tmpRowAddr
05A7 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 541
05AA 900000      R     MOV     DPTR,#startAddr
05AD E0                MOVX    A,@DPTR
05AE A3                INC     DPTR
05AF E0                MOVX    A,@DPTR
05B0 A3                INC     DPTR
05B1 E0                MOVX    A,@DPTR
05B2 FE                MOV     R6,A
05B3 A3                INC     DPTR
05B4 E0                MOVX    A,@DPTR
05B5 FB                MOV     R3,A
05B6 AA06              MOV     R2,AR6
05B8 A3                INC     DPTR
05B9 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 94  

05BA A3                INC     DPTR
05BB E0                MOVX    A,@DPTR
05BC A3                INC     DPTR
05BD E0                MOVX    A,@DPTR
05BE FE                MOV     R6,A
05BF A3                INC     DPTR
05C0 E0                MOVX    A,@DPTR
05C1 C3                CLR     C
05C2 9B                SUBB    A,R3
05C3 FF                MOV     R7,A
05C4 EE                MOV     A,R6
05C5 9A                SUBB    A,R2
05C6 FE                MOV     R6,A
05C7 C006              PUSH    AR6
05C9 A3                INC     DPTR
05CA E0                MOVX    A,@DPTR
05CB A3                INC     DPTR
05CC E0                MOVX    A,@DPTR
05CD FD                MOV     R5,A
05CE A3                INC     DPTR
05CF E0                MOVX    A,@DPTR
05D0 FE                MOV     R6,A
05D1 A3                INC     DPTR
05D2 E0                MOVX    A,@DPTR
05D3 F9                MOV     R1,A
05D4 AA06              MOV     R2,AR6
05D6 AB05              MOV     R3,AR5
05D8 C002              PUSH    AR2
05DA 900000      R     MOV     DPTR,#dataAddr
05DD E0                MOVX    A,@DPTR
05DE A3                INC     DPTR
05DF E0                MOVX    A,@DPTR
05E0 FD                MOV     R5,A
05E1 A3                INC     DPTR
05E2 E0                MOVX    A,@DPTR
05E3 FE                MOV     R6,A
05E4 A3                INC     DPTR
05E5 E0                MOVX    A,@DPTR
05E6 AA06              MOV     R2,AR6
05E8 F8                MOV     R0,A
05E9 AC02              MOV     R4,AR2
05EB D002              POP     AR2
05ED D006              POP     AR6
05EF 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 542
05F2         ?C0073:
                                           ; SOURCE LINE # 545
05F2 900000      R     MOV     DPTR,#context
05F5 E0                MOVX    A,@DPTR
05F6 FB                MOV     R3,A
05F7 A3                INC     DPTR
05F8 E0                MOVX    A,@DPTR
05F9 FA                MOV     R2,A
05FA A3                INC     DPTR
05FB E0                MOVX    A,@DPTR
05FC 2414              ADD     A,#014H
05FE F9                MOV     R1,A
05FF E4                CLR     A
0600 3A                ADDC    A,R2
0601 FA                MOV     R2,A
0602 120000      E     LCALL   ?C?CLDPTR
0605 6019              JZ      ?C0068
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 95  

                                           ; SOURCE LINE # 546
                                           ; SOURCE LINE # 548
0607 7B01              MOV     R3,#01H
0609 7A00        R     MOV     R2,#HIGH writeRamBuffer+080H
060B 7900        R     MOV     R1,#LOW writeRamBuffer+080H
060D E4                CLR     A
060E 7F80              MOV     R7,#080H
0610 FE                MOV     R6,A
0611 FD                MOV     R5,A
0612 FC                MOV     R4,A
0613 120000      R     LCALL   _CalcChecksum
0616 E4                CLR     A
0617 FC                MOV     R4,A
0618 FD                MOV     R5,A
0619 FE                MOV     R6,A
061A 900000      R     MOV     DPTR,#writeRamBuffer+07CH
061D 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 550
                                           ; SOURCE LINE # 551
0620         ?C0068:
0620 900000      R     MOV     DPTR,#i
0623 E0                MOVX    A,@DPTR
0624 FC                MOV     R4,A
0625 A3                INC     DPTR
0626 E0                MOVX    A,@DPTR
0627 FD                MOV     R5,A
0628 A3                INC     DPTR
0629 E0                MOVX    A,@DPTR
062A FE                MOV     R6,A
062B A3                INC     DPTR
062C E0                MOVX    A,@DPTR
062D FF                MOV     R7,A
062E E4                CLR     A
062F FA                MOV     R2,A
0630 F9                MOV     R1,A
0631 F8                MOV     R0,A
0632 EF                MOV     A,R7
0633 2401              ADD     A,#01H
0635 FF                MOV     R7,A
0636 EA                MOV     A,R2
0637 3E                ADDC    A,R6
0638 FE                MOV     R6,A
0639 E9                MOV     A,R1
063A 3D                ADDC    A,R5
063B FD                MOV     R5,A
063C E8                MOV     A,R0
063D 3C                ADDC    A,R4
063E FC                MOV     R4,A
063F 900000      R     MOV     DPTR,#i
0642 120000      E     LCALL   ?C?LSTXDATA
0645 020000      R     LJMP    ?C0066
0648         ?C0067:
                                           ; SOURCE LINE # 554
0648 900000      R     MOV     DPTR,#emEepromRowAddr
064B E0                MOVX    A,@DPTR
064C FC                MOV     R4,A
064D A3                INC     DPTR
064E E0                MOVX    A,@DPTR
064F FD                MOV     R5,A
0650 A3                INC     DPTR
0651 E0                MOVX    A,@DPTR
0652 FE                MOV     R6,A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 96  

0653 A3                INC     DPTR
0654 E0                MOVX    A,@DPTR
0655 FF                MOV     R7,A
0656 900000      R     MOV     DPTR,#context
0659 E0                MOVX    A,@DPTR
065A F9                MOV     R1,A
065B A3                INC     DPTR
065C E0                MOVX    A,@DPTR
065D FA                MOV     R2,A
065E A3                INC     DPTR
065F E0                MOVX    A,@DPTR
0660 900000      R     MOV     DPTR,#?_WriteRow?BYTE+07H
0663 C9                XCH     A,R1
0664 F0                MOVX    @DPTR,A
0665 A3                INC     DPTR
0666 EA                MOV     A,R2
0667 F0                MOVX    @DPTR,A
0668 A3                INC     DPTR
0669 E9                MOV     A,R1
066A F0                MOVX    @DPTR,A
066B 7B01              MOV     R3,#01H
066D 7A00        R     MOV     R2,#HIGH writeRamBuffer
066F 7900        R     MOV     R1,#LOW writeRamBuffer
0671 120000      R     LCALL   _WriteRow
0674 900000      R     MOV     DPTR,#ret
0677 EF                MOV     A,R7
0678 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 555
0679 900000      R     MOV     DPTR,#emEepromRowAddr
067C E0                MOVX    A,@DPTR
067D FC                MOV     R4,A
067E A3                INC     DPTR
067F E0                MOVX    A,@DPTR
0680 FD                MOV     R5,A
0681 A3                INC     DPTR
0682 E0                MOVX    A,@DPTR
0683 FE                MOV     R6,A
0684 A3                INC     DPTR
0685 E0                MOVX    A,@DPTR
0686 FF                MOV     R7,A
0687 900000      R     MOV     DPTR,#tmpRowAddr
068A 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 558
068D 900000      R     MOV     DPTR,#context
0690 E0                MOVX    A,@DPTR
0691 FB                MOV     R3,A
0692 A3                INC     DPTR
0693 E0                MOVX    A,@DPTR
0694 FA                MOV     R2,A
0695 A3                INC     DPTR
0696 E0                MOVX    A,@DPTR
0697 2414              ADD     A,#014H
0699 F9                MOV     R1,A
069A E4                CLR     A
069B 3A                ADDC    A,R2
069C FA                MOV     R2,A
069D 120000      E     LCALL   ?C?CLDPTR
06A0 7003              JNZ     $ + 5H
06A2 020000      R     LJMP    ?C0075
06A5 900000      R     MOV     DPTR,#ret
06A8 E0                MOVX    A,@DPTR
06A9 707C              JNZ     ?C0075
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 97  

                                           ; SOURCE LINE # 559
                                           ; SOURCE LINE # 561
06AB 900000      R     MOV     DPTR,#context
06AE E0                MOVX    A,@DPTR
06AF A3                INC     DPTR
06B0 E0                MOVX    A,@DPTR
06B1 FA                MOV     R2,A
06B2 A3                INC     DPTR
06B3 E0                MOVX    A,@DPTR
06B4 2416              ADD     A,#016H
06B6 F9                MOV     R1,A
06B7 E4                CLR     A
06B8 3A                ADDC    A,R2
06B9 FA                MOV     R2,A
06BA 120000      E     LCALL   ?C?LLDPTR0
06BD 900000      R     MOV     DPTR,#emEepromRowAddr
06C0 E0                MOVX    A,@DPTR
06C1 FC                MOV     R4,A
06C2 A3                INC     DPTR
06C3 E0                MOVX    A,@DPTR
06C4 FD                MOV     R5,A
06C5 A3                INC     DPTR
06C6 E0                MOVX    A,@DPTR
06C7 FE                MOV     R6,A
06C8 A3                INC     DPTR
06C9 E0                MOVX    A,@DPTR
06CA C3                CLR     C
06CB 9B                SUBB    A,R3
06CC FF                MOV     R7,A
06CD EE                MOV     A,R6
06CE 9A                SUBB    A,R2
06CF FE                MOV     R6,A
06D0 ED                MOV     A,R5
06D1 99                SUBB    A,R1
06D2 FD                MOV     R5,A
06D3 EC                MOV     A,R4
06D4 98                SUBB    A,R0
06D5 FC                MOV     R4,A
06D6 900000      R     MOV     DPTR,#context
06D9 E0                MOVX    A,@DPTR
06DA FB                MOV     R3,A
06DB A3                INC     DPTR
06DC E0                MOVX    A,@DPTR
06DD FA                MOV     R2,A
06DE A3                INC     DPTR
06DF E0                MOVX    A,@DPTR
06E0 F9                MOV     R1,A
06E1 120000      E     LCALL   ?C?LLDPTR0
06E4 EF                MOV     A,R7
06E5 2B                ADD     A,R3
06E6 FF                MOV     R7,A
06E7 EE                MOV     A,R6
06E8 3A                ADDC    A,R2
06E9 FE                MOV     R6,A
06EA ED                MOV     A,R5
06EB 39                ADDC    A,R1
06EC FD                MOV     R5,A
06ED EC                MOV     A,R4
06EE 38                ADDC    A,R0
06EF FC                MOV     R4,A
06F0 900000      R     MOV     DPTR,#tmpRowAddr
06F3 120000      E     LCALL   ?C?LSTXDATA
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 98  

                                           ; SOURCE LINE # 564
06F6 900000      R     MOV     DPTR,#tmpRowAddr
06F9 E0                MOVX    A,@DPTR
06FA FC                MOV     R4,A
06FB A3                INC     DPTR
06FC E0                MOVX    A,@DPTR
06FD FD                MOV     R5,A
06FE A3                INC     DPTR
06FF E0                MOVX    A,@DPTR
0700 FE                MOV     R6,A
0701 A3                INC     DPTR
0702 E0                MOVX    A,@DPTR
0703 FF                MOV     R7,A
0704 900000      R     MOV     DPTR,#context
0707 E0                MOVX    A,@DPTR
0708 F9                MOV     R1,A
0709 A3                INC     DPTR
070A E0                MOVX    A,@DPTR
070B FA                MOV     R2,A
070C A3                INC     DPTR
070D E0                MOVX    A,@DPTR
070E 900000      R     MOV     DPTR,#?_WriteRow?BYTE+07H
0711 C9                XCH     A,R1
0712 F0                MOVX    @DPTR,A
0713 A3                INC     DPTR
0714 EA                MOV     A,R2
0715 F0                MOVX    @DPTR,A
0716 A3                INC     DPTR
0717 E9                MOV     A,R1
0718 F0                MOVX    @DPTR,A
0719 7B01              MOV     R3,#01H
071B 7A00        R     MOV     R2,#HIGH writeRamBuffer
071D 7900        R     MOV     R1,#LOW writeRamBuffer
071F 120000      R     LCALL   _WriteRow
0722 900000      R     MOV     DPTR,#ret
0725 EF                MOV     A,R7
0726 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 565
0727         ?C0075:
                                           ; SOURCE LINE # 567
0727 900000      R     MOV     DPTR,#ret
072A E0                MOVX    A,@DPTR
072B 7049              JNZ     ?C0057
                                           ; SOURCE LINE # 568
                                           ; SOURCE LINE # 572
072D 900000      R     MOV     DPTR,#emEepromRowAddr
0730 E0                MOVX    A,@DPTR
0731 FC                MOV     R4,A
0732 A3                INC     DPTR
0733 E0                MOVX    A,@DPTR
0734 FD                MOV     R5,A
0735 A3                INC     DPTR
0736 E0                MOVX    A,@DPTR
0737 FE                MOV     R6,A
0738 A3                INC     DPTR
0739 E0                MOVX    A,@DPTR
073A FF                MOV     R7,A
073B 900000      R     MOV     DPTR,#context
073E E0                MOVX    A,@DPTR
073F FB                MOV     R3,A
0740 A3                INC     DPTR
0741 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 99  

0742 FA                MOV     R2,A
0743 A3                INC     DPTR
0744 E0                MOVX    A,@DPTR
0745 2408              ADD     A,#08H
0747 F9                MOV     R1,A
0748 E4                CLR     A
0749 3A                ADDC    A,R2
074A FA                MOV     R2,A
074B 120000      E     LCALL   ?C?LSTPTR
                                           ; SOURCE LINE # 573
                                           ; SOURCE LINE # 575
                                           ; SOURCE LINE # 576
                                           ; SOURCE LINE # 577
                                           ; SOURCE LINE # 578
074E         ?C0060:
074E 900000      R     MOV     DPTR,#wrCnt
0751 E0                MOVX    A,@DPTR
0752 FC                MOV     R4,A
0753 A3                INC     DPTR
0754 E0                MOVX    A,@DPTR
0755 FD                MOV     R5,A
0756 A3                INC     DPTR
0757 E0                MOVX    A,@DPTR
0758 FE                MOV     R6,A
0759 A3                INC     DPTR
075A E0                MOVX    A,@DPTR
075B FF                MOV     R7,A
075C E4                CLR     A
075D FA                MOV     R2,A
075E F9                MOV     R1,A
075F F8                MOV     R0,A
0760 EF                MOV     A,R7
0761 2401              ADD     A,#01H
0763 FF                MOV     R7,A
0764 EA                MOV     A,R2
0765 3E                ADDC    A,R6
0766 FE                MOV     R6,A
0767 E9                MOV     A,R1
0768 3D                ADDC    A,R5
0769 FD                MOV     R5,A
076A E8                MOV     A,R0
076B 3C                ADDC    A,R4
076C FC                MOV     R4,A
076D 900000      R     MOV     DPTR,#wrCnt
0770 120000      E     LCALL   ?C?LSTXDATA
0773 020000      R     LJMP    ?C0058
                                           ; SOURCE LINE # 579
0776         ?C0057:
                                           ; SOURCE LINE # 580
0776 900000      R     MOV     DPTR,#ret
0779 E0                MOVX    A,@DPTR
077A FF                MOV     R7,A
                                           ; SOURCE LINE # 581
077B         ?C0078:
077B 22                RET     
             ; FUNCTION _Cy_Em_EEPROM_Write (END)

             ; FUNCTION _Cy_Em_EEPROM_Erase (BEGIN)
                                           ; SOURCE LINE # 629
0000 900000      R     MOV     DPTR,#context
0003 EB                MOV     A,R3
0004 F0                MOVX    @DPTR,A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 100 

0005 A3                INC     DPTR
0006 EA                MOV     A,R2
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 E9                MOV     A,R1
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 630
                                           ; SOURCE LINE # 633
000B 2408              ADD     A,#08H
000D F9                MOV     R1,A
000E E4                CLR     A
000F 3A                ADDC    A,R2
0010 FA                MOV     R2,A
0011 120000      E     LCALL   ?C?LLDPTR
0014 900000      R     MOV     DPTR,#emEepromRowAddr
0017 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 635
001A 900000      R     MOV     DPTR,#ret
001D 7404              MOV     A,#04H
001F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 636
0020 7800        R     MOV     R0,#LOW writeRamBuffer
0022 7C00        R     MOV     R4,#HIGH writeRamBuffer
0024 7D01              MOV     R5,#01H
0026 7BFF              MOV     R3,#0FFH
0028 7A00        R     MOV     R2,#HIGH _?ix1000
002A 7900        R     MOV     R1,#LOW _?ix1000
002C 7E01              MOV     R6,#01H
002E 7F00              MOV     R7,#00H
0030 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 643
0033 900000      R     MOV     DPTR,#emEepromRowAddr
0036 E0                MOVX    A,@DPTR
0037 A3                INC     DPTR
0038 E0                MOVX    A,@DPTR
0039 FD                MOV     R5,A
003A A3                INC     DPTR
003B E0                MOVX    A,@DPTR
003C FE                MOV     R6,A
003D A3                INC     DPTR
003E E0                MOVX    A,@DPTR
003F F9                MOV     R1,A
0040 AA06              MOV     R2,AR6
0042 AB05              MOV     R3,AR5
0044 120000      E     LCALL   ?C?LLDPTR
0047 900000      R     MOV     DPTR,#seqNum
004A 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 646
004D 900000      R     MOV     DPTR,#seqNum
0050 E0                MOVX    A,@DPTR
0051 A3                INC     DPTR
0052 E0                MOVX    A,@DPTR
0053 A3                INC     DPTR
0054 E0                MOVX    A,@DPTR
0055 FE                MOV     R6,A
0056 A3                INC     DPTR
0057 E0                MOVX    A,@DPTR
0058 4E                ORL     A,R6
0059 7003              JNZ     $ + 5H
005B 020000      R     LJMP    ?C0079
                                           ; SOURCE LINE # 647
                                           ; SOURCE LINE # 649
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 101 

005E 900000      R     MOV     DPTR,#context
0061 E0                MOVX    A,@DPTR
0062 FB                MOV     R3,A
0063 A3                INC     DPTR
0064 E0                MOVX    A,@DPTR
0065 FA                MOV     R2,A
0066 A3                INC     DPTR
0067 E0                MOVX    A,@DPTR
0068 2410              ADD     A,#010H
006A F9                MOV     R1,A
006B E4                CLR     A
006C 3A                ADDC    A,R2
006D FA                MOV     R2,A
006E 120000      E     LCALL   ?C?LLDPTR
0071 900000      R     MOV     DPTR,#context
0074 E0                MOVX    A,@DPTR
0075 A3                INC     DPTR
0076 E0                MOVX    A,@DPTR
0077 FA                MOV     R2,A
0078 A3                INC     DPTR
0079 E0                MOVX    A,@DPTR
007A 2404              ADD     A,#04H
007C F9                MOV     R1,A
007D E4                CLR     A
007E 3A                ADDC    A,R2
007F FA                MOV     R2,A
0080 120000      E     LCALL   ?C?LLDPTR0
0083 120000      E     LCALL   ?C?LMUL
0086 900000      R     MOV     DPTR,#numWrites
0089 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 656
008C 900000      R     MOV     DPTR,#context
008F E0                MOVX    A,@DPTR
0090 FB                MOV     R3,A
0091 A3                INC     DPTR
0092 E0                MOVX    A,@DPTR
0093 FA                MOV     R2,A
0094 A3                INC     DPTR
0095 E0                MOVX    A,@DPTR
0096 2414              ADD     A,#014H
0098 F9                MOV     R1,A
0099 E4                CLR     A
009A 3A                ADDC    A,R2
009B FA                MOV     R2,A
009C 120000      E     LCALL   ?C?CLDPTR
009F 6019              JZ      ?C0080
                                           ; SOURCE LINE # 657
                                           ; SOURCE LINE # 659
00A1 7B01              MOV     R3,#01H
00A3 7A00        R     MOV     R2,#HIGH writeRamBuffer+080H
00A5 7900        R     MOV     R1,#LOW writeRamBuffer+080H
00A7 E4                CLR     A
00A8 7F80              MOV     R7,#080H
00AA FE                MOV     R6,A
00AB FD                MOV     R5,A
00AC FC                MOV     R4,A
00AD 120000      R     LCALL   _CalcChecksum
00B0 E4                CLR     A
00B1 FC                MOV     R4,A
00B2 FD                MOV     R5,A
00B3 FE                MOV     R6,A
00B4 900000      R     MOV     DPTR,#writeRamBuffer+07CH
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 102 

00B7 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 661
00BA         ?C0080:
                                           ; SOURCE LINE # 663
00BA E4                CLR     A
00BB FF                MOV     R7,A
00BC FE                MOV     R6,A
00BD FD                MOV     R5,A
00BE FC                MOV     R4,A
00BF 900000      R     MOV     DPTR,#i
00C2 120000      E     LCALL   ?C?LSTXDATA
00C5         ?C0081:
00C5 900000      R     MOV     DPTR,#numWrites
00C8 E0                MOVX    A,@DPTR
00C9 FC                MOV     R4,A
00CA A3                INC     DPTR
00CB E0                MOVX    A,@DPTR
00CC FD                MOV     R5,A
00CD A3                INC     DPTR
00CE E0                MOVX    A,@DPTR
00CF FE                MOV     R6,A
00D0 A3                INC     DPTR
00D1 E0                MOVX    A,@DPTR
00D2 FF                MOV     R7,A
00D3 900000      R     MOV     DPTR,#i
00D6 E0                MOVX    A,@DPTR
00D7 F8                MOV     R0,A
00D8 A3                INC     DPTR
00D9 E0                MOVX    A,@DPTR
00DA F9                MOV     R1,A
00DB A3                INC     DPTR
00DC E0                MOVX    A,@DPTR
00DD FA                MOV     R2,A
00DE A3                INC     DPTR
00DF E0                MOVX    A,@DPTR
00E0 FB                MOV     R3,A
00E1 C3                CLR     C
00E2 120000      E     LCALL   ?C?ULCMP
00E5 4003              JC      $ + 5H
00E7 020000      R     LJMP    ?C0079
                                           ; SOURCE LINE # 664
                                           ; SOURCE LINE # 685
00EA 900000      R     MOV     DPTR,#emEepromRowAddr
00ED E0                MOVX    A,@DPTR
00EE A3                INC     DPTR
00EF E0                MOVX    A,@DPTR
00F0 FD                MOV     R5,A
00F1 A3                INC     DPTR
00F2 E0                MOVX    A,@DPTR
00F3 FE                MOV     R6,A
00F4 A3                INC     DPTR
00F5 E0                MOVX    A,@DPTR
00F6 F9                MOV     R1,A
00F7 AA06              MOV     R2,AR6
00F9 AB05              MOV     R3,AR5
00FB 120000      E     LCALL   ?C?LLDPTR
00FE 900000      R     MOV     DPTR,#seqNum
0101 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 689
0104 900000      R     MOV     DPTR,#seqNum
0107 E0                MOVX    A,@DPTR
0108 FC                MOV     R4,A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 103 

0109 A3                INC     DPTR
010A E0                MOVX    A,@DPTR
010B FD                MOV     R5,A
010C A3                INC     DPTR
010D E0                MOVX    A,@DPTR
010E FE                MOV     R6,A
010F A3                INC     DPTR
0110 E0                MOVX    A,@DPTR
0111 FF                MOV     R7,A
0112 900000      R     MOV     DPTR,#?_GetNextRowToWrite?BYTE+07H
0115 7401              MOV     A,#01H
0117 F0                MOVX    @DPTR,A
0118 A3                INC     DPTR
0119 7400        R     MOV     A,#HIGH emEepromRowRdAddr
011B F0                MOVX    @DPTR,A
011C A3                INC     DPTR
011D 7400        R     MOV     A,#LOW emEepromRowRdAddr
011F F0                MOVX    @DPTR,A
0120 900000      R     MOV     DPTR,#context
0123 E0                MOVX    A,@DPTR
0124 F9                MOV     R1,A
0125 A3                INC     DPTR
0126 E0                MOVX    A,@DPTR
0127 FA                MOV     R2,A
0128 A3                INC     DPTR
0129 E0                MOVX    A,@DPTR
012A 900000      R     MOV     DPTR,#?_GetNextRowToWrite?BYTE+0AH
012D C9                XCH     A,R1
012E F0                MOVX    @DPTR,A
012F A3                INC     DPTR
0130 EA                MOV     A,R2
0131 F0                MOVX    @DPTR,A
0132 A3                INC     DPTR
0133 E9                MOV     A,R1
0134 F0                MOVX    @DPTR,A
0135 7B01              MOV     R3,#01H
0137 7A00        R     MOV     R2,#HIGH emEepromRowAddr
0139 7900        R     MOV     R1,#LOW emEepromRowAddr
013B 120000      R     LCALL   _GetNextRowToWrite
                                           ; SOURCE LINE # 690
013E 900000      R     MOV     DPTR,#seqNum
0141 E0                MOVX    A,@DPTR
0142 FC                MOV     R4,A
0143 A3                INC     DPTR
0144 E0                MOVX    A,@DPTR
0145 FD                MOV     R5,A
0146 A3                INC     DPTR
0147 E0                MOVX    A,@DPTR
0148 FE                MOV     R6,A
0149 A3                INC     DPTR
014A E0                MOVX    A,@DPTR
014B FF                MOV     R7,A
014C E4                CLR     A
014D FA                MOV     R2,A
014E F9                MOV     R1,A
014F F8                MOV     R0,A
0150 EF                MOV     A,R7
0151 2401              ADD     A,#01H
0153 FF                MOV     R7,A
0154 EA                MOV     A,R2
0155 3E                ADDC    A,R6
0156 FE                MOV     R6,A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 104 

0157 E9                MOV     A,R1
0158 3D                ADDC    A,R5
0159 FD                MOV     R5,A
015A E8                MOV     A,R0
015B 3C                ADDC    A,R4
015C FC                MOV     R4,A
015D 900000      R     MOV     DPTR,#seqNum
0160 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 691
0163 900000      R     MOV     DPTR,#seqNum
0166 E0                MOVX    A,@DPTR
0167 FC                MOV     R4,A
0168 A3                INC     DPTR
0169 E0                MOVX    A,@DPTR
016A FD                MOV     R5,A
016B A3                INC     DPTR
016C E0                MOVX    A,@DPTR
016D FE                MOV     R6,A
016E A3                INC     DPTR
016F E0                MOVX    A,@DPTR
0170 FF                MOV     R7,A
0171 900000      R     MOV     DPTR,#writeRamBuffer
0174 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 692
0177 7B01              MOV     R3,#01H
0179 7A00        R     MOV     R2,#HIGH writeRamBuffer
017B 7900        R     MOV     R1,#LOW writeRamBuffer
017D AF01              MOV     R7,AR1
017F AE02              MOV     R6,AR2
0181 7D01              MOV     R5,#01H
0183 7C00              MOV     R4,#00H
0185 900000      R     MOV     DPTR,#?_EraseRow?BYTE+04H
0188 120000      E     LCALL   ?C?LSTXDATA
018B 900000      R     MOV     DPTR,#context
018E E0                MOVX    A,@DPTR
018F F9                MOV     R1,A
0190 A3                INC     DPTR
0191 E0                MOVX    A,@DPTR
0192 FA                MOV     R2,A
0193 A3                INC     DPTR
0194 E0                MOVX    A,@DPTR
0195 900000      R     MOV     DPTR,#?_EraseRow?BYTE+08H
0198 C9                XCH     A,R1
0199 F0                MOVX    @DPTR,A
019A A3                INC     DPTR
019B EA                MOV     A,R2
019C F0                MOVX    @DPTR,A
019D A3                INC     DPTR
019E E9                MOV     A,R1
019F F0                MOVX    @DPTR,A
01A0 900000      R     MOV     DPTR,#emEepromRowAddr
01A3 E0                MOVX    A,@DPTR
01A4 FC                MOV     R4,A
01A5 A3                INC     DPTR
01A6 E0                MOVX    A,@DPTR
01A7 FD                MOV     R5,A
01A8 A3                INC     DPTR
01A9 E0                MOVX    A,@DPTR
01AA FE                MOV     R6,A
01AB A3                INC     DPTR
01AC E0                MOVX    A,@DPTR
01AD FF                MOV     R7,A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 105 

01AE 120000      R     LCALL   _EraseRow
01B1 900000      R     MOV     DPTR,#ret
01B4 EF                MOV     A,R7
01B5 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 694
01B6 900000      R     MOV     DPTR,#i
01B9 E0                MOVX    A,@DPTR
01BA FC                MOV     R4,A
01BB A3                INC     DPTR
01BC E0                MOVX    A,@DPTR
01BD FD                MOV     R5,A
01BE A3                INC     DPTR
01BF E0                MOVX    A,@DPTR
01C0 FE                MOV     R6,A
01C1 A3                INC     DPTR
01C2 E0                MOVX    A,@DPTR
01C3 FF                MOV     R7,A
01C4 E4                CLR     A
01C5 FA                MOV     R2,A
01C6 F9                MOV     R1,A
01C7 F8                MOV     R0,A
01C8 EF                MOV     A,R7
01C9 2401              ADD     A,#01H
01CB FF                MOV     R7,A
01CC EA                MOV     A,R2
01CD 3E                ADDC    A,R6
01CE FE                MOV     R6,A
01CF E9                MOV     A,R1
01D0 3D                ADDC    A,R5
01D1 FD                MOV     R5,A
01D2 E8                MOV     A,R0
01D3 3C                ADDC    A,R4
01D4 FC                MOV     R4,A
01D5 900000      R     MOV     DPTR,#i
01D8 120000      E     LCALL   ?C?LSTXDATA
01DB 020000      R     LJMP    ?C0081
                                           ; SOURCE LINE # 714
01DE         ?C0079:
                                           ; SOURCE LINE # 715
01DE 900000      R     MOV     DPTR,#ret
01E1 E0                MOVX    A,@DPTR
01E2 FF                MOV     R7,A
                                           ; SOURCE LINE # 716
01E3         ?C0084:
01E3 22                RET     
             ; FUNCTION _Cy_Em_EEPROM_Erase (END)

             ; FUNCTION _Cy_Em_EEPROM_NumWrites (BEGIN)
                                           ; SOURCE LINE # 732
;---- Variable 'context' assigned to Register 'R1/R2/R3' ----
                                           ; SOURCE LINE # 733
                                           ; SOURCE LINE # 734
0000 E9                MOV     A,R1
0001 2408              ADD     A,#08H
0003 F9                MOV     R1,A
0004 E4                CLR     A
0005 3A                ADDC    A,R2
0006 FA                MOV     R2,A
0007 120000      E     LCALL   ?C?LLDPTR
000A A907              MOV     R1,AR7
000C AA06              MOV     R2,AR6
000E AB05              MOV     R3,AR5
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 106 

0010 120000      E     LCALL   ?C?LLDPTR
                                           ; SOURCE LINE # 735
0013         ?C0085:
0013 22                RET     
             ; FUNCTION _Cy_Em_EEPROM_NumWrites (END)

             ; FUNCTION _FindLastWrittenRow (BEGIN)
                                           ; SOURCE LINE # 758
0000 900000      R     MOV     DPTR,#lastWrRowPtr
0003 EB                MOV     A,R3
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EA                MOV     A,R2
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 E9                MOV     A,R1
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 759
                                           ; SOURCE LINE # 760
000B E4                CLR     A
000C FF                MOV     R7,A
000D FE                MOV     R6,A
000E FD                MOV     R5,A
000F FC                MOV     R4,A
0010 900000      R     MOV     DPTR,#seqNum
0013 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 761
0016 E4                CLR     A
0017 FF                MOV     R7,A
0018 FE                MOV     R6,A
0019 FD                MOV     R5,A
001A FC                MOV     R4,A
001B 900000      R     MOV     DPTR,#prevSeqNum
001E 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 763
0021 900000      R     MOV     DPTR,#context
0024 E0                MOVX    A,@DPTR
0025 FB                MOV     R3,A
0026 A3                INC     DPTR
0027 E0                MOVX    A,@DPTR
0028 FA                MOV     R2,A
0029 A3                INC     DPTR
002A E0                MOVX    A,@DPTR
002B 2416              ADD     A,#016H
002D F9                MOV     R1,A
002E E4                CLR     A
002F 3A                ADDC    A,R2
0030 FA                MOV     R2,A
0031 120000      E     LCALL   ?C?LLDPTR
0034 900000      R     MOV     DPTR,#emEepromAddr
0037 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 765
003A 900000      R     MOV     DPTR,#emEepromAddr
003D E0                MOVX    A,@DPTR
003E FC                MOV     R4,A
003F A3                INC     DPTR
0040 E0                MOVX    A,@DPTR
0041 FD                MOV     R5,A
0042 A3                INC     DPTR
0043 E0                MOVX    A,@DPTR
0044 FE                MOV     R6,A
0045 A3                INC     DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 107 

0046 E0                MOVX    A,@DPTR
0047 FF                MOV     R7,A
0048 900000      R     MOV     DPTR,#lastWrRowPtr
004B E0                MOVX    A,@DPTR
004C FB                MOV     R3,A
004D A3                INC     DPTR
004E E0                MOVX    A,@DPTR
004F FA                MOV     R2,A
0050 A3                INC     DPTR
0051 E0                MOVX    A,@DPTR
0052 F9                MOV     R1,A
0053 120000      E     LCALL   ?C?LSTPTR
                                           ; SOURCE LINE # 767
0056 E4                CLR     A
0057 FF                MOV     R7,A
0058 FE                MOV     R6,A
0059 FD                MOV     R5,A
005A FC                MOV     R4,A
005B 900000      R     MOV     DPTR,#numRows
005E 120000      E     LCALL   ?C?LSTXDATA
0061         ?C0086:
0061 900000      R     MOV     DPTR,#context
0064 E0                MOVX    A,@DPTR
0065 FB                MOV     R3,A
0066 A3                INC     DPTR
0067 E0                MOVX    A,@DPTR
0068 FA                MOV     R2,A
0069 A3                INC     DPTR
006A E0                MOVX    A,@DPTR
006B 2410              ADD     A,#010H
006D F9                MOV     R1,A
006E E4                CLR     A
006F 3A                ADDC    A,R2
0070 FA                MOV     R2,A
0071 120000      E     LCALL   ?C?LLDPTR
0074 900000      R     MOV     DPTR,#context
0077 E0                MOVX    A,@DPTR
0078 A3                INC     DPTR
0079 E0                MOVX    A,@DPTR
007A FA                MOV     R2,A
007B A3                INC     DPTR
007C E0                MOVX    A,@DPTR
007D 2404              ADD     A,#04H
007F F9                MOV     R1,A
0080 E4                CLR     A
0081 3A                ADDC    A,R2
0082 FA                MOV     R2,A
0083 120000      E     LCALL   ?C?LLDPTR0
0086 120000      E     LCALL   ?C?LMUL
0089 900000      R     MOV     DPTR,#numRows
008C E0                MOVX    A,@DPTR
008D F8                MOV     R0,A
008E A3                INC     DPTR
008F E0                MOVX    A,@DPTR
0090 F9                MOV     R1,A
0091 A3                INC     DPTR
0092 E0                MOVX    A,@DPTR
0093 FA                MOV     R2,A
0094 A3                INC     DPTR
0095 E0                MOVX    A,@DPTR
0096 FB                MOV     R3,A
0097 C3                CLR     C
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 108 

0098 120000      E     LCALL   ?C?ULCMP
009B 4003              JC      $ + 5H
009D 020000      R     LJMP    ?C0090
                                           ; SOURCE LINE # 768
                                           ; SOURCE LINE # 769
00A0 900000      R     MOV     DPTR,#emEepromAddr
00A3 E0                MOVX    A,@DPTR
00A4 A3                INC     DPTR
00A5 E0                MOVX    A,@DPTR
00A6 FD                MOV     R5,A
00A7 A3                INC     DPTR
00A8 E0                MOVX    A,@DPTR
00A9 FE                MOV     R6,A
00AA A3                INC     DPTR
00AB E0                MOVX    A,@DPTR
00AC F9                MOV     R1,A
00AD AA06              MOV     R2,AR6
00AF AB05              MOV     R3,AR5
00B1 120000      E     LCALL   ?C?LLDPTR
00B4 900000      R     MOV     DPTR,#seqNum
00B7 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 770
00BA 900000      R     MOV     DPTR,#seqNum
00BD E0                MOVX    A,@DPTR
00BE A3                INC     DPTR
00BF E0                MOVX    A,@DPTR
00C0 A3                INC     DPTR
00C1 E0                MOVX    A,@DPTR
00C2 FE                MOV     R6,A
00C3 A3                INC     DPTR
00C4 E0                MOVX    A,@DPTR
00C5 4E                ORL     A,R6
00C6 604E              JZ      ?C0089
00C8 A3                INC     DPTR
00C9 E0                MOVX    A,@DPTR
00CA FC                MOV     R4,A
00CB A3                INC     DPTR
00CC E0                MOVX    A,@DPTR
00CD FD                MOV     R5,A
00CE A3                INC     DPTR
00CF E0                MOVX    A,@DPTR
00D0 FE                MOV     R6,A
00D1 A3                INC     DPTR
00D2 E0                MOVX    A,@DPTR
00D3 FF                MOV     R7,A
00D4 900000      R     MOV     DPTR,#seqNum
00D7 E0                MOVX    A,@DPTR
00D8 F8                MOV     R0,A
00D9 A3                INC     DPTR
00DA E0                MOVX    A,@DPTR
00DB F9                MOV     R1,A
00DC A3                INC     DPTR
00DD E0                MOVX    A,@DPTR
00DE FA                MOV     R2,A
00DF A3                INC     DPTR
00E0 E0                MOVX    A,@DPTR
00E1 FB                MOV     R3,A
00E2 D3                SETB    C
00E3 120000      E     LCALL   ?C?ULCMP
00E6 402E              JC      ?C0089
                                           ; SOURCE LINE # 771
                                           ; SOURCE LINE # 775
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 109 

00E8 900000      R     MOV     DPTR,#seqNum
00EB E0                MOVX    A,@DPTR
00EC FC                MOV     R4,A
00ED A3                INC     DPTR
00EE E0                MOVX    A,@DPTR
00EF FD                MOV     R5,A
00F0 A3                INC     DPTR
00F1 E0                MOVX    A,@DPTR
00F2 FE                MOV     R6,A
00F3 A3                INC     DPTR
00F4 E0                MOVX    A,@DPTR
00F5 FF                MOV     R7,A
00F6 A3                INC     DPTR
00F7 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 776
00FA 900000      R     MOV     DPTR,#emEepromAddr
00FD E0                MOVX    A,@DPTR
00FE FC                MOV     R4,A
00FF A3                INC     DPTR
0100 E0                MOVX    A,@DPTR
0101 FD                MOV     R5,A
0102 A3                INC     DPTR
0103 E0                MOVX    A,@DPTR
0104 FE                MOV     R6,A
0105 A3                INC     DPTR
0106 E0                MOVX    A,@DPTR
0107 FF                MOV     R7,A
0108 900000      R     MOV     DPTR,#lastWrRowPtr
010B E0                MOVX    A,@DPTR
010C FB                MOV     R3,A
010D A3                INC     DPTR
010E E0                MOVX    A,@DPTR
010F FA                MOV     R2,A
0110 A3                INC     DPTR
0111 E0                MOVX    A,@DPTR
0112 F9                MOV     R1,A
0113 120000      E     LCALL   ?C?LSTPTR
                                           ; SOURCE LINE # 777
0116         ?C0089:
                                           ; SOURCE LINE # 780
0116 900000      R     MOV     DPTR,#emEepromAddr
0119 E0                MOVX    A,@DPTR
011A FC                MOV     R4,A
011B A3                INC     DPTR
011C E0                MOVX    A,@DPTR
011D FD                MOV     R5,A
011E A3                INC     DPTR
011F E0                MOVX    A,@DPTR
0120 FE                MOV     R6,A
0121 A3                INC     DPTR
0122 E0                MOVX    A,@DPTR
0123 2400              ADD     A,#00H
0125 FF                MOV     R7,A
0126 EE                MOV     A,R6
0127 3401              ADDC    A,#01H
0129 FE                MOV     R6,A
012A E4                CLR     A
012B 3D                ADDC    A,R5
012C FD                MOV     R5,A
012D E4                CLR     A
012E 3C                ADDC    A,R4
012F FC                MOV     R4,A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 110 

0130 900000      R     MOV     DPTR,#emEepromAddr
0133 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 781
0136 900000      R     MOV     DPTR,#numRows
0139 E0                MOVX    A,@DPTR
013A FC                MOV     R4,A
013B A3                INC     DPTR
013C E0                MOVX    A,@DPTR
013D FD                MOV     R5,A
013E A3                INC     DPTR
013F E0                MOVX    A,@DPTR
0140 FE                MOV     R6,A
0141 A3                INC     DPTR
0142 E0                MOVX    A,@DPTR
0143 FF                MOV     R7,A
0144 E4                CLR     A
0145 FA                MOV     R2,A
0146 F9                MOV     R1,A
0147 F8                MOV     R0,A
0148 EF                MOV     A,R7
0149 2401              ADD     A,#01H
014B FF                MOV     R7,A
014C EA                MOV     A,R2
014D 3E                ADDC    A,R6
014E FE                MOV     R6,A
014F E9                MOV     A,R1
0150 3D                ADDC    A,R5
0151 FD                MOV     R5,A
0152 E8                MOV     A,R0
0153 3C                ADDC    A,R4
0154 FC                MOV     R4,A
0155 900000      R     MOV     DPTR,#numRows
0158 120000      E     LCALL   ?C?LSTXDATA
015B 020000      R     LJMP    ?C0086
                                           ; SOURCE LINE # 782
015E         ?C0090:
015E 22                RET     
             ; FUNCTION _FindLastWrittenRow (END)

             ; FUNCTION _GetRowAddrBySeqNum (BEGIN)
                                           ; SOURCE LINE # 802
0000 900000      R     MOV     DPTR,#seqNum
0003 120000      E     LCALL   ?C?LSTXDATA
0006 900000      R     MOV     DPTR,#context
0009 EB                MOV     A,R3
000A F0                MOVX    @DPTR,A
000B A3                INC     DPTR
000C EA                MOV     A,R2
000D F0                MOVX    @DPTR,A
000E A3                INC     DPTR
000F E9                MOV     A,R1
0010 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 803
                                           ; SOURCE LINE # 804
0011 2416              ADD     A,#016H
0013 F9                MOV     R1,A
0014 E4                CLR     A
0015 3A                ADDC    A,R2
0016 FA                MOV     R2,A
0017 120000      E     LCALL   ?C?LLDPTR
001A 900000      R     MOV     DPTR,#emEepromAddr
001D 120000      E     LCALL   ?C?LSTXDATA
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 111 

0020         ?C0091:
                                           ; SOURCE LINE # 806
0020 900000      R     MOV     DPTR,#emEepromAddr
0023 E0                MOVX    A,@DPTR
0024 A3                INC     DPTR
0025 E0                MOVX    A,@DPTR
0026 FD                MOV     R5,A
0027 A3                INC     DPTR
0028 E0                MOVX    A,@DPTR
0029 FE                MOV     R6,A
002A A3                INC     DPTR
002B E0                MOVX    A,@DPTR
002C F9                MOV     R1,A
002D AA06              MOV     R2,AR6
002F AB05              MOV     R3,AR5
0031 120000      E     LCALL   ?C?LLDPTR
0034 900000      R     MOV     DPTR,#seqNum
0037 E0                MOVX    A,@DPTR
0038 F8                MOV     R0,A
0039 A3                INC     DPTR
003A E0                MOVX    A,@DPTR
003B F9                MOV     R1,A
003C A3                INC     DPTR
003D E0                MOVX    A,@DPTR
003E FA                MOV     R2,A
003F A3                INC     DPTR
0040 E0                MOVX    A,@DPTR
0041 FB                MOV     R3,A
0042 C3                CLR     C
0043 120000      E     LCALL   ?C?ULCMP
0046 6058              JZ      ?C0092
                                           ; SOURCE LINE # 807
                                           ; SOURCE LINE # 809
0048 900000      R     MOV     DPTR,#emEepromAddr
004B E0                MOVX    A,@DPTR
004C FC                MOV     R4,A
004D A3                INC     DPTR
004E E0                MOVX    A,@DPTR
004F FD                MOV     R5,A
0050 A3                INC     DPTR
0051 E0                MOVX    A,@DPTR
0052 FE                MOV     R6,A
0053 A3                INC     DPTR
0054 E0                MOVX    A,@DPTR
0055 2400              ADD     A,#00H
0057 FF                MOV     R7,A
0058 EE                MOV     A,R6
0059 3401              ADDC    A,#01H
005B FE                MOV     R6,A
005C E4                CLR     A
005D 3D                ADDC    A,R5
005E FD                MOV     R5,A
005F E4                CLR     A
0060 3C                ADDC    A,R4
0061 FC                MOV     R4,A
0062 900000      R     MOV     DPTR,#emEepromAddr
0065 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 811
0068 900000      R     MOV     DPTR,#context
006B E0                MOVX    A,@DPTR
006C FB                MOV     R3,A
006D A3                INC     DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 112 

006E E0                MOVX    A,@DPTR
006F FA                MOV     R2,A
0070 A3                INC     DPTR
0071 E0                MOVX    A,@DPTR
0072 F9                MOV     R1,A
0073 120000      E     LCALL   ?C?LLDPTR
0076 900000      R     MOV     DPTR,#emEepromAddr
0079 E0                MOVX    A,@DPTR
007A F8                MOV     R0,A
007B A3                INC     DPTR
007C E0                MOVX    A,@DPTR
007D F9                MOV     R1,A
007E A3                INC     DPTR
007F E0                MOVX    A,@DPTR
0080 FA                MOV     R2,A
0081 A3                INC     DPTR
0082 E0                MOVX    A,@DPTR
0083 FB                MOV     R3,A
0084 C3                CLR     C
0085 120000      E     LCALL   ?C?ULCMP
0088 4004              JC      ?C0094
008A 7F00              MOV     R7,#00H
008C 8002              SJMP    ?C0095
008E         ?C0094:
008E 7F01              MOV     R7,#01H
0090         ?C0095:
0090 EF                MOV     A,R7
0091 6401              XRL     A,#01H
0093 608B              JZ      ?C0091
                                           ; SOURCE LINE # 813
                                           ; SOURCE LINE # 814
0095 E4                CLR     A
0096 FF                MOV     R7,A
0097 FE                MOV     R6,A
0098 FD                MOV     R5,A
0099 FC                MOV     R4,A
009A 900000      R     MOV     DPTR,#emEepromAddr
009D 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 816
                                           ; SOURCE LINE # 817
                                           ; SOURCE LINE # 818
00A0         ?C0092:
                                           ; SOURCE LINE # 820
00A0 900000      R     MOV     DPTR,#emEepromAddr
00A3 E0                MOVX    A,@DPTR
00A4 FC                MOV     R4,A
00A5 A3                INC     DPTR
00A6 E0                MOVX    A,@DPTR
00A7 FD                MOV     R5,A
00A8 A3                INC     DPTR
00A9 E0                MOVX    A,@DPTR
00AA FE                MOV     R6,A
00AB A3                INC     DPTR
00AC E0                MOVX    A,@DPTR
00AD FF                MOV     R7,A
                                           ; SOURCE LINE # 821
00AE         ?C0096:
00AE 22                RET     
             ; FUNCTION _GetRowAddrBySeqNum (END)

             ; FUNCTION _GetNextRowToWrite (BEGIN)
                                           ; SOURCE LINE # 847
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 113 

0000 900000      R     MOV     DPTR,#seqNum
0003 120000      E     LCALL   ?C?LSTXDATA
0006 900000      R     MOV     DPTR,#rowToWrPtr
0009 EB                MOV     A,R3
000A F0                MOVX    @DPTR,A
000B A3                INC     DPTR
000C EA                MOV     A,R2
000D F0                MOVX    @DPTR,A
000E A3                INC     DPTR
000F E9                MOV     A,R1
0010 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 851
                                           ; SOURCE LINE # 855
0011 900000      R     MOV     DPTR,#seqNum
0014 E0                MOVX    A,@DPTR
0015 A3                INC     DPTR
0016 E0                MOVX    A,@DPTR
0017 A3                INC     DPTR
0018 E0                MOVX    A,@DPTR
0019 FE                MOV     R6,A
001A A3                INC     DPTR
001B E0                MOVX    A,@DPTR
001C 4E                ORL     A,R6
001D 601C              JZ      ?C0097
                                           ; SOURCE LINE # 856
                                           ; SOURCE LINE # 857
001F A3                INC     DPTR
0020 E0                MOVX    A,@DPTR
0021 FB                MOV     R3,A
0022 A3                INC     DPTR
0023 E0                MOVX    A,@DPTR
0024 FA                MOV     R2,A
0025 A3                INC     DPTR
0026 E0                MOVX    A,@DPTR
0027 F9                MOV     R1,A
0028 120000      E     LCALL   ?C?LLDPTR
002B E4                CLR     A
002C 2F                ADD     A,R7
002D FF                MOV     R7,A
002E EE                MOV     A,R6
002F 3401              ADDC    A,#01H
0031 FE                MOV     R6,A
0032 E4                CLR     A
0033 3D                ADDC    A,R5
0034 FD                MOV     R5,A
0035 E4                CLR     A
0036 3C                ADDC    A,R4
0037 FC                MOV     R4,A
0038 120000      E     LCALL   ?C?LSTPTR
                                           ; SOURCE LINE # 858
003B         ?C0097:
                                           ; SOURCE LINE # 863
003B 900000      R     MOV     DPTR,#context
003E E0                MOVX    A,@DPTR
003F FB                MOV     R3,A
0040 A3                INC     DPTR
0041 E0                MOVX    A,@DPTR
0042 FA                MOV     R2,A
0043 A3                INC     DPTR
0044 E0                MOVX    A,@DPTR
0045 F9                MOV     R1,A
0046 120000      E     LCALL   ?C?LLDPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 114 

0049 900000      R     MOV     DPTR,#rowToWrPtr
004C E0                MOVX    A,@DPTR
004D FB                MOV     R3,A
004E A3                INC     DPTR
004F E0                MOVX    A,@DPTR
0050 FA                MOV     R2,A
0051 A3                INC     DPTR
0052 E0                MOVX    A,@DPTR
0053 F9                MOV     R1,A
0054 120000      E     LCALL   ?C?LLDPTR0
0057 C3                CLR     C
0058 120000      E     LCALL   ?C?ULCMP
005B 4004              JC      ?C0099
005D 7F00              MOV     R7,#00H
005F 8002              SJMP    ?C0100
0061         ?C0099:
0061 7F01              MOV     R7,#01H
0063         ?C0100:
0063 EF                MOV     A,R7
0064 6401              XRL     A,#01H
0066 6021              JZ      ?C0098
                                           ; SOURCE LINE # 865
                                           ; SOURCE LINE # 866
0068 900000      R     MOV     DPTR,#context
006B E0                MOVX    A,@DPTR
006C FB                MOV     R3,A
006D A3                INC     DPTR
006E E0                MOVX    A,@DPTR
006F FA                MOV     R2,A
0070 A3                INC     DPTR
0071 E0                MOVX    A,@DPTR
0072 2416              ADD     A,#016H
0074 F9                MOV     R1,A
0075 E4                CLR     A
0076 3A                ADDC    A,R2
0077 FA                MOV     R2,A
0078 120000      E     LCALL   ?C?LLDPTR
007B 900000      R     MOV     DPTR,#rowToWrPtr
007E E0                MOVX    A,@DPTR
007F FB                MOV     R3,A
0080 A3                INC     DPTR
0081 E0                MOVX    A,@DPTR
0082 FA                MOV     R2,A
0083 A3                INC     DPTR
0084 E0                MOVX    A,@DPTR
0085 F9                MOV     R1,A
0086 120000      E     LCALL   ?C?LSTPTR
                                           ; SOURCE LINE # 867
0089         ?C0098:
                                           ; SOURCE LINE # 869
0089 E4                CLR     A
008A FF                MOV     R7,A
008B FE                MOV     R6,A
008C FD                MOV     R5,A
008D FC                MOV     R4,A
008E 900000      R     MOV     DPTR,#rowToRdPtr
0091 E0                MOVX    A,@DPTR
0092 FB                MOV     R3,A
0093 A3                INC     DPTR
0094 E0                MOVX    A,@DPTR
0095 FA                MOV     R2,A
0096 A3                INC     DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 115 

0097 E0                MOVX    A,@DPTR
0098 F9                MOV     R1,A
0099 120000      E     LCALL   ?C?LSTPTR
                                           ; SOURCE LINE # 875
009C 900000      R     MOV     DPTR,#context
009F E0                MOVX    A,@DPTR
00A0 FB                MOV     R3,A
00A1 A3                INC     DPTR
00A2 E0                MOVX    A,@DPTR
00A3 FA                MOV     R2,A
00A4 A3                INC     DPTR
00A5 E0                MOVX    A,@DPTR
00A6 2404              ADD     A,#04H
00A8 F9                MOV     R1,A
00A9 E4                CLR     A
00AA 3A                ADDC    A,R2
00AB FA                MOV     R2,A
00AC 120000      E     LCALL   ?C?LLDPTR
00AF 900000      R     MOV     DPTR,#seqNum
00B2 E0                MOVX    A,@DPTR
00B3 F8                MOV     R0,A
00B4 A3                INC     DPTR
00B5 E0                MOVX    A,@DPTR
00B6 F9                MOV     R1,A
00B7 A3                INC     DPTR
00B8 E0                MOVX    A,@DPTR
00B9 FA                MOV     R2,A
00BA A3                INC     DPTR
00BB E0                MOVX    A,@DPTR
00BC FB                MOV     R3,A
00BD C3                CLR     C
00BE 120000      E     LCALL   ?C?ULCMP
00C1 5003              JNC     $ + 5H
00C3 020000      R     LJMP    ?C0106
                                           ; SOURCE LINE # 876
                                           ; SOURCE LINE # 878
00C6 900000      R     MOV     DPTR,#context
00C9 E0                MOVX    A,@DPTR
00CA FB                MOV     R3,A
00CB A3                INC     DPTR
00CC E0                MOVX    A,@DPTR
00CD FA                MOV     R2,A
00CE A3                INC     DPTR
00CF E0                MOVX    A,@DPTR
00D0 2410              ADD     A,#010H
00D2 F9                MOV     R1,A
00D3 E4                CLR     A
00D4 3A                ADDC    A,R2
00D5 FA                MOV     R2,A
00D6 120000      E     LCALL   ?C?LLDPTR
00D9 D3                SETB    C
00DA EF                MOV     A,R7
00DB 9401              SUBB    A,#01H
00DD EE                MOV     A,R6
00DE 9400              SUBB    A,#00H
00E0 5003              JNC     $ + 5H
00E2 020000      R     LJMP    ?C0102
                                           ; SOURCE LINE # 879
                                           ; SOURCE LINE # 883
00E5 900000      R     MOV     DPTR,#context
00E8 E0                MOVX    A,@DPTR
00E9 A3                INC     DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 116 

00EA E0                MOVX    A,@DPTR
00EB FA                MOV     R2,A
00EC A3                INC     DPTR
00ED E0                MOVX    A,@DPTR
00EE 2404              ADD     A,#04H
00F0 F9                MOV     R1,A
00F1 E4                CLR     A
00F2 3A                ADDC    A,R2
00F3 FA                MOV     R2,A
00F4 120000      E     LCALL   ?C?LLDPTR
00F7 E4                CLR     A
00F8 FB                MOV     R3,A
00F9 7A01              MOV     R2,#01H
00FB F9                MOV     R1,A
00FC F8                MOV     R0,A
00FD 120000      E     LCALL   ?C?LMUL
0100 C004              PUSH    AR4
0102 C005              PUSH    AR5
0104 C006              PUSH    AR6
0106 C007              PUSH    AR7
0108 900000      R     MOV     DPTR,#rowToWrPtr
010B E0                MOVX    A,@DPTR
010C FB                MOV     R3,A
010D A3                INC     DPTR
010E E0                MOVX    A,@DPTR
010F FA                MOV     R2,A
0110 A3                INC     DPTR
0111 E0                MOVX    A,@DPTR
0112 F9                MOV     R1,A
0113 120000      E     LCALL   ?C?LLDPTR
0116 D003              POP     AR3
0118 D002              POP     AR2
011A D001              POP     AR1
011C D000              POP     AR0
011E C3                CLR     C
011F EF                MOV     A,R7
0120 9B                SUBB    A,R3
0121 FF                MOV     R7,A
0122 EE                MOV     A,R6
0123 9A                SUBB    A,R2
0124 FE                MOV     R6,A
0125 ED                MOV     A,R5
0126 99                SUBB    A,R1
0127 FD                MOV     R5,A
0128 EC                MOV     A,R4
0129 98                SUBB    A,R0
012A FC                MOV     R4,A
012B 900000      R     MOV     DPTR,#context
012E E0                MOVX    A,@DPTR
012F FB                MOV     R3,A
0130 A3                INC     DPTR
0131 E0                MOVX    A,@DPTR
0132 FA                MOV     R2,A
0133 A3                INC     DPTR
0134 E0                MOVX    A,@DPTR
0135 2416              ADD     A,#016H
0137 F9                MOV     R1,A
0138 E4                CLR     A
0139 3A                ADDC    A,R2
013A FA                MOV     R2,A
013B 120000      E     LCALL   ?C?LLDPTR0
013E D3                SETB    C
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 117 

013F 120000      E     LCALL   ?C?ULCMP
0142 5003              JNC     $ + 5H
0144 020000      R     LJMP    ?C0103
                                           ; SOURCE LINE # 885
                                           ; SOURCE LINE # 886
0147 900000      R     MOV     DPTR,#context
014A E0                MOVX    A,@DPTR
014B FB                MOV     R3,A
014C A3                INC     DPTR
014D E0                MOVX    A,@DPTR
014E FA                MOV     R2,A
014F A3                INC     DPTR
0150 E0                MOVX    A,@DPTR
0151 2410              ADD     A,#010H
0153 F9                MOV     R1,A
0154 E4                CLR     A
0155 3A                ADDC    A,R2
0156 FA                MOV     R2,A
0157 120000      E     LCALL   ?C?LLDPTR
015A EF                MOV     A,R7
015B 24FF              ADD     A,#0FFH
015D FF                MOV     R7,A
015E EE                MOV     A,R6
015F 34FF              ADDC    A,#0FFH
0161 FE                MOV     R6,A
0162 ED                MOV     A,R5
0163 34FF              ADDC    A,#0FFH
0165 FD                MOV     R5,A
0166 EC                MOV     A,R4
0167 34FF              ADDC    A,#0FFH
0169 FC                MOV     R4,A
016A 900000      R     MOV     DPTR,#context
016D E0                MOVX    A,@DPTR
016E A3                INC     DPTR
016F E0                MOVX    A,@DPTR
0170 FA                MOV     R2,A
0171 A3                INC     DPTR
0172 E0                MOVX    A,@DPTR
0173 2404              ADD     A,#04H
0175 F9                MOV     R1,A
0176 E4                CLR     A
0177 3A                ADDC    A,R2
0178 FA                MOV     R2,A
0179 120000      E     LCALL   ?C?LLDPTR0
017C 120000      E     LCALL   ?C?LMUL
017F E4                CLR     A
0180 FB                MOV     R3,A
0181 7A01              MOV     R2,#01H
0183 F9                MOV     R1,A
0184 F8                MOV     R0,A
0185 120000      E     LCALL   ?C?LMUL
0188 900000      R     MOV     DPTR,#context
018B E0                MOVX    A,@DPTR
018C FB                MOV     R3,A
018D A3                INC     DPTR
018E E0                MOVX    A,@DPTR
018F FA                MOV     R2,A
0190 A3                INC     DPTR
0191 E0                MOVX    A,@DPTR
0192 2416              ADD     A,#016H
0194 F9                MOV     R1,A
0195 E4                CLR     A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 118 

0196 3A                ADDC    A,R2
0197 FA                MOV     R2,A
0198 120000      E     LCALL   ?C?LLDPTR0
019B EF                MOV     A,R7
019C 2B                ADD     A,R3
019D FF                MOV     R7,A
019E EE                MOV     A,R6
019F 3A                ADDC    A,R2
01A0 FE                MOV     R6,A
01A1 ED                MOV     A,R5
01A2 39                ADDC    A,R1
01A3 FD                MOV     R5,A
01A4 EC                MOV     A,R4
01A5 38                ADDC    A,R0
01A6 FC                MOV     R4,A
01A7 C004              PUSH    AR4
01A9 C005              PUSH    AR5
01AB C006              PUSH    AR6
01AD C007              PUSH    AR7
01AF 900000      R     MOV     DPTR,#context
01B2 E0                MOVX    A,@DPTR
01B3 FB                MOV     R3,A
01B4 A3                INC     DPTR
01B5 E0                MOVX    A,@DPTR
01B6 FA                MOV     R2,A
01B7 A3                INC     DPTR
01B8 E0                MOVX    A,@DPTR
01B9 2416              ADD     A,#016H
01BB F9                MOV     R1,A
01BC E4                CLR     A
01BD 3A                ADDC    A,R2
01BE FA                MOV     R2,A
01BF 120000      E     LCALL   ?C?LLDPTR0
01C2 C000              PUSH    AR0
01C4 C001              PUSH    AR1
01C6 C002              PUSH    AR2
01C8 C003              PUSH    AR3
01CA 900000      R     MOV     DPTR,#rowToWrPtr
01CD E0                MOVX    A,@DPTR
01CE FB                MOV     R3,A
01CF A3                INC     DPTR
01D0 E0                MOVX    A,@DPTR
01D1 FA                MOV     R2,A
01D2 A3                INC     DPTR
01D3 E0                MOVX    A,@DPTR
01D4 F9                MOV     R1,A
01D5 120000      E     LCALL   ?C?LLDPTR
01D8 D003              POP     AR3
01DA D002              POP     AR2
01DC D001              POP     AR1
01DE D000              POP     AR0
01E0 C3                CLR     C
01E1 EF                MOV     A,R7
01E2 9B                SUBB    A,R3
01E3 FF                MOV     R7,A
01E4 EE                MOV     A,R6
01E5 9A                SUBB    A,R2
01E6 FE                MOV     R6,A
01E7 ED                MOV     A,R5
01E8 99                SUBB    A,R1
01E9 FD                MOV     R5,A
01EA EC                MOV     A,R4
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 119 

01EB 98                SUBB    A,R0
01EC FC                MOV     R4,A
01ED D003              POP     AR3
01EF D002              POP     AR2
01F1 D001              POP     AR1
01F3 D000              POP     AR0
01F5 EF                MOV     A,R7
01F6 2B                ADD     A,R3
01F7 FF                MOV     R7,A
01F8 EE                MOV     A,R6
01F9 3A                ADDC    A,R2
01FA FE                MOV     R6,A
01FB ED                MOV     A,R5
01FC 39                ADDC    A,R1
01FD FD                MOV     R5,A
01FE EC                MOV     A,R4
01FF 38                ADDC    A,R0
0200 FC                MOV     R4,A
0201 900000      R     MOV     DPTR,#rowToRdPtr
0204 E0                MOVX    A,@DPTR
0205 FB                MOV     R3,A
0206 A3                INC     DPTR
0207 E0                MOVX    A,@DPTR
0208 FA                MOV     R2,A
0209 A3                INC     DPTR
020A E0                MOVX    A,@DPTR
020B F9                MOV     R1,A
020C 120000      E     LCALL   ?C?LSTPTR
                                           ; SOURCE LINE # 889
020F 22                RET     
0210         ?C0103:
                                           ; SOURCE LINE # 891
                                           ; SOURCE LINE # 892
0210 900000      R     MOV     DPTR,#context
0213 E0                MOVX    A,@DPTR
0214 FB                MOV     R3,A
0215 A3                INC     DPTR
0216 E0                MOVX    A,@DPTR
0217 FA                MOV     R2,A
0218 A3                INC     DPTR
0219 E0                MOVX    A,@DPTR
021A 2404              ADD     A,#04H
021C F9                MOV     R1,A
021D E4                CLR     A
021E 3A                ADDC    A,R2
021F FA                MOV     R2,A
0220 120000      E     LCALL   ?C?LLDPTR
0223 E4                CLR     A
0224 FB                MOV     R3,A
0225 7A01              MOV     R2,#01H
0227 F9                MOV     R1,A
0228 F8                MOV     R0,A
0229 120000      E     LCALL   ?C?LMUL
022C C004              PUSH    AR4
022E C005              PUSH    AR5
0230 C006              PUSH    AR6
0232 C007              PUSH    AR7
0234 900000      R     MOV     DPTR,#rowToWrPtr
0237 E0                MOVX    A,@DPTR
0238 FB                MOV     R3,A
0239 A3                INC     DPTR
023A E0                MOVX    A,@DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 120 

023B FA                MOV     R2,A
023C A3                INC     DPTR
023D E0                MOVX    A,@DPTR
023E F9                MOV     R1,A
023F 120000      E     LCALL   ?C?LLDPTR
0242 D003              POP     AR3
0244 D002              POP     AR2
0246 D001              POP     AR1
0248 D000              POP     AR0
024A C3                CLR     C
024B EF                MOV     A,R7
024C 9B                SUBB    A,R3
024D FF                MOV     R7,A
024E EE                MOV     A,R6
024F 9A                SUBB    A,R2
0250 FE                MOV     R6,A
0251 ED                MOV     A,R5
0252 99                SUBB    A,R1
0253 FD                MOV     R5,A
0254 EC                MOV     A,R4
0255 98                SUBB    A,R0
0256 FC                MOV     R4,A
0257 900000      R     MOV     DPTR,#rowToRdPtr
025A E0                MOVX    A,@DPTR
025B FB                MOV     R3,A
025C A3                INC     DPTR
025D E0                MOVX    A,@DPTR
025E FA                MOV     R2,A
025F A3                INC     DPTR
0260 E0                MOVX    A,@DPTR
0261 F9                MOV     R1,A
0262 120000      E     LCALL   ?C?LSTPTR
                                           ; SOURCE LINE # 893
                                           ; SOURCE LINE # 894
0265 22                RET     
0266         ?C0102:
                                           ; SOURCE LINE # 896
                                           ; SOURCE LINE # 900
0266 900000      R     MOV     DPTR,#rowToWrPtr
0269 E0                MOVX    A,@DPTR
026A FB                MOV     R3,A
026B A3                INC     DPTR
026C E0                MOVX    A,@DPTR
026D FA                MOV     R2,A
026E A3                INC     DPTR
026F E0                MOVX    A,@DPTR
0270 F9                MOV     R1,A
0271 120000      E     LCALL   ?C?LLDPTR
0274 900000      R     MOV     DPTR,#rowToRdPtr
0277 E0                MOVX    A,@DPTR
0278 FB                MOV     R3,A
0279 A3                INC     DPTR
027A E0                MOVX    A,@DPTR
027B FA                MOV     R2,A
027C A3                INC     DPTR
027D E0                MOVX    A,@DPTR
027E F9                MOV     R1,A
027F 120000      E     LCALL   ?C?LSTPTR
                                           ; SOURCE LINE # 901
                                           ; SOURCE LINE # 902
                                           ; SOURCE LINE # 903
0282         ?C0106:
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 121 

0282 22                RET     
             ; FUNCTION _GetNextRowToWrite (END)

             ; FUNCTION _CalcChecksum (BEGIN)
                                           ; SOURCE LINE # 923
0000 900000      R     MOV     DPTR,#rowData
0003 EB                MOV     A,R3
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EA                MOV     A,R2
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 E9                MOV     A,R1
000A F0                MOVX    @DPTR,A
000B A3                INC     DPTR
000C 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 924
                                           ; SOURCE LINE # 925
000F 900000      R     MOV     DPTR,#crc
0012 74FF              MOV     A,#0FFH
0014 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 927
0015 E4                CLR     A
0016 A3                INC     DPTR
0017 F0                MOVX    @DPTR,A
0018 A3                INC     DPTR
0019 F0                MOVX    @DPTR,A
001A         ?C0107:
                                           ; SOURCE LINE # 929
001A 900000      R     MOV     DPTR,#cnt
001D E0                MOVX    A,@DPTR
001E FE                MOV     R6,A
001F A3                INC     DPTR
0020 E0                MOVX    A,@DPTR
0021 FF                MOV     R7,A
0022 E4                CLR     A
0023 FC                MOV     R4,A
0024 FD                MOV     R5,A
0025 900000      R     MOV     DPTR,#len
0028 E0                MOVX    A,@DPTR
0029 F8                MOV     R0,A
002A A3                INC     DPTR
002B E0                MOVX    A,@DPTR
002C F9                MOV     R1,A
002D A3                INC     DPTR
002E E0                MOVX    A,@DPTR
002F FA                MOV     R2,A
0030 A3                INC     DPTR
0031 E0                MOVX    A,@DPTR
0032 FB                MOV     R3,A
0033 C3                CLR     C
0034 120000      E     LCALL   ?C?ULCMP
0037 605F              JZ      ?C0108
                                           ; SOURCE LINE # 930
                                           ; SOURCE LINE # 931
0039 900000      R     MOV     DPTR,#crc
003C E0                MOVX    A,@DPTR
003D FF                MOV     R7,A
003E 900000      R     MOV     DPTR,#rowData
0041 E0                MOVX    A,@DPTR
0042 FB                MOV     R3,A
0043 A3                INC     DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 122 

0044 E0                MOVX    A,@DPTR
0045 FA                MOV     R2,A
0046 A3                INC     DPTR
0047 E0                MOVX    A,@DPTR
0048 F9                MOV     R1,A
0049 900000      R     MOV     DPTR,#cnt
004C E0                MOVX    A,@DPTR
004D FC                MOV     R4,A
004E A3                INC     DPTR
004F E0                MOVX    A,@DPTR
0050 FD                MOV     R5,A
0051 E9                MOV     A,R1
0052 2D                ADD     A,R5
0053 F9                MOV     R1,A
0054 EA                MOV     A,R2
0055 3C                ADDC    A,R4
0056 FA                MOV     R2,A
0057 120000      E     LCALL   ?C?CLDPTR
005A FE                MOV     R6,A
005B EF                MOV     A,R7
005C 6E                XRL     A,R6
005D 900000      R     MOV     DPTR,#crc
0060 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 932
;---- Variable 'i' assigned to Register 'R7' ----
0061 E4                CLR     A
0062 FF                MOV     R7,A
0063         ?C0109:
0063 EF                MOV     A,R7
0064 C3                CLR     C
0065 9408              SUBB    A,#08H
0067 501F              JNC     ?C0110
                                           ; SOURCE LINE # 933
                                           ; SOURCE LINE # 934
0069 900000      R     MOV     DPTR,#crc
006C E0                MOVX    A,@DPTR
006D FE                MOV     R6,A
006E 30E707            JNB     ACC.7,?C0112
0071 25E0              ADD     A,ACC
0073 6431              XRL     A,#031H
0075 FE                MOV     R6,A
0076 8008              SJMP    ?C0113
0078         ?C0112:
0078 900000      R     MOV     DPTR,#crc
007B E0                MOVX    A,@DPTR
007C FE                MOV     R6,A
007D 25E0              ADD     A,ACC
007F FE                MOV     R6,A
0080         ?C0113:
0080 900000      R     MOV     DPTR,#crc
0083 EE                MOV     A,R6
0084 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 935
0085 0F                INC     R7
0086 80DB              SJMP    ?C0109
0088         ?C0110:
                                           ; SOURCE LINE # 936
0088 900000      R     MOV     DPTR,#cnt+01H
008B E0                MOVX    A,@DPTR
008C 04                INC     A
008D F0                MOVX    @DPTR,A
008E 7006              JNZ     ?C0158
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 123 

0090 900000      R     MOV     DPTR,#cnt
0093 E0                MOVX    A,@DPTR
0094 04                INC     A
0095 F0                MOVX    @DPTR,A
0096         ?C0158:
                                           ; SOURCE LINE # 937
0096 8082              SJMP    ?C0107
0098         ?C0108:
                                           ; SOURCE LINE # 939
0098 900000      R     MOV     DPTR,#crc
009B E0                MOVX    A,@DPTR
009C FF                MOV     R7,A
                                           ; SOURCE LINE # 940
009D         ?C0114:
009D 22                RET     
             ; FUNCTION _CalcChecksum (END)

             ; FUNCTION _CheckRanges (BEGIN)
                                           ; SOURCE LINE # 956
0000 900000      R     MOV     DPTR,#config
0003 EB                MOV     A,R3
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EA                MOV     A,R2
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 E9                MOV     A,R1
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 957
                                           ; SOURCE LINE # 958
000B A3                INC     DPTR
000C 7403              MOV     A,#03H
000E F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 959
000F E9                MOV     A,R1
0010 240A              ADD     A,#0AH
0012 F9                MOV     R1,A
0013 E4                CLR     A
0014 3A                ADDC    A,R2
0015 FA                MOV     R2,A
0016 120000      E     LCALL   ?C?LLDPTR
0019 900000      R     MOV     DPTR,#startAddr
001C 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 960
001F 900000      R     MOV     DPTR,#config
0022 E0                MOVX    A,@DPTR
0023 FB                MOV     R3,A
0024 A3                INC     DPTR
0025 E0                MOVX    A,@DPTR
0026 FA                MOV     R2,A
0027 A3                INC     DPTR
0028 E0                MOVX    A,@DPTR
0029 F9                MOV     R1,A
002A 120000      E     LCALL   ?C?LLDPTR
002D EF                MOV     A,R7
002E 547F              ANL     A,#07FH
0030 FF                MOV     R7,A
0031 E4                CLR     A
0032 EF                MOV     A,R7
0033 6010              JZ      ?C0115
0035 E4                CLR     A
0036 7F01              MOV     R7,#01H
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 124 

0038 FE                MOV     R6,A
0039 FD                MOV     R5,A
003A FC                MOV     R4,A
003B C004              PUSH    AR4
003D C005              PUSH    AR5
003F C006              PUSH    AR6
0041 C007              PUSH    AR7
0043 8011              SJMP    ?C0116
0045         ?C0115:
0045 E4                CLR     A
0046 FF                MOV     R7,A
0047 FE                MOV     R6,A
0048 FD                MOV     R5,A
0049 FC                MOV     R4,A
004A FB                MOV     R3,A
004B FA                MOV     R2,A
004C F9                MOV     R1,A
004D F8                MOV     R0,A
004E C000              PUSH    AR0
0050 C001              PUSH    AR1
0052 C002              PUSH    AR2
0054 C003              PUSH    AR3
0056         ?C0116:
0056 900000      R     MOV     DPTR,#config
0059 E0                MOVX    A,@DPTR
005A FB                MOV     R3,A
005B A3                INC     DPTR
005C E0                MOVX    A,@DPTR
005D FA                MOV     R2,A
005E A3                INC     DPTR
005F E0                MOVX    A,@DPTR
0060 F9                MOV     R1,A
0061 120000      E     LCALL   ?C?LLDPTR
0064 E4                CLR     A
0065 7B80              MOV     R3,#080H
0067 FA                MOV     R2,A
0068 F9                MOV     R1,A
0069 F8                MOV     R0,A
006A 120000      E     LCALL   ?C?ULDIV
006D D003              POP     AR3
006F D002              POP     AR2
0071 D001              POP     AR1
0073 D000              POP     AR0
0075 EF                MOV     A,R7
0076 2B                ADD     A,R3
0077 FF                MOV     R7,A
0078 EE                MOV     A,R6
0079 3A                ADDC    A,R2
007A FE                MOV     R6,A
007B ED                MOV     A,R5
007C 39                ADDC    A,R1
007D FD                MOV     R5,A
007E EC                MOV     A,R4
007F 38                ADDC    A,R0
0080 FC                MOV     R4,A
0081 E4                CLR     A
0082 FB                MOV     R3,A
0083 7A01              MOV     R2,#01H
0085 F9                MOV     R1,A
0086 F8                MOV     R0,A
0087 120000      E     LCALL   ?C?LMUL
008A 900000      R     MOV     DPTR,#config
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 125 

008D E0                MOVX    A,@DPTR
008E FB                MOV     R3,A
008F A3                INC     DPTR
0090 E0                MOVX    A,@DPTR
0091 FA                MOV     R2,A
0092 A3                INC     DPTR
0093 E0                MOVX    A,@DPTR
0094 2404              ADD     A,#04H
0096 F9                MOV     R1,A
0097 E4                CLR     A
0098 3A                ADDC    A,R2
0099 FA                MOV     R2,A
009A 120000      E     LCALL   ?C?LLDPTR0
009D 120000      E     LCALL   ?C?LMUL
00A0 A804              MOV     R0,AR4
00A2 C005              PUSH    AR5
00A4 C006              PUSH    AR6
00A6 C007              PUSH    AR7
00A8 900000      R     MOV     DPTR,#config
00AB E0                MOVX    A,@DPTR
00AC FB                MOV     R3,A
00AD A3                INC     DPTR
00AE E0                MOVX    A,@DPTR
00AF FA                MOV     R2,A
00B0 A3                INC     DPTR
00B1 E0                MOVX    A,@DPTR
00B2 2408              ADD     A,#08H
00B4 F9                MOV     R1,A
00B5 E4                CLR     A
00B6 3A                ADDC    A,R2
00B7 FA                MOV     R2,A
00B8 120000      E     LCALL   ?C?CLDPTR
00BB FF                MOV     R7,A
00BC E4                CLR     A
00BD EF                MOV     A,R7
00BE 2401              ADD     A,#01H
00C0 FF                MOV     R7,A
00C1 E4                CLR     A
00C2 33                RLC     A
00C3 FE                MOV     R6,A
00C4 E4                CLR     A
00C5 33                RLC     A
00C6 FD                MOV     R5,A
00C7 E4                CLR     A
00C8 33                RLC     A
00C9 FC                MOV     R4,A
00CA D003              POP     AR3
00CC D002              POP     AR2
00CE D001              POP     AR1
00D0 120000      E     LCALL   ?C?LMUL
00D3 900000      R     MOV     DPTR,#startAddr
00D6 E0                MOVX    A,@DPTR
00D7 F8                MOV     R0,A
00D8 A3                INC     DPTR
00D9 E0                MOVX    A,@DPTR
00DA F9                MOV     R1,A
00DB A3                INC     DPTR
00DC E0                MOVX    A,@DPTR
00DD FA                MOV     R2,A
00DE A3                INC     DPTR
00DF E0                MOVX    A,@DPTR
00E0 2F                ADD     A,R7
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 126 

00E1 FF                MOV     R7,A
00E2 EA                MOV     A,R2
00E3 3E                ADDC    A,R6
00E4 FE                MOV     R6,A
00E5 E9                MOV     A,R1
00E6 3D                ADDC    A,R5
00E7 FD                MOV     R5,A
00E8 E8                MOV     A,R0
00E9 3C                ADDC    A,R4
00EA FC                MOV     R4,A
00EB A3                INC     DPTR
00EC 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 964
00EF E4                CLR     A
00F0 FF                MOV     R7,A
00F1 FE                MOV     R6,A
00F2 7DFF              MOV     R5,#0FFH
00F4 FC                MOV     R4,A
00F5 900000      R     MOV     DPTR,#startAddr
00F8 E0                MOVX    A,@DPTR
00F9 F8                MOV     R0,A
00FA A3                INC     DPTR
00FB E0                MOVX    A,@DPTR
00FC F9                MOV     R1,A
00FD A3                INC     DPTR
00FE E0                MOVX    A,@DPTR
00FF FA                MOV     R2,A
0100 A3                INC     DPTR
0101 E0                MOVX    A,@DPTR
0102 FB                MOV     R3,A
0103 D3                SETB    C
0104 120000      E     LCALL   ?C?ULCMP
0107 4020              JC      ?C0117
0109 74FF              MOV     A,#0FFH
010B FF                MOV     R7,A
010C FE                MOV     R6,A
010D FD                MOV     R5,A
010E 7C00              MOV     R4,#00H
0110 900000      R     MOV     DPTR,#endAddr
0113 E0                MOVX    A,@DPTR
0114 F8                MOV     R0,A
0115 A3                INC     DPTR
0116 E0                MOVX    A,@DPTR
0117 F9                MOV     R1,A
0118 A3                INC     DPTR
0119 E0                MOVX    A,@DPTR
011A FA                MOV     R2,A
011B A3                INC     DPTR
011C E0                MOVX    A,@DPTR
011D FB                MOV     R3,A
011E D3                SETB    C
011F 120000      E     LCALL   ?C?ULCMP
0122 5005              JNC     ?C0117
                                           ; SOURCE LINE # 965
                                           ; SOURCE LINE # 966
0124 E4                CLR     A
0125 900000      R     MOV     DPTR,#ret
0128 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 967
0129         ?C0117:
                                           ; SOURCE LINE # 968
0129 900000      R     MOV     DPTR,#ret
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 127 

012C E0                MOVX    A,@DPTR
012D FF                MOV     R7,A
                                           ; SOURCE LINE # 969
012E         ?C0118:
012E 22                RET     
             ; FUNCTION _CheckRanges (END)

             ; FUNCTION _WriteRow (BEGIN)
                                           ; SOURCE LINE # 991
0000 900000      R     MOV     DPTR,#rowAddr
0003 120000      E     LCALL   ?C?LSTXDATA
0006 900000      R     MOV     DPTR,#rowData
0009 EB                MOV     A,R3
000A F0                MOVX    @DPTR,A
000B A3                INC     DPTR
000C EA                MOV     A,R2
000D F0                MOVX    @DPTR,A
000E A3                INC     DPTR
000F E9                MOV     A,R1
0010 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 994
                                           ; SOURCE LINE # 995
0011 900000      R     MOV     DPTR,#ret
0014 7404              MOV     A,#04H
0016 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1004
0017 900000      R     MOV     DPTR,#rowAddr
001A E0                MOVX    A,@DPTR
001B FC                MOV     R4,A
001C A3                INC     DPTR
001D E0                MOVX    A,@DPTR
001E FD                MOV     R5,A
001F A3                INC     DPTR
0020 E0                MOVX    A,@DPTR
0021 FE                MOV     R6,A
0022 A3                INC     DPTR
0023 E0                MOVX    A,@DPTR
0024 FF                MOV     R7,A
0025 EE                MOV     A,R6
0026 E4                CLR     A
0027 FD                MOV     R5,A
0028 FC                MOV     R4,A
0029 900000      R     MOV     DPTR,#rowAddr
002C 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1005
                                           ; SOURCE LINE # 1011
002F E4                CLR     A
0030 FB                MOV     R3,A
0031 7A01              MOV     R2,#01H
0033 F9                MOV     R1,A
0034 F8                MOV     R0,A
0035 900000      R     MOV     DPTR,#rowAddr
0038 E0                MOVX    A,@DPTR
0039 FC                MOV     R4,A
003A A3                INC     DPTR
003B E0                MOVX    A,@DPTR
003C FD                MOV     R5,A
003D A3                INC     DPTR
003E E0                MOVX    A,@DPTR
003F FE                MOV     R6,A
0040 A3                INC     DPTR
0041 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 128 

0042 FF                MOV     R7,A
0043 120000      E     LCALL   ?C?ULDIV
0046 EF                MOV     A,R7
0047 E4                CLR     A
0048 FE                MOV     R6,A
0049 FD                MOV     R5,A
004A FC                MOV     R4,A
004B 900000      R     MOV     DPTR,#rowId
004E 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1019
0051 120000      E     LCALL   CySetTemp
                                           ; SOURCE LINE # 1022
0054 E4                CLR     A
0055 FB                MOV     R3,A
0056 FA                MOV     R2,A
0057 7901              MOV     R1,#01H
0059 F8                MOV     R0,A
005A 900000      R     MOV     DPTR,#rowAddr
005D E0                MOVX    A,@DPTR
005E FC                MOV     R4,A
005F A3                INC     DPTR
0060 E0                MOVX    A,@DPTR
0061 FD                MOV     R5,A
0062 A3                INC     DPTR
0063 E0                MOVX    A,@DPTR
0064 FE                MOV     R6,A
0065 A3                INC     DPTR
0066 E0                MOVX    A,@DPTR
0067 FF                MOV     R7,A
0068 120000      E     LCALL   ?C?ULDIV
;---- Variable 'arrayId' assigned to Register 'R4/R5/R6/R7' ----
                                           ; SOURCE LINE # 1023
006B 900000      R     MOV     DPTR,#rowId
006E E0                MOVX    A,@DPTR
006F A3                INC     DPTR
0070 E0                MOVX    A,@DPTR
0071 A3                INC     DPTR
0072 E0                MOVX    A,@DPTR
0073 FE                MOV     R6,A
0074 A3                INC     DPTR
0075 E0                MOVX    A,@DPTR
0076 FD                MOV     R5,A
0077 AC06              MOV     R4,AR6
0079 900000      R     MOV     DPTR,#rowData
007C E0                MOVX    A,@DPTR
007D FB                MOV     R3,A
007E A3                INC     DPTR
007F E0                MOVX    A,@DPTR
0080 FA                MOV     R2,A
0081 A3                INC     DPTR
0082 E0                MOVX    A,@DPTR
0083 F9                MOV     R1,A
0084 120000      E     LCALL   _CyWriteRowData
;---- Variable 'rc' assigned to Register 'R7' ----
                                           ; SOURCE LINE # 1030
0087 EF                MOV     A,R7
0088 7004              JNZ     ?C0119
                                           ; SOURCE LINE # 1031
                                           ; SOURCE LINE # 1032
008A 900000      R     MOV     DPTR,#ret
008D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1033
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 129 

008E         ?C0119:
                                           ; SOURCE LINE # 1067
008E 900000      R     MOV     DPTR,#ret
0091 E0                MOVX    A,@DPTR
0092 FF                MOV     R7,A
                                           ; SOURCE LINE # 1068
0093         ?C0120:
0093 22                RET     
             ; FUNCTION _WriteRow (END)

             ; FUNCTION _EraseRow (BEGIN)
                                           ; SOURCE LINE # 1093
0000 900000      R     MOV     DPTR,#rowAddr
0003 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1096
                                           ; SOURCE LINE # 1097
0006 900000      R     MOV     DPTR,#rowAddr
0009 E0                MOVX    A,@DPTR
000A FC                MOV     R4,A
000B A3                INC     DPTR
000C E0                MOVX    A,@DPTR
000D FD                MOV     R5,A
000E A3                INC     DPTR
000F E0                MOVX    A,@DPTR
0010 FE                MOV     R6,A
0011 A3                INC     DPTR
0012 E0                MOVX    A,@DPTR
0013 FF                MOV     R7,A
0014 900000      R     MOV     DPTR,#emEepromRowAddr
0017 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1098
001A 900000      R     MOV     DPTR,#ret
001D 7404              MOV     A,#04H
001F F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1155
0020 900000      R     MOV     DPTR,#ramBuffAddr
0023 E0                MOVX    A,@DPTR
0024 A3                INC     DPTR
0025 E0                MOVX    A,@DPTR
0026 FD                MOV     R5,A
0027 A3                INC     DPTR
0028 E0                MOVX    A,@DPTR
0029 FE                MOV     R6,A
002A A3                INC     DPTR
002B E0                MOVX    A,@DPTR
002C F9                MOV     R1,A
002D AA06              MOV     R2,AR6
002F AB05              MOV     R3,AR5
0031 C002              PUSH    AR2
0033 C001              PUSH    AR1
0035 A3                INC     DPTR
0036 E0                MOVX    A,@DPTR
0037 F9                MOV     R1,A
0038 A3                INC     DPTR
0039 E0                MOVX    A,@DPTR
003A FA                MOV     R2,A
003B A3                INC     DPTR
003C E0                MOVX    A,@DPTR
003D 900000      R     MOV     DPTR,#?_WriteRow?BYTE+07H
0040 C9                XCH     A,R1
0041 F0                MOVX    @DPTR,A
0042 A3                INC     DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 130 

0043 EA                MOV     A,R2
0044 F0                MOVX    @DPTR,A
0045 A3                INC     DPTR
0046 E9                MOV     A,R1
0047 F0                MOVX    @DPTR,A
0048 900000      R     MOV     DPTR,#emEepromRowAddr
004B E0                MOVX    A,@DPTR
004C FC                MOV     R4,A
004D A3                INC     DPTR
004E E0                MOVX    A,@DPTR
004F FD                MOV     R5,A
0050 A3                INC     DPTR
0051 E0                MOVX    A,@DPTR
0052 FE                MOV     R6,A
0053 A3                INC     DPTR
0054 E0                MOVX    A,@DPTR
0055 FF                MOV     R7,A
0056 D001              POP     AR1
0058 D002              POP     AR2
005A 120000      R     LCALL   _WriteRow
005D 900000      R     MOV     DPTR,#ret
0060 EF                MOV     A,R7
0061 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1157
0062 6003              JZ      $ + 5H
0064 020000      R     LJMP    ?C0121
0067 900000      R     MOV     DPTR,#context
006A E0                MOVX    A,@DPTR
006B FB                MOV     R3,A
006C A3                INC     DPTR
006D E0                MOVX    A,@DPTR
006E FA                MOV     R2,A
006F A3                INC     DPTR
0070 E0                MOVX    A,@DPTR
0071 2414              ADD     A,#014H
0073 F9                MOV     R1,A
0074 E4                CLR     A
0075 3A                ADDC    A,R2
0076 FA                MOV     R2,A
0077 120000      E     LCALL   ?C?CLDPTR
007A 7003              JNZ     $ + 5H
007C 020000      R     LJMP    ?C0121
                                           ; SOURCE LINE # 1158
                                           ; SOURCE LINE # 1160
007F 900000      R     MOV     DPTR,#context
0082 E0                MOVX    A,@DPTR
0083 A3                INC     DPTR
0084 E0                MOVX    A,@DPTR
0085 FA                MOV     R2,A
0086 A3                INC     DPTR
0087 E0                MOVX    A,@DPTR
0088 2416              ADD     A,#016H
008A F9                MOV     R1,A
008B E4                CLR     A
008C 3A                ADDC    A,R2
008D FA                MOV     R2,A
008E 120000      E     LCALL   ?C?LLDPTR0
0091 900000      R     MOV     DPTR,#emEepromRowAddr
0094 E0                MOVX    A,@DPTR
0095 FC                MOV     R4,A
0096 A3                INC     DPTR
0097 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 131 

0098 FD                MOV     R5,A
0099 A3                INC     DPTR
009A E0                MOVX    A,@DPTR
009B FE                MOV     R6,A
009C A3                INC     DPTR
009D E0                MOVX    A,@DPTR
009E C3                CLR     C
009F 9B                SUBB    A,R3
00A0 FF                MOV     R7,A
00A1 EE                MOV     A,R6
00A2 9A                SUBB    A,R2
00A3 FE                MOV     R6,A
00A4 ED                MOV     A,R5
00A5 99                SUBB    A,R1
00A6 FD                MOV     R5,A
00A7 EC                MOV     A,R4
00A8 98                SUBB    A,R0
00A9 FC                MOV     R4,A
00AA 900000      R     MOV     DPTR,#context
00AD E0                MOVX    A,@DPTR
00AE FB                MOV     R3,A
00AF A3                INC     DPTR
00B0 E0                MOVX    A,@DPTR
00B1 FA                MOV     R2,A
00B2 A3                INC     DPTR
00B3 E0                MOVX    A,@DPTR
00B4 F9                MOV     R1,A
00B5 120000      E     LCALL   ?C?LLDPTR0
00B8 EF                MOV     A,R7
00B9 2B                ADD     A,R3
00BA FF                MOV     R7,A
00BB EE                MOV     A,R6
00BC 3A                ADDC    A,R2
00BD FE                MOV     R6,A
00BE ED                MOV     A,R5
00BF 39                ADDC    A,R1
00C0 FD                MOV     R5,A
00C1 EC                MOV     A,R4
00C2 38                ADDC    A,R0
00C3 FC                MOV     R4,A
00C4 900000      R     MOV     DPTR,#emEepromRowAddr
00C7 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1161
00CA 900000      R     MOV     DPTR,#ramBuffAddr
00CD E0                MOVX    A,@DPTR
00CE A3                INC     DPTR
00CF E0                MOVX    A,@DPTR
00D0 FD                MOV     R5,A
00D1 A3                INC     DPTR
00D2 E0                MOVX    A,@DPTR
00D3 FE                MOV     R6,A
00D4 A3                INC     DPTR
00D5 E0                MOVX    A,@DPTR
00D6 F9                MOV     R1,A
00D7 AA06              MOV     R2,AR6
00D9 AB05              MOV     R3,AR5
00DB C002              PUSH    AR2
00DD C001              PUSH    AR1
00DF A3                INC     DPTR
00E0 E0                MOVX    A,@DPTR
00E1 F9                MOV     R1,A
00E2 A3                INC     DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 132 

00E3 E0                MOVX    A,@DPTR
00E4 FA                MOV     R2,A
00E5 A3                INC     DPTR
00E6 E0                MOVX    A,@DPTR
00E7 900000      R     MOV     DPTR,#?_WriteRow?BYTE+07H
00EA C9                XCH     A,R1
00EB F0                MOVX    @DPTR,A
00EC A3                INC     DPTR
00ED EA                MOV     A,R2
00EE F0                MOVX    @DPTR,A
00EF A3                INC     DPTR
00F0 E9                MOV     A,R1
00F1 F0                MOVX    @DPTR,A
00F2 900000      R     MOV     DPTR,#emEepromRowAddr
00F5 E0                MOVX    A,@DPTR
00F6 FC                MOV     R4,A
00F7 A3                INC     DPTR
00F8 E0                MOVX    A,@DPTR
00F9 FD                MOV     R5,A
00FA A3                INC     DPTR
00FB E0                MOVX    A,@DPTR
00FC FE                MOV     R6,A
00FD A3                INC     DPTR
00FE E0                MOVX    A,@DPTR
00FF FF                MOV     R7,A
0100 D001              POP     AR1
0102 D002              POP     AR2
0104 120000      R     LCALL   _WriteRow
0107 900000      R     MOV     DPTR,#ret
010A EF                MOV     A,R7
010B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1162
010C         ?C0121:
                                           ; SOURCE LINE # 1164
010C 900000      R     MOV     DPTR,#ret
010F E0                MOVX    A,@DPTR
0110 7021              JNZ     ?C0122
                                           ; SOURCE LINE # 1165
                                           ; SOURCE LINE # 1166
0112 900000      R     MOV     DPTR,#rowAddr
0115 E0                MOVX    A,@DPTR
0116 FC                MOV     R4,A
0117 A3                INC     DPTR
0118 E0                MOVX    A,@DPTR
0119 FD                MOV     R5,A
011A A3                INC     DPTR
011B E0                MOVX    A,@DPTR
011C FE                MOV     R6,A
011D A3                INC     DPTR
011E E0                MOVX    A,@DPTR
011F FF                MOV     R7,A
0120 900000      R     MOV     DPTR,#context
0123 E0                MOVX    A,@DPTR
0124 FB                MOV     R3,A
0125 A3                INC     DPTR
0126 E0                MOVX    A,@DPTR
0127 FA                MOV     R2,A
0128 A3                INC     DPTR
0129 E0                MOVX    A,@DPTR
012A 2408              ADD     A,#08H
012C F9                MOV     R1,A
012D E4                CLR     A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 133 

012E 3A                ADDC    A,R2
012F FA                MOV     R2,A
0130 120000      E     LCALL   ?C?LSTPTR
                                           ; SOURCE LINE # 1167
0133         ?C0122:
                                           ; SOURCE LINE # 1170
0133 900000      R     MOV     DPTR,#ret
0136 E0                MOVX    A,@DPTR
0137 FF                MOV     R7,A
                                           ; SOURCE LINE # 1171
0138         ?C0123:
0138 22                RET     
             ; FUNCTION _EraseRow (END)

             ; FUNCTION _CheckCrcAndCopy (BEGIN)
                                           ; SOURCE LINE # 1209
0000 900000      R     MOV     DPTR,#startAddr
0003 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1214
                                           ; SOURCE LINE # 1219
0006 900000      R     MOV     DPTR,#context
0009 E0                MOVX    A,@DPTR
000A FB                MOV     R3,A
000B A3                INC     DPTR
000C E0                MOVX    A,@DPTR
000D FA                MOV     R2,A
000E A3                INC     DPTR
000F E0                MOVX    A,@DPTR
0010 2416              ADD     A,#016H
0012 F9                MOV     R1,A
0013 E4                CLR     A
0014 3A                ADDC    A,R2
0015 FA                MOV     R2,A
0016 120000      E     LCALL   ?C?LLDPTR0
0019 900000      R     MOV     DPTR,#startAddr
001C E0                MOVX    A,@DPTR
001D FC                MOV     R4,A
001E A3                INC     DPTR
001F E0                MOVX    A,@DPTR
0020 FD                MOV     R5,A
0021 A3                INC     DPTR
0022 E0                MOVX    A,@DPTR
0023 FE                MOV     R6,A
0024 A3                INC     DPTR
0025 E0                MOVX    A,@DPTR
0026 C3                CLR     C
0027 9B                SUBB    A,R3
0028 FF                MOV     R7,A
0029 EE                MOV     A,R6
002A 9A                SUBB    A,R2
002B FE                MOV     R6,A
002C ED                MOV     A,R5
002D 99                SUBB    A,R1
002E FD                MOV     R5,A
002F EC                MOV     A,R4
0030 98                SUBB    A,R0
0031 FC                MOV     R4,A
0032 900000      R     MOV     DPTR,#context
0035 E0                MOVX    A,@DPTR
0036 FB                MOV     R3,A
0037 A3                INC     DPTR
0038 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 134 

0039 FA                MOV     R2,A
003A A3                INC     DPTR
003B E0                MOVX    A,@DPTR
003C F9                MOV     R1,A
003D 120000      E     LCALL   ?C?LLDPTR0
0040 EF                MOV     A,R7
0041 2B                ADD     A,R3
0042 FF                MOV     R7,A
0043 EE                MOV     A,R6
0044 3A                ADDC    A,R2
0045 FE                MOV     R6,A
0046 ED                MOV     A,R5
0047 39                ADDC    A,R1
0048 FD                MOV     R5,A
0049 EC                MOV     A,R4
004A 38                ADDC    A,R0
004B FC                MOV     R4,A
004C 900000      R     MOV     DPTR,#rcStartRowAddr
004F 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1223
0052 900000      R     MOV     DPTR,#startAddr
0055 E0                MOVX    A,@DPTR
0056 FC                MOV     R4,A
0057 A3                INC     DPTR
0058 E0                MOVX    A,@DPTR
0059 FD                MOV     R5,A
005A A3                INC     DPTR
005B E0                MOVX    A,@DPTR
005C FE                MOV     R6,A
005D A3                INC     DPTR
005E E0                MOVX    A,@DPTR
005F 2480              ADD     A,#080H
0061 FF                MOV     R7,A
0062 E4                CLR     A
0063 3E                ADDC    A,R6
0064 FE                MOV     R6,A
0065 E4                CLR     A
0066 3D                ADDC    A,R5
0067 FD                MOV     R5,A
0068 E4                CLR     A
0069 3C                ADDC    A,R4
006A A907              MOV     R1,AR7
006C AA06              MOV     R2,AR6
006E AB05              MOV     R3,AR5
0070 E4                CLR     A
0071 7F80              MOV     R7,#080H
0073 FE                MOV     R6,A
0074 FD                MOV     R5,A
0075 FC                MOV     R4,A
0076 120000      R     LCALL   _CalcChecksum
0079 E4                CLR     A
007A FC                MOV     R4,A
007B FD                MOV     R5,A
007C FE                MOV     R6,A
007D C004              PUSH    AR4
007F C005              PUSH    AR5
0081 C006              PUSH    AR6
0083 C007              PUSH    AR7
0085 900000      R     MOV     DPTR,#startAddr
0088 E0                MOVX    A,@DPTR
0089 FC                MOV     R4,A
008A A3                INC     DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 135 

008B E0                MOVX    A,@DPTR
008C FD                MOV     R5,A
008D A3                INC     DPTR
008E E0                MOVX    A,@DPTR
008F FE                MOV     R6,A
0090 A3                INC     DPTR
0091 E0                MOVX    A,@DPTR
0092 247C              ADD     A,#07CH
0094 FF                MOV     R7,A
0095 E4                CLR     A
0096 3E                ADDC    A,R6
0097 FE                MOV     R6,A
0098 E4                CLR     A
0099 3D                ADDC    A,R5
009A FD                MOV     R5,A
009B E4                CLR     A
009C 3C                ADDC    A,R4
009D A907              MOV     R1,AR7
009F AA06              MOV     R2,AR6
00A1 AB05              MOV     R3,AR5
00A3 120000      E     LCALL   ?C?LLDPTR0
00A6 D007              POP     AR7
00A8 D006              POP     AR6
00AA D005              POP     AR5
00AC D004              POP     AR4
00AE C3                CLR     C
00AF 120000      E     LCALL   ?C?ULCMP
00B2 705D              JNZ     ?C0124
                                           ; SOURCE LINE # 1225
                                           ; SOURCE LINE # 1226
00B4 900000      R     MOV     DPTR,#numBytes
00B7 E0                MOVX    A,@DPTR
00B8 A3                INC     DPTR
00B9 E0                MOVX    A,@DPTR
00BA A3                INC     DPTR
00BB E0                MOVX    A,@DPTR
00BC FE                MOV     R6,A
00BD A3                INC     DPTR
00BE E0                MOVX    A,@DPTR
00BF FF                MOV     R7,A
00C0 C006              PUSH    AR6
00C2 C007              PUSH    AR7
00C4 900000      R     MOV     DPTR,#rowOffset
00C7 E0                MOVX    A,@DPTR
00C8 FC                MOV     R4,A
00C9 A3                INC     DPTR
00CA E0                MOVX    A,@DPTR
00CB FD                MOV     R5,A
00CC A3                INC     DPTR
00CD E0                MOVX    A,@DPTR
00CE FE                MOV     R6,A
00CF A3                INC     DPTR
00D0 E0                MOVX    A,@DPTR
00D1 FF                MOV     R7,A
00D2 900000      R     MOV     DPTR,#startAddr
00D5 E0                MOVX    A,@DPTR
00D6 F8                MOV     R0,A
00D7 A3                INC     DPTR
00D8 E0                MOVX    A,@DPTR
00D9 F9                MOV     R1,A
00DA A3                INC     DPTR
00DB E0                MOVX    A,@DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 136 

00DC FA                MOV     R2,A
00DD A3                INC     DPTR
00DE E0                MOVX    A,@DPTR
00DF 2F                ADD     A,R7
00E0 FF                MOV     R7,A
00E1 EA                MOV     A,R2
00E2 3E                ADDC    A,R6
00E3 FE                MOV     R6,A
00E4 E9                MOV     A,R1
00E5 3D                ADDC    A,R5
00E6 FD                MOV     R5,A
00E7 E8                MOV     A,R0
00E8 3C                ADDC    A,R4
00E9 A907              MOV     R1,AR7
00EB AA06              MOV     R2,AR6
00ED AB05              MOV     R3,AR5
00EF C002              PUSH    AR2
00F1 A3                INC     DPTR
00F2 E0                MOVX    A,@DPTR
00F3 A3                INC     DPTR
00F4 E0                MOVX    A,@DPTR
00F5 FD                MOV     R5,A
00F6 A3                INC     DPTR
00F7 E0                MOVX    A,@DPTR
00F8 FE                MOV     R6,A
00F9 A3                INC     DPTR
00FA E0                MOVX    A,@DPTR
00FB AA06              MOV     R2,AR6
00FD F8                MOV     R0,A
00FE AC02              MOV     R4,AR2
0100 D002              POP     AR2
0102 D007              POP     AR7
0104 D006              POP     AR6
0106 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 1228
0109 E4                CLR     A
010A 900000      R     MOV     DPTR,#ret
010D F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1229
010E 020000      R     LJMP    ?C0125
0111         ?C0124:
                                           ; SOURCE LINE # 1232
0111 900000      R     MOV     DPTR,#rcStartRowAddr
0114 E0                MOVX    A,@DPTR
0115 FC                MOV     R4,A
0116 A3                INC     DPTR
0117 E0                MOVX    A,@DPTR
0118 FD                MOV     R5,A
0119 A3                INC     DPTR
011A E0                MOVX    A,@DPTR
011B FE                MOV     R6,A
011C A3                INC     DPTR
011D E0                MOVX    A,@DPTR
011E 2480              ADD     A,#080H
0120 FF                MOV     R7,A
0121 E4                CLR     A
0122 3E                ADDC    A,R6
0123 FE                MOV     R6,A
0124 E4                CLR     A
0125 3D                ADDC    A,R5
0126 FD                MOV     R5,A
0127 E4                CLR     A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 137 

0128 3C                ADDC    A,R4
0129 A907              MOV     R1,AR7
012B AA06              MOV     R2,AR6
012D AB05              MOV     R3,AR5
012F E4                CLR     A
0130 7F80              MOV     R7,#080H
0132 FE                MOV     R6,A
0133 FD                MOV     R5,A
0134 FC                MOV     R4,A
0135 120000      R     LCALL   _CalcChecksum
0138 E4                CLR     A
0139 FC                MOV     R4,A
013A FD                MOV     R5,A
013B FE                MOV     R6,A
013C C004              PUSH    AR4
013E C005              PUSH    AR5
0140 C006              PUSH    AR6
0142 C007              PUSH    AR7
0144 900000      R     MOV     DPTR,#rcStartRowAddr
0147 E0                MOVX    A,@DPTR
0148 FC                MOV     R4,A
0149 A3                INC     DPTR
014A E0                MOVX    A,@DPTR
014B FD                MOV     R5,A
014C A3                INC     DPTR
014D E0                MOVX    A,@DPTR
014E FE                MOV     R6,A
014F A3                INC     DPTR
0150 E0                MOVX    A,@DPTR
0151 247C              ADD     A,#07CH
0153 FF                MOV     R7,A
0154 E4                CLR     A
0155 3E                ADDC    A,R6
0156 FE                MOV     R6,A
0157 E4                CLR     A
0158 3D                ADDC    A,R5
0159 FD                MOV     R5,A
015A E4                CLR     A
015B 3C                ADDC    A,R4
015C A907              MOV     R1,AR7
015E AA06              MOV     R2,AR6
0160 AB05              MOV     R3,AR5
0162 120000      E     LCALL   ?C?LLDPTR0
0165 D007              POP     AR7
0167 D006              POP     AR6
0169 D005              POP     AR5
016B D004              POP     AR4
016D C3                CLR     C
016E 120000      E     LCALL   ?C?ULCMP
0171 6003              JZ      $ + 5H
0173 020000      R     LJMP    ?C0126
                                           ; SOURCE LINE # 1234
                                           ; SOURCE LINE # 1239
0176 900000      R     MOV     DPTR,#rcStartRowAddr
0179 E0                MOVX    A,@DPTR
017A A3                INC     DPTR
017B E0                MOVX    A,@DPTR
017C FD                MOV     R5,A
017D A3                INC     DPTR
017E E0                MOVX    A,@DPTR
017F FE                MOV     R6,A
0180 A3                INC     DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 138 

0181 E0                MOVX    A,@DPTR
0182 F9                MOV     R1,A
0183 AA06              MOV     R2,AR6
0185 AB05              MOV     R3,AR5
0187 7800        R     MOV     R0,#LOW writeRamBuffer
0189 7C00        R     MOV     R4,#HIGH writeRamBuffer
018B 7D01              MOV     R5,#01H
018D 7E01              MOV     R6,#01H
018F 7F00              MOV     R7,#00H
0191 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 1242
0194 900000      R     MOV     DPTR,#startAddr
0197 E0                MOVX    A,@DPTR
0198 FC                MOV     R4,A
0199 A3                INC     DPTR
019A E0                MOVX    A,@DPTR
019B FD                MOV     R5,A
019C A3                INC     DPTR
019D E0                MOVX    A,@DPTR
019E FE                MOV     R6,A
019F A3                INC     DPTR
01A0 E0                MOVX    A,@DPTR
01A1 FF                MOV     R7,A
01A2 900000      R     MOV     DPTR,#context
01A5 E0                MOVX    A,@DPTR
01A6 F9                MOV     R1,A
01A7 A3                INC     DPTR
01A8 E0                MOVX    A,@DPTR
01A9 FA                MOV     R2,A
01AA A3                INC     DPTR
01AB E0                MOVX    A,@DPTR
01AC 900000      R     MOV     DPTR,#?_WriteRow?BYTE+07H
01AF C9                XCH     A,R1
01B0 F0                MOVX    @DPTR,A
01B1 A3                INC     DPTR
01B2 EA                MOV     A,R2
01B3 F0                MOVX    @DPTR,A
01B4 A3                INC     DPTR
01B5 E9                MOV     A,R1
01B6 F0                MOVX    @DPTR,A
01B7 7B01              MOV     R3,#01H
01B9 7A00        R     MOV     R2,#HIGH writeRamBuffer
01BB 7900        R     MOV     R1,#LOW writeRamBuffer
01BD 120000      R     LCALL   _WriteRow
01C0 900000      R     MOV     DPTR,#ret
01C3 EF                MOV     A,R7
01C4 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1244
01C5 7055              JNZ     ?C0125
                                           ; SOURCE LINE # 1245
                                           ; SOURCE LINE # 1246
01C7 900000      R     MOV     DPTR,#numBytes
01CA E0                MOVX    A,@DPTR
01CB A3                INC     DPTR
01CC E0                MOVX    A,@DPTR
01CD A3                INC     DPTR
01CE E0                MOVX    A,@DPTR
01CF FE                MOV     R6,A
01D0 A3                INC     DPTR
01D1 E0                MOVX    A,@DPTR
01D2 FF                MOV     R7,A
01D3 C006              PUSH    AR6
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 139 

01D5 C007              PUSH    AR7
01D7 E4                CLR     A
01D8 7F04              MOV     R7,#04H
01DA FE                MOV     R6,A
01DB FD                MOV     R5,A
01DC FC                MOV     R4,A
01DD 900000      R     MOV     DPTR,#rowOffset
01E0 E0                MOVX    A,@DPTR
01E1 F8                MOV     R0,A
01E2 A3                INC     DPTR
01E3 E0                MOVX    A,@DPTR
01E4 F9                MOV     R1,A
01E5 A3                INC     DPTR
01E6 E0                MOVX    A,@DPTR
01E7 FA                MOV     R2,A
01E8 A3                INC     DPTR
01E9 E0                MOVX    A,@DPTR
01EA FB                MOV     R3,A
01EB 120000      E     LCALL   ?C?LMUL
01EE 7400        R     MOV     A,#LOW writeRamBuffer
01F0 2F                ADD     A,R7
01F1 F9                MOV     R1,A
01F2 7400        R     MOV     A,#HIGH writeRamBuffer
01F4 3E                ADDC    A,R6
01F5 FA                MOV     R2,A
01F6 7B01              MOV     R3,#01H
01F8 C002              PUSH    AR2
01FA 900000      R     MOV     DPTR,#dstAddr
01FD E0                MOVX    A,@DPTR
01FE A3                INC     DPTR
01FF E0                MOVX    A,@DPTR
0200 FD                MOV     R5,A
0201 A3                INC     DPTR
0202 E0                MOVX    A,@DPTR
0203 FE                MOV     R6,A
0204 A3                INC     DPTR
0205 E0                MOVX    A,@DPTR
0206 AA06              MOV     R2,AR6
0208 F8                MOV     R0,A
0209 AC02              MOV     R4,AR2
020B D002              POP     AR2
020D D007              POP     AR7
020F D006              POP     AR6
0211 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 1247
                                           ; SOURCE LINE # 1248
0214 8006              SJMP    ?C0125
0216         ?C0126:
                                           ; SOURCE LINE # 1250
                                           ; SOURCE LINE # 1251
0216 900000      R     MOV     DPTR,#ret
0219 7402              MOV     A,#02H
021B F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1252
021C         ?C0125:
                                           ; SOURCE LINE # 1254
021C 900000      R     MOV     DPTR,#ret
021F E0                MOVX    A,@DPTR
0220 FF                MOV     R7,A
                                           ; SOURCE LINE # 1255
0221         ?C0129:
0221 22                RET     
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 140 

             ; FUNCTION _CheckCrcAndCopy (END)

             ; FUNCTION _GetAddresses (BEGIN)
                                           ; SOURCE LINE # 1293
0000 900000      R     MOV     DPTR,#startAddr
0003 EB                MOV     A,R3
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EA                MOV     A,R2
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 E9                MOV     A,R1
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1299
                                           ; SOURCE LINE # 1300
000B E4                CLR     A
000C FF                MOV     R7,A
000D FE                MOV     R6,A
000E FD                MOV     R5,A
000F FC                MOV     R4,A
0010 900000      R     MOV     DPTR,#skip
0013 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1302
0016 E4                CLR     A
0017 FF                MOV     R7,A
0018 FE                MOV     R6,A
0019 FD                MOV     R5,A
001A FC                MOV     R4,A
001B 900000      R     MOV     DPTR,#offset
001E E0                MOVX    A,@DPTR
001F FB                MOV     R3,A
0020 A3                INC     DPTR
0021 E0                MOVX    A,@DPTR
0022 FA                MOV     R2,A
0023 A3                INC     DPTR
0024 E0                MOVX    A,@DPTR
0025 F9                MOV     R1,A
0026 120000      E     LCALL   ?C?LSTPTR
                                           ; SOURCE LINE # 1304
0029 E4                CLR     A
002A 7F80              MOV     R7,#080H
002C FE                MOV     R6,A
002D FD                MOV     R5,A
002E FC                MOV     R4,A
002F 900000      R     MOV     DPTR,#rowNum
0032 E0                MOVX    A,@DPTR
0033 F8                MOV     R0,A
0034 A3                INC     DPTR
0035 E0                MOVX    A,@DPTR
0036 F9                MOV     R1,A
0037 A3                INC     DPTR
0038 E0                MOVX    A,@DPTR
0039 FA                MOV     R2,A
003A A3                INC     DPTR
003B E0                MOVX    A,@DPTR
003C FB                MOV     R3,A
003D 120000      E     LCALL   ?C?LMUL
0040 900000      R     MOV     DPTR,#addr
0043 E0                MOVX    A,@DPTR
0044 F8                MOV     R0,A
0045 A3                INC     DPTR
0046 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 141 

0047 F9                MOV     R1,A
0048 A3                INC     DPTR
0049 E0                MOVX    A,@DPTR
004A FA                MOV     R2,A
004B A3                INC     DPTR
004C E0                MOVX    A,@DPTR
004D FB                MOV     R3,A
004E C3                CLR     C
004F 120000      E     LCALL   ?C?ULCMP
0052 5004              JNC     ?C0131
0054 7F00              MOV     R7,#00H
0056 803E              SJMP    ?C0132
0058         ?C0131:
0058 E4                CLR     A
0059 7F80              MOV     R7,#080H
005B FE                MOV     R6,A
005C FD                MOV     R5,A
005D FC                MOV     R4,A
005E 900000      R     MOV     DPTR,#rowNum
0061 E0                MOVX    A,@DPTR
0062 F8                MOV     R0,A
0063 A3                INC     DPTR
0064 E0                MOVX    A,@DPTR
0065 F9                MOV     R1,A
0066 A3                INC     DPTR
0067 E0                MOVX    A,@DPTR
0068 FA                MOV     R2,A
0069 A3                INC     DPTR
006A E0                MOVX    A,@DPTR
006B FB                MOV     R3,A
006C 120000      E     LCALL   ?C?LMUL
006F EF                MOV     A,R7
0070 247F              ADD     A,#07FH
0072 FF                MOV     R7,A
0073 E4                CLR     A
0074 3E                ADDC    A,R6
0075 FE                MOV     R6,A
0076 E4                CLR     A
0077 3D                ADDC    A,R5
0078 FD                MOV     R5,A
0079 E4                CLR     A
007A 3C                ADDC    A,R4
007B FC                MOV     R4,A
007C 900000      R     MOV     DPTR,#addr
007F E0                MOVX    A,@DPTR
0080 F8                MOV     R0,A
0081 A3                INC     DPTR
0082 E0                MOVX    A,@DPTR
0083 F9                MOV     R1,A
0084 A3                INC     DPTR
0085 E0                MOVX    A,@DPTR
0086 FA                MOV     R2,A
0087 A3                INC     DPTR
0088 E0                MOVX    A,@DPTR
0089 FB                MOV     R3,A
008A D3                SETB    C
008B 120000      E     LCALL   ?C?ULCMP
008E 4004              JC      ?C0133
0090 7F00              MOV     R7,#00H
0092 8002              SJMP    ?C0134
0094         ?C0133:
0094 7F01              MOV     R7,#01H
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 142 

0096         ?C0134:
0096         ?C0132:
0096 EF                MOV     A,R7
0097 7003              JNZ     $ + 5H
0099 020000      R     LJMP    ?C0130
                                           ; SOURCE LINE # 1305
                                           ; SOURCE LINE # 1306
009C 900000      R     MOV     DPTR,#addr
009F E0                MOVX    A,@DPTR
00A0 FC                MOV     R4,A
00A1 A3                INC     DPTR
00A2 E0                MOVX    A,@DPTR
00A3 FD                MOV     R5,A
00A4 A3                INC     DPTR
00A5 E0                MOVX    A,@DPTR
00A6 FE                MOV     R6,A
00A7 A3                INC     DPTR
00A8 E0                MOVX    A,@DPTR
00A9 547F              ANL     A,#07FH
00AB FF                MOV     R7,A
00AC E4                CLR     A
00AD EF                MOV     A,R7
00AE 2480              ADD     A,#080H
00B0 FF                MOV     R7,A
00B1 E4                CLR     A
00B2 33                RLC     A
00B3 FE                MOV     R6,A
00B4 E4                CLR     A
00B5 33                RLC     A
00B6 FD                MOV     R5,A
00B7 E4                CLR     A
00B8 33                RLC     A
00B9 FC                MOV     R4,A
00BA 900000      R     MOV     DPTR,#startAddr
00BD E0                MOVX    A,@DPTR
00BE FB                MOV     R3,A
00BF A3                INC     DPTR
00C0 E0                MOVX    A,@DPTR
00C1 FA                MOV     R2,A
00C2 A3                INC     DPTR
00C3 E0                MOVX    A,@DPTR
00C4 F9                MOV     R1,A
00C5 120000      E     LCALL   ?C?LSTPTR
                                           ; SOURCE LINE # 1308
00C8 E4                CLR     A
00C9 7F80              MOV     R7,#080H
00CB FE                MOV     R6,A
00CC FD                MOV     R5,A
00CD FC                MOV     R4,A
00CE 900000      R     MOV     DPTR,#rowNum
00D1 E0                MOVX    A,@DPTR
00D2 F8                MOV     R0,A
00D3 A3                INC     DPTR
00D4 E0                MOVX    A,@DPTR
00D5 F9                MOV     R1,A
00D6 A3                INC     DPTR
00D7 E0                MOVX    A,@DPTR
00D8 FA                MOV     R2,A
00D9 A3                INC     DPTR
00DA E0                MOVX    A,@DPTR
00DB FB                MOV     R3,A
00DC 120000      E     LCALL   ?C?LMUL
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 143 

00DF C004              PUSH    AR4
00E1 C005              PUSH    AR5
00E3 C006              PUSH    AR6
00E5 AB07              MOV     R3,AR7
00E7 900000      R     MOV     DPTR,#len
00EA E0                MOVX    A,@DPTR
00EB FC                MOV     R4,A
00EC A3                INC     DPTR
00ED E0                MOVX    A,@DPTR
00EE FD                MOV     R5,A
00EF A3                INC     DPTR
00F0 E0                MOVX    A,@DPTR
00F1 FE                MOV     R6,A
00F2 A3                INC     DPTR
00F3 E0                MOVX    A,@DPTR
00F4 FF                MOV     R7,A
00F5 900000      R     MOV     DPTR,#addr
00F8 E0                MOVX    A,@DPTR
00F9 F8                MOV     R0,A
00FA A3                INC     DPTR
00FB E0                MOVX    A,@DPTR
00FC F9                MOV     R1,A
00FD A3                INC     DPTR
00FE E0                MOVX    A,@DPTR
00FF FA                MOV     R2,A
0100 A3                INC     DPTR
0101 E0                MOVX    A,@DPTR
0102 2F                ADD     A,R7
0103 FF                MOV     R7,A
0104 EA                MOV     A,R2
0105 3E                ADDC    A,R6
0106 FE                MOV     R6,A
0107 E9                MOV     A,R1
0108 3D                ADDC    A,R5
0109 FD                MOV     R5,A
010A E8                MOV     A,R0
010B 3C                ADDC    A,R4
010C FC                MOV     R4,A
010D D002              POP     AR2
010F D001              POP     AR1
0111 D000              POP     AR0
0113 D3                SETB    C
0114 120000      E     LCALL   ?C?ULCMP
0117 4004              JC      ?C0136
0119 7F00              MOV     R7,#00H
011B 8064              SJMP    ?C0137
011D         ?C0136:
011D E4                CLR     A
011E 7F80              MOV     R7,#080H
0120 FE                MOV     R6,A
0121 FD                MOV     R5,A
0122 FC                MOV     R4,A
0123 900000      R     MOV     DPTR,#rowNum
0126 E0                MOVX    A,@DPTR
0127 F8                MOV     R0,A
0128 A3                INC     DPTR
0129 E0                MOVX    A,@DPTR
012A F9                MOV     R1,A
012B A3                INC     DPTR
012C E0                MOVX    A,@DPTR
012D FA                MOV     R2,A
012E A3                INC     DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 144 

012F E0                MOVX    A,@DPTR
0130 FB                MOV     R3,A
0131 120000      E     LCALL   ?C?LMUL
0134 EF                MOV     A,R7
0135 247F              ADD     A,#07FH
0137 FF                MOV     R7,A
0138 E4                CLR     A
0139 3E                ADDC    A,R6
013A FE                MOV     R6,A
013B E4                CLR     A
013C 3D                ADDC    A,R5
013D FD                MOV     R5,A
013E E4                CLR     A
013F 3C                ADDC    A,R4
0140 FC                MOV     R4,A
0141 C004              PUSH    AR4
0143 C005              PUSH    AR5
0145 C006              PUSH    AR6
0147 AB07              MOV     R3,AR7
0149 900000      R     MOV     DPTR,#len
014C E0                MOVX    A,@DPTR
014D FC                MOV     R4,A
014E A3                INC     DPTR
014F E0                MOVX    A,@DPTR
0150 FD                MOV     R5,A
0151 A3                INC     DPTR
0152 E0                MOVX    A,@DPTR
0153 FE                MOV     R6,A
0154 A3                INC     DPTR
0155 E0                MOVX    A,@DPTR
0156 FF                MOV     R7,A
0157 900000      R     MOV     DPTR,#addr
015A E0                MOVX    A,@DPTR
015B F8                MOV     R0,A
015C A3                INC     DPTR
015D E0                MOVX    A,@DPTR
015E F9                MOV     R1,A
015F A3                INC     DPTR
0160 E0                MOVX    A,@DPTR
0161 FA                MOV     R2,A
0162 A3                INC     DPTR
0163 E0                MOVX    A,@DPTR
0164 2F                ADD     A,R7
0165 FF                MOV     R7,A
0166 EA                MOV     A,R2
0167 3E                ADDC    A,R6
0168 FE                MOV     R6,A
0169 E9                MOV     A,R1
016A 3D                ADDC    A,R5
016B FD                MOV     R5,A
016C E8                MOV     A,R0
016D 3C                ADDC    A,R4
016E FC                MOV     R4,A
016F D002              POP     AR2
0171 D001              POP     AR1
0173 D000              POP     AR0
0175 C3                CLR     C
0176 120000      E     LCALL   ?C?ULCMP
0179 5004              JNC     ?C0138
017B 7F00              MOV     R7,#00H
017D 8002              SJMP    ?C0139
017F         ?C0138:
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 145 

017F 7F01              MOV     R7,#01H
0181         ?C0139:
0181         ?C0137:
0181 EF                MOV     A,R7
0182 6037              JZ      ?C0135
                                           ; SOURCE LINE # 1309
                                           ; SOURCE LINE # 1310
0184 900000      R     MOV     DPTR,#startAddr
0187 E0                MOVX    A,@DPTR
0188 FB                MOV     R3,A
0189 A3                INC     DPTR
018A E0                MOVX    A,@DPTR
018B FA                MOV     R2,A
018C A3                INC     DPTR
018D E0                MOVX    A,@DPTR
018E F9                MOV     R1,A
018F 120000      E     LCALL   ?C?LLDPTR
0192 900000      R     MOV     DPTR,#len
0195 E0                MOVX    A,@DPTR
0196 F8                MOV     R0,A
0197 A3                INC     DPTR
0198 E0                MOVX    A,@DPTR
0199 F9                MOV     R1,A
019A A3                INC     DPTR
019B E0                MOVX    A,@DPTR
019C FA                MOV     R2,A
019D A3                INC     DPTR
019E E0                MOVX    A,@DPTR
019F 2F                ADD     A,R7
01A0 FF                MOV     R7,A
01A1 EA                MOV     A,R2
01A2 3E                ADDC    A,R6
01A3 FE                MOV     R6,A
01A4 E9                MOV     A,R1
01A5 3D                ADDC    A,R5
01A6 FD                MOV     R5,A
01A7 E8                MOV     A,R0
01A8 3C                ADDC    A,R4
01A9 FC                MOV     R4,A
01AA 900000      R     MOV     DPTR,#endAddr
01AD E0                MOVX    A,@DPTR
01AE FB                MOV     R3,A
01AF A3                INC     DPTR
01B0 E0                MOVX    A,@DPTR
01B1 FA                MOV     R2,A
01B2 A3                INC     DPTR
01B3 E0                MOVX    A,@DPTR
01B4 F9                MOV     R1,A
01B5 120000      E     LCALL   ?C?LSTPTR
                                           ; SOURCE LINE # 1311
01B8 020000      R     LJMP    ?C0141
01BB         ?C0135:
                                           ; SOURCE LINE # 1313
                                           ; SOURCE LINE # 1314
01BB E4                CLR     A
01BC FF                MOV     R7,A
01BD 7E01              MOV     R6,#01H
01BF FD                MOV     R5,A
01C0 FC                MOV     R4,A
01C1 900000      R     MOV     DPTR,#endAddr
01C4 E0                MOVX    A,@DPTR
01C5 FB                MOV     R3,A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 146 

01C6 A3                INC     DPTR
01C7 E0                MOVX    A,@DPTR
01C8 FA                MOV     R2,A
01C9 A3                INC     DPTR
01CA E0                MOVX    A,@DPTR
01CB F9                MOV     R1,A
01CC 120000      E     LCALL   ?C?LSTPTR
                                           ; SOURCE LINE # 1315
                                           ; SOURCE LINE # 1316
01CF 020000      R     LJMP    ?C0141
01D2         ?C0130:
                                           ; SOURCE LINE # 1318
                                           ; SOURCE LINE # 1320
01D2 E4                CLR     A
01D3 7F80              MOV     R7,#080H
01D5 FE                MOV     R6,A
01D6 FD                MOV     R5,A
01D7 FC                MOV     R4,A
01D8 900000      R     MOV     DPTR,#rowNum
01DB E0                MOVX    A,@DPTR
01DC F8                MOV     R0,A
01DD A3                INC     DPTR
01DE E0                MOVX    A,@DPTR
01DF F9                MOV     R1,A
01E0 A3                INC     DPTR
01E1 E0                MOVX    A,@DPTR
01E2 FA                MOV     R2,A
01E3 A3                INC     DPTR
01E4 E0                MOVX    A,@DPTR
01E5 FB                MOV     R3,A
01E6 120000      E     LCALL   ?C?LMUL
01E9 C004              PUSH    AR4
01EB C005              PUSH    AR5
01ED C006              PUSH    AR6
01EF AB07              MOV     R3,AR7
01F1 900000      R     MOV     DPTR,#len
01F4 E0                MOVX    A,@DPTR
01F5 FC                MOV     R4,A
01F6 A3                INC     DPTR
01F7 E0                MOVX    A,@DPTR
01F8 FD                MOV     R5,A
01F9 A3                INC     DPTR
01FA E0                MOVX    A,@DPTR
01FB FE                MOV     R6,A
01FC A3                INC     DPTR
01FD E0                MOVX    A,@DPTR
01FE FF                MOV     R7,A
01FF 900000      R     MOV     DPTR,#addr
0202 E0                MOVX    A,@DPTR
0203 F8                MOV     R0,A
0204 A3                INC     DPTR
0205 E0                MOVX    A,@DPTR
0206 F9                MOV     R1,A
0207 A3                INC     DPTR
0208 E0                MOVX    A,@DPTR
0209 FA                MOV     R2,A
020A A3                INC     DPTR
020B E0                MOVX    A,@DPTR
020C 2F                ADD     A,R7
020D FF                MOV     R7,A
020E EA                MOV     A,R2
020F 3E                ADDC    A,R6
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 147 

0210 FE                MOV     R6,A
0211 E9                MOV     A,R1
0212 3D                ADDC    A,R5
0213 FD                MOV     R5,A
0214 E8                MOV     A,R0
0215 3C                ADDC    A,R4
0216 FC                MOV     R4,A
0217 D002              POP     AR2
0219 D001              POP     AR1
021B D000              POP     AR0
021D D3                SETB    C
021E 120000      E     LCALL   ?C?ULCMP
0221 4004              JC      ?C0143
0223 7F00              MOV     R7,#00H
0225 8064              SJMP    ?C0144
0227         ?C0143:
0227 E4                CLR     A
0228 7F80              MOV     R7,#080H
022A FE                MOV     R6,A
022B FD                MOV     R5,A
022C FC                MOV     R4,A
022D 900000      R     MOV     DPTR,#rowNum
0230 E0                MOVX    A,@DPTR
0231 F8                MOV     R0,A
0232 A3                INC     DPTR
0233 E0                MOVX    A,@DPTR
0234 F9                MOV     R1,A
0235 A3                INC     DPTR
0236 E0                MOVX    A,@DPTR
0237 FA                MOV     R2,A
0238 A3                INC     DPTR
0239 E0                MOVX    A,@DPTR
023A FB                MOV     R3,A
023B 120000      E     LCALL   ?C?LMUL
023E EF                MOV     A,R7
023F 247F              ADD     A,#07FH
0241 FF                MOV     R7,A
0242 E4                CLR     A
0243 3E                ADDC    A,R6
0244 FE                MOV     R6,A
0245 E4                CLR     A
0246 3D                ADDC    A,R5
0247 FD                MOV     R5,A
0248 E4                CLR     A
0249 3C                ADDC    A,R4
024A FC                MOV     R4,A
024B C004              PUSH    AR4
024D C005              PUSH    AR5
024F C006              PUSH    AR6
0251 AB07              MOV     R3,AR7
0253 900000      R     MOV     DPTR,#len
0256 E0                MOVX    A,@DPTR
0257 FC                MOV     R4,A
0258 A3                INC     DPTR
0259 E0                MOVX    A,@DPTR
025A FD                MOV     R5,A
025B A3                INC     DPTR
025C E0                MOVX    A,@DPTR
025D FE                MOV     R6,A
025E A3                INC     DPTR
025F E0                MOVX    A,@DPTR
0260 FF                MOV     R7,A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 148 

0261 900000      R     MOV     DPTR,#addr
0264 E0                MOVX    A,@DPTR
0265 F8                MOV     R0,A
0266 A3                INC     DPTR
0267 E0                MOVX    A,@DPTR
0268 F9                MOV     R1,A
0269 A3                INC     DPTR
026A E0                MOVX    A,@DPTR
026B FA                MOV     R2,A
026C A3                INC     DPTR
026D E0                MOVX    A,@DPTR
026E 2F                ADD     A,R7
026F FF                MOV     R7,A
0270 EA                MOV     A,R2
0271 3E                ADDC    A,R6
0272 FE                MOV     R6,A
0273 E9                MOV     A,R1
0274 3D                ADDC    A,R5
0275 FD                MOV     R5,A
0276 E8                MOV     A,R0
0277 3C                ADDC    A,R4
0278 FC                MOV     R4,A
0279 D002              POP     AR2
027B D001              POP     AR1
027D D000              POP     AR0
027F C3                CLR     C
0280 120000      E     LCALL   ?C?ULCMP
0283 5004              JNC     ?C0145
0285 7F00              MOV     R7,#00H
0287 8002              SJMP    ?C0146
0289         ?C0145:
0289 7F01              MOV     R7,#01H
028B         ?C0146:
028B         ?C0144:
028B EF                MOV     A,R7
028C 7003              JNZ     $ + 5H
028E 020000      R     LJMP    ?C0142
                                           ; SOURCE LINE # 1321
                                           ; SOURCE LINE # 1322
0291 E4                CLR     A
0292 7F80              MOV     R7,#080H
0294 FE                MOV     R6,A
0295 FD                MOV     R5,A
0296 FC                MOV     R4,A
0297 900000      R     MOV     DPTR,#startAddr
029A E0                MOVX    A,@DPTR
029B FB                MOV     R3,A
029C A3                INC     DPTR
029D E0                MOVX    A,@DPTR
029E FA                MOV     R2,A
029F A3                INC     DPTR
02A0 E0                MOVX    A,@DPTR
02A1 F9                MOV     R1,A
02A2 120000      E     LCALL   ?C?LSTPTR
                                           ; SOURCE LINE # 1323
02A5 900000      R     MOV     DPTR,#addr
02A8 E0                MOVX    A,@DPTR
02A9 FC                MOV     R4,A
02AA A3                INC     DPTR
02AB E0                MOVX    A,@DPTR
02AC FD                MOV     R5,A
02AD A3                INC     DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 149 

02AE E0                MOVX    A,@DPTR
02AF FE                MOV     R6,A
02B0 A3                INC     DPTR
02B1 E0                MOVX    A,@DPTR
02B2 547F              ANL     A,#07FH
02B4 FF                MOV     R7,A
02B5 E4                CLR     A
02B6 FE                MOV     R6,A
02B7 FD                MOV     R5,A
02B8 FC                MOV     R4,A
02B9 C004              PUSH    AR4
02BB C005              PUSH    AR5
02BD C006              PUSH    AR6
02BF C007              PUSH    AR7
02C1 900000      R     MOV     DPTR,#startAddr
02C4 E0                MOVX    A,@DPTR
02C5 FB                MOV     R3,A
02C6 A3                INC     DPTR
02C7 E0                MOVX    A,@DPTR
02C8 FA                MOV     R2,A
02C9 A3                INC     DPTR
02CA E0                MOVX    A,@DPTR
02CB F9                MOV     R1,A
02CC 120000      E     LCALL   ?C?LLDPTR
02CF D003              POP     AR3
02D1 D002              POP     AR2
02D3 D001              POP     AR1
02D5 D000              POP     AR0
02D7 C3                CLR     C
02D8 EF                MOV     A,R7
02D9 9B                SUBB    A,R3
02DA FF                MOV     R7,A
02DB EE                MOV     A,R6
02DC 9A                SUBB    A,R2
02DD FE                MOV     R6,A
02DE ED                MOV     A,R5
02DF 99                SUBB    A,R1
02E0 FD                MOV     R5,A
02E1 EC                MOV     A,R4
02E2 98                SUBB    A,R0
02E3 FC                MOV     R4,A
02E4 C004              PUSH    AR4
02E6 C005              PUSH    AR5
02E8 C006              PUSH    AR6
02EA C007              PUSH    AR7
02EC 900000      R     MOV     DPTR,#startAddr
02EF E0                MOVX    A,@DPTR
02F0 FB                MOV     R3,A
02F1 A3                INC     DPTR
02F2 E0                MOVX    A,@DPTR
02F3 FA                MOV     R2,A
02F4 A3                INC     DPTR
02F5 E0                MOVX    A,@DPTR
02F6 F9                MOV     R1,A
02F7 120000      E     LCALL   ?C?LLDPTR
02FA 900000      R     MOV     DPTR,#len
02FD E0                MOVX    A,@DPTR
02FE F8                MOV     R0,A
02FF A3                INC     DPTR
0300 E0                MOVX    A,@DPTR
0301 F9                MOV     R1,A
0302 A3                INC     DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 150 

0303 E0                MOVX    A,@DPTR
0304 FA                MOV     R2,A
0305 A3                INC     DPTR
0306 E0                MOVX    A,@DPTR
0307 2F                ADD     A,R7
0308 FF                MOV     R7,A
0309 EA                MOV     A,R2
030A 3E                ADDC    A,R6
030B FE                MOV     R6,A
030C E9                MOV     A,R1
030D 3D                ADDC    A,R5
030E FD                MOV     R5,A
030F E8                MOV     A,R0
0310 3C                ADDC    A,R4
0311 FC                MOV     R4,A
0312 D003              POP     AR3
0314 D002              POP     AR2
0316 D001              POP     AR1
0318 D000              POP     AR0
031A C3                CLR     C
031B EF                MOV     A,R7
031C 9B                SUBB    A,R3
031D FF                MOV     R7,A
031E EE                MOV     A,R6
031F 9A                SUBB    A,R2
0320 FE                MOV     R6,A
0321 ED                MOV     A,R5
0322 99                SUBB    A,R1
0323 FD                MOV     R5,A
0324 EC                MOV     A,R4
0325 98                SUBB    A,R0
0326 FC                MOV     R4,A
0327 900000      R     MOV     DPTR,#endAddr
032A E0                MOVX    A,@DPTR
032B FB                MOV     R3,A
032C A3                INC     DPTR
032D E0                MOVX    A,@DPTR
032E FA                MOV     R2,A
032F A3                INC     DPTR
0330 E0                MOVX    A,@DPTR
0331 F9                MOV     R1,A
0332 120000      E     LCALL   ?C?LSTPTR
                                           ; SOURCE LINE # 1324
0335 900000      R     MOV     DPTR,#startAddr
0338 E0                MOVX    A,@DPTR
0339 FB                MOV     R3,A
033A A3                INC     DPTR
033B E0                MOVX    A,@DPTR
033C FA                MOV     R2,A
033D A3                INC     DPTR
033E E0                MOVX    A,@DPTR
033F F9                MOV     R1,A
0340 120000      E     LCALL   ?C?LLDPTR0
0343 C000              PUSH    AR0
0345 C001              PUSH    AR1
0347 C002              PUSH    AR2
0349 C003              PUSH    AR3
034B 900000      R     MOV     DPTR,#endAddr
034E E0                MOVX    A,@DPTR
034F FB                MOV     R3,A
0350 A3                INC     DPTR
0351 E0                MOVX    A,@DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 151 

0352 FA                MOV     R2,A
0353 A3                INC     DPTR
0354 E0                MOVX    A,@DPTR
0355 F9                MOV     R1,A
0356 120000      E     LCALL   ?C?LLDPTR
0359 D003              POP     AR3
035B D002              POP     AR2
035D D001              POP     AR1
035F D000              POP     AR0
0361 C3                CLR     C
0362 EF                MOV     A,R7
0363 9B                SUBB    A,R3
0364 FB                MOV     R3,A
0365 EE                MOV     A,R6
0366 9A                SUBB    A,R2
0367 FA                MOV     R2,A
0368 ED                MOV     A,R5
0369 99                SUBB    A,R1
036A F9                MOV     R1,A
036B EC                MOV     A,R4
036C 98                SUBB    A,R0
036D F8                MOV     R0,A
036E 900000      R     MOV     DPTR,#len
0371 E0                MOVX    A,@DPTR
0372 FC                MOV     R4,A
0373 A3                INC     DPTR
0374 E0                MOVX    A,@DPTR
0375 FD                MOV     R5,A
0376 A3                INC     DPTR
0377 E0                MOVX    A,@DPTR
0378 FE                MOV     R6,A
0379 A3                INC     DPTR
037A E0                MOVX    A,@DPTR
037B C3                CLR     C
037C 9B                SUBB    A,R3
037D FF                MOV     R7,A
037E EE                MOV     A,R6
037F 9A                SUBB    A,R2
0380 FE                MOV     R6,A
0381 ED                MOV     A,R5
0382 99                SUBB    A,R1
0383 FD                MOV     R5,A
0384 EC                MOV     A,R4
0385 98                SUBB    A,R0
0386 FC                MOV     R4,A
0387 900000      R     MOV     DPTR,#offset
038A E0                MOVX    A,@DPTR
038B FB                MOV     R3,A
038C A3                INC     DPTR
038D E0                MOVX    A,@DPTR
038E FA                MOV     R2,A
038F A3                INC     DPTR
0390 E0                MOVX    A,@DPTR
0391 F9                MOV     R1,A
0392 120000      E     LCALL   ?C?LSTPTR
                                           ; SOURCE LINE # 1325
0395 8025              SJMP    ?C0141
0397         ?C0142:
                                           ; SOURCE LINE # 1327
                                           ; SOURCE LINE # 1328
0397 900000      R     MOV     DPTR,#skip
039A E0                MOVX    A,@DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 152 

039B FC                MOV     R4,A
039C A3                INC     DPTR
039D E0                MOVX    A,@DPTR
039E FD                MOV     R5,A
039F A3                INC     DPTR
03A0 E0                MOVX    A,@DPTR
03A1 FE                MOV     R6,A
03A2 A3                INC     DPTR
03A3 E0                MOVX    A,@DPTR
03A4 FF                MOV     R7,A
03A5 E4                CLR     A
03A6 FA                MOV     R2,A
03A7 F9                MOV     R1,A
03A8 F8                MOV     R0,A
03A9 EF                MOV     A,R7
03AA 2401              ADD     A,#01H
03AC FF                MOV     R7,A
03AD EA                MOV     A,R2
03AE 3E                ADDC    A,R6
03AF FE                MOV     R6,A
03B0 E9                MOV     A,R1
03B1 3D                ADDC    A,R5
03B2 FD                MOV     R5,A
03B3 E8                MOV     A,R0
03B4 3C                ADDC    A,R4
03B5 FC                MOV     R4,A
03B6 900000      R     MOV     DPTR,#skip
03B9 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1329
                                           ; SOURCE LINE # 1330
03BC         ?C0141:
                                           ; SOURCE LINE # 1332
03BC 900000      R     MOV     DPTR,#skip
03BF E0                MOVX    A,@DPTR
03C0 FC                MOV     R4,A
03C1 A3                INC     DPTR
03C2 E0                MOVX    A,@DPTR
03C3 FD                MOV     R5,A
03C4 A3                INC     DPTR
03C5 E0                MOVX    A,@DPTR
03C6 FE                MOV     R6,A
03C7 A3                INC     DPTR
03C8 E0                MOVX    A,@DPTR
03C9 FF                MOV     R7,A
                                           ; SOURCE LINE # 1333
03CA         ?C0148:
03CA 22                RET     
             ; FUNCTION _GetAddresses (END)

             ; FUNCTION _FillChecksum (BEGIN)
                                           ; SOURCE LINE # 1364
0000 900000      R     MOV     DPTR,#context
0003 EB                MOV     A,R3
0004 F0                MOVX    @DPTR,A
0005 A3                INC     DPTR
0006 EA                MOV     A,R2
0007 F0                MOVX    @DPTR,A
0008 A3                INC     DPTR
0009 E9                MOV     A,R1
000A F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1365
                                           ; SOURCE LINE # 1369
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 153 

000B 2408              ADD     A,#08H
000D F9                MOV     R1,A
000E E4                CLR     A
000F 3A                ADDC    A,R2
0010 FA                MOV     R2,A
0011 120000      E     LCALL   ?C?LLDPTR
0014 900000      R     MOV     DPTR,#wrAddr
0017 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1372
001A 900000      R     MOV     DPTR,#wrAddr
001D E0                MOVX    A,@DPTR
001E A3                INC     DPTR
001F E0                MOVX    A,@DPTR
0020 FD                MOV     R5,A
0021 A3                INC     DPTR
0022 E0                MOVX    A,@DPTR
0023 FE                MOV     R6,A
0024 A3                INC     DPTR
0025 E0                MOVX    A,@DPTR
0026 F9                MOV     R1,A
0027 AA06              MOV     R2,AR6
0029 AB05              MOV     R3,AR5
002B 120000      E     LCALL   ?C?LLDPTR
002E 900000      R     MOV     DPTR,#seqNum
0031 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1373
0034 900000      R     MOV     DPTR,#ret
0037 7401              MOV     A,#01H
0039 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1375
003A E4                CLR     A
003B FF                MOV     R7,A
003C FE                MOV     R6,A
003D FD                MOV     R5,A
003E FC                MOV     R4,A
003F 900000      R     MOV     DPTR,#i
0042 120000      E     LCALL   ?C?LSTXDATA
0045         ?C0149:
0045 900000      R     MOV     DPTR,#context
0048 E0                MOVX    A,@DPTR
0049 FB                MOV     R3,A
004A A3                INC     DPTR
004B E0                MOVX    A,@DPTR
004C FA                MOV     R2,A
004D A3                INC     DPTR
004E E0                MOVX    A,@DPTR
004F 2410              ADD     A,#010H
0051 F9                MOV     R1,A
0052 E4                CLR     A
0053 3A                ADDC    A,R2
0054 FA                MOV     R2,A
0055 120000      E     LCALL   ?C?LLDPTR
0058 900000      R     MOV     DPTR,#context
005B E0                MOVX    A,@DPTR
005C A3                INC     DPTR
005D E0                MOVX    A,@DPTR
005E FA                MOV     R2,A
005F A3                INC     DPTR
0060 E0                MOVX    A,@DPTR
0061 2404              ADD     A,#04H
0063 F9                MOV     R1,A
0064 E4                CLR     A
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 154 

0065 3A                ADDC    A,R2
0066 FA                MOV     R2,A
0067 120000      E     LCALL   ?C?LLDPTR0
006A 120000      E     LCALL   ?C?LMUL
006D 900000      R     MOV     DPTR,#i
0070 E0                MOVX    A,@DPTR
0071 F8                MOV     R0,A
0072 A3                INC     DPTR
0073 E0                MOVX    A,@DPTR
0074 F9                MOV     R1,A
0075 A3                INC     DPTR
0076 E0                MOVX    A,@DPTR
0077 FA                MOV     R2,A
0078 A3                INC     DPTR
0079 E0                MOVX    A,@DPTR
007A FB                MOV     R3,A
007B C3                CLR     C
007C 120000      E     LCALL   ?C?ULCMP
007F 4003              JC      $ + 5H
0081 020000      R     LJMP    ?C0150
                                           ; SOURCE LINE # 1376
                                           ; SOURCE LINE # 1378
0084 900000      R     MOV     DPTR,#wrAddr
0087 E0                MOVX    A,@DPTR
0088 A3                INC     DPTR
0089 E0                MOVX    A,@DPTR
008A FD                MOV     R5,A
008B A3                INC     DPTR
008C E0                MOVX    A,@DPTR
008D FE                MOV     R6,A
008E A3                INC     DPTR
008F E0                MOVX    A,@DPTR
0090 F9                MOV     R1,A
0091 AA06              MOV     R2,AR6
0093 AB05              MOV     R3,AR5
0095 7800        R     MOV     R0,#LOW writeRamBuffer
0097 7C00        R     MOV     R4,#HIGH writeRamBuffer
0099 7D01              MOV     R5,#01H
009B 7E01              MOV     R6,#01H
009D 7F00              MOV     R7,#00H
009F 120000      E     LCALL   ?C?COPYAMD
                                           ; SOURCE LINE # 1381
00A2 900000      R     MOV     DPTR,#seqNum
00A5 E0                MOVX    A,@DPTR
00A6 FC                MOV     R4,A
00A7 A3                INC     DPTR
00A8 E0                MOVX    A,@DPTR
00A9 FD                MOV     R5,A
00AA A3                INC     DPTR
00AB E0                MOVX    A,@DPTR
00AC FE                MOV     R6,A
00AD A3                INC     DPTR
00AE E0                MOVX    A,@DPTR
00AF FF                MOV     R7,A
00B0 E4                CLR     A
00B1 FA                MOV     R2,A
00B2 F9                MOV     R1,A
00B3 F8                MOV     R0,A
00B4 EF                MOV     A,R7
00B5 2401              ADD     A,#01H
00B7 FF                MOV     R7,A
00B8 EA                MOV     A,R2
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 155 

00B9 3E                ADDC    A,R6
00BA FE                MOV     R6,A
00BB E9                MOV     A,R1
00BC 3D                ADDC    A,R5
00BD FD                MOV     R5,A
00BE E8                MOV     A,R0
00BF 3C                ADDC    A,R4
00C0 FC                MOV     R4,A
00C1 900000      R     MOV     DPTR,#seqNum
00C4 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1382
00C7 900000      R     MOV     DPTR,#seqNum
00CA E0                MOVX    A,@DPTR
00CB FC                MOV     R4,A
00CC A3                INC     DPTR
00CD E0                MOVX    A,@DPTR
00CE FD                MOV     R5,A
00CF A3                INC     DPTR
00D0 E0                MOVX    A,@DPTR
00D1 FE                MOV     R6,A
00D2 A3                INC     DPTR
00D3 E0                MOVX    A,@DPTR
00D4 FF                MOV     R7,A
00D5 900000      R     MOV     DPTR,#writeRamBuffer
00D8 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1386
00DB 7B01              MOV     R3,#01H
00DD 7A00        R     MOV     R2,#HIGH writeRamBuffer+080H
00DF 7900        R     MOV     R1,#LOW writeRamBuffer+080H
00E1 E4                CLR     A
00E2 7F80              MOV     R7,#080H
00E4 FE                MOV     R6,A
00E5 FD                MOV     R5,A
00E6 FC                MOV     R4,A
00E7 120000      R     LCALL   _CalcChecksum
00EA E4                CLR     A
00EB FC                MOV     R4,A
00EC FD                MOV     R5,A
00ED FE                MOV     R6,A
00EE 900000      R     MOV     DPTR,#writeRamBuffer+07CH
00F1 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1390
00F4 900000      R     MOV     DPTR,#wrAddr
00F7 E0                MOVX    A,@DPTR
00F8 FC                MOV     R4,A
00F9 A3                INC     DPTR
00FA E0                MOVX    A,@DPTR
00FB FD                MOV     R5,A
00FC A3                INC     DPTR
00FD E0                MOVX    A,@DPTR
00FE FE                MOV     R6,A
00FF A3                INC     DPTR
0100 E0                MOVX    A,@DPTR
0101 FF                MOV     R7,A
0102 900000      R     MOV     DPTR,#context
0105 E0                MOVX    A,@DPTR
0106 F9                MOV     R1,A
0107 A3                INC     DPTR
0108 E0                MOVX    A,@DPTR
0109 FA                MOV     R2,A
010A A3                INC     DPTR
010B E0                MOVX    A,@DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 156 

010C 900000      R     MOV     DPTR,#?_WriteRow?BYTE+07H
010F C9                XCH     A,R1
0110 F0                MOVX    @DPTR,A
0111 A3                INC     DPTR
0112 EA                MOV     A,R2
0113 F0                MOVX    @DPTR,A
0114 A3                INC     DPTR
0115 E9                MOV     A,R1
0116 F0                MOVX    @DPTR,A
0117 7B01              MOV     R3,#01H
0119 7A00        R     MOV     R2,#HIGH writeRamBuffer
011B 7900        R     MOV     R1,#LOW writeRamBuffer
011D 120000      R     LCALL   _WriteRow
0120 900000      R     MOV     DPTR,#ret
0123 EF                MOV     A,R7
0124 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1395
0125 900000      R     MOV     DPTR,#context
0128 E0                MOVX    A,@DPTR
0129 FB                MOV     R3,A
012A A3                INC     DPTR
012B E0                MOVX    A,@DPTR
012C FA                MOV     R2,A
012D A3                INC     DPTR
012E E0                MOVX    A,@DPTR
012F 2416              ADD     A,#016H
0131 F9                MOV     R1,A
0132 E4                CLR     A
0133 3A                ADDC    A,R2
0134 FA                MOV     R2,A
0135 120000      E     LCALL   ?C?LLDPTR0
0138 900000      R     MOV     DPTR,#wrAddr
013B E0                MOVX    A,@DPTR
013C FC                MOV     R4,A
013D A3                INC     DPTR
013E E0                MOVX    A,@DPTR
013F FD                MOV     R5,A
0140 A3                INC     DPTR
0141 E0                MOVX    A,@DPTR
0142 FE                MOV     R6,A
0143 A3                INC     DPTR
0144 E0                MOVX    A,@DPTR
0145 C3                CLR     C
0146 9B                SUBB    A,R3
0147 FF                MOV     R7,A
0148 EE                MOV     A,R6
0149 9A                SUBB    A,R2
014A FE                MOV     R6,A
014B ED                MOV     A,R5
014C 99                SUBB    A,R1
014D FD                MOV     R5,A
014E EC                MOV     A,R4
014F 98                SUBB    A,R0
0150 FC                MOV     R4,A
0151 900000      R     MOV     DPTR,#context
0154 E0                MOVX    A,@DPTR
0155 FB                MOV     R3,A
0156 A3                INC     DPTR
0157 E0                MOVX    A,@DPTR
0158 FA                MOV     R2,A
0159 A3                INC     DPTR
015A E0                MOVX    A,@DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 157 

015B F9                MOV     R1,A
015C 120000      E     LCALL   ?C?LLDPTR0
015F EF                MOV     A,R7
0160 2B                ADD     A,R3
0161 FF                MOV     R7,A
0162 EE                MOV     A,R6
0163 3A                ADDC    A,R2
0164 FE                MOV     R6,A
0165 ED                MOV     A,R5
0166 39                ADDC    A,R1
0167 FD                MOV     R5,A
0168 EC                MOV     A,R4
0169 38                ADDC    A,R0
016A FC                MOV     R4,A
016B 900000      R     MOV     DPTR,#tmpRowAddr
016E 120000      E     LCALL   ?C?LSTXDATA
                                           ; SOURCE LINE # 1398
0171 900000      R     MOV     DPTR,#tmpRowAddr
0174 E0                MOVX    A,@DPTR
0175 FC                MOV     R4,A
0176 A3                INC     DPTR
0177 E0                MOVX    A,@DPTR
0178 FD                MOV     R5,A
0179 A3                INC     DPTR
017A E0                MOVX    A,@DPTR
017B FE                MOV     R6,A
017C A3                INC     DPTR
017D E0                MOVX    A,@DPTR
017E FF                MOV     R7,A
017F 900000      R     MOV     DPTR,#context
0182 E0                MOVX    A,@DPTR
0183 F9                MOV     R1,A
0184 A3                INC     DPTR
0185 E0                MOVX    A,@DPTR
0186 FA                MOV     R2,A
0187 A3                INC     DPTR
0188 E0                MOVX    A,@DPTR
0189 900000      R     MOV     DPTR,#?_WriteRow?BYTE+07H
018C C9                XCH     A,R1
018D F0                MOVX    @DPTR,A
018E A3                INC     DPTR
018F EA                MOV     A,R2
0190 F0                MOVX    @DPTR,A
0191 A3                INC     DPTR
0192 E9                MOV     A,R1
0193 F0                MOVX    @DPTR,A
0194 7B01              MOV     R3,#01H
0196 7A00        R     MOV     R2,#HIGH writeRamBuffer
0198 7900        R     MOV     R1,#LOW writeRamBuffer
019A 120000      R     LCALL   _WriteRow
019D 900000      R     MOV     DPTR,#ret
01A0 EF                MOV     A,R7
01A1 F0                MOVX    @DPTR,A
                                           ; SOURCE LINE # 1404
01A2 900000      R     MOV     DPTR,#seqNum
01A5 E0                MOVX    A,@DPTR
01A6 FC                MOV     R4,A
01A7 A3                INC     DPTR
01A8 E0                MOVX    A,@DPTR
01A9 FD                MOV     R5,A
01AA A3                INC     DPTR
01AB E0                MOVX    A,@DPTR
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 158 

01AC FE                MOV     R6,A
01AD A3                INC     DPTR
01AE E0                MOVX    A,@DPTR
01AF FF                MOV     R7,A
01B0 900000      R     MOV     DPTR,#?_GetNextRowToWrite?BYTE+07H
01B3 7401              MOV     A,#01H
01B5 F0                MOVX    @DPTR,A
01B6 A3                INC     DPTR
01B7 7400        R     MOV     A,#HIGH rdAddr
01B9 F0                MOVX    @DPTR,A
01BA A3                INC     DPTR
01BB 7400        R     MOV     A,#LOW rdAddr
01BD F0                MOVX    @DPTR,A
01BE 900000      R     MOV     DPTR,#context
01C1 E0                MOVX    A,@DPTR
01C2 F9                MOV     R1,A
01C3 A3                INC     DPTR
01C4 E0                MOVX    A,@DPTR
01C5 FA                MOV     R2,A
01C6 A3                INC     DPTR
01C7 E0                MOVX    A,@DPTR
01C8 900000      R     MOV     DPTR,#?_GetNextRowToWrite?BYTE+0AH
01CB C9                XCH     A,R1
01CC F0                MOVX    @DPTR,A
01CD A3                INC     DPTR
01CE EA                MOV     A,R2
01CF F0                MOVX    @DPTR,A
01D0 A3                INC     DPTR
01D1 E9                MOV     A,R1
01D2 F0                MOVX    @DPTR,A
01D3 7B01              MOV     R3,#01H
01D5 7A00        R     MOV     R2,#HIGH wrAddr
01D7 7900        R     MOV     R1,#LOW wrAddr
01D9 120000      R     LCALL   _GetNextRowToWrite
                                           ; SOURCE LINE # 1405
01DC 900000      R     MOV     DPTR,#i
01DF E0                MOVX    A,@DPTR
01E0 FC                MOV     R4,A
01E1 A3                INC     DPTR
01E2 E0                MOVX    A,@DPTR
01E3 FD                MOV     R5,A
01E4 A3                INC     DPTR
01E5 E0                MOVX    A,@DPTR
01E6 FE                MOV     R6,A
01E7 A3                INC     DPTR
01E8 E0                MOVX    A,@DPTR
01E9 FF                MOV     R7,A
01EA E4                CLR     A
01EB FA                MOV     R2,A
01EC F9                MOV     R1,A
01ED F8                MOV     R0,A
01EE EF                MOV     A,R7
01EF 2401              ADD     A,#01H
01F1 FF                MOV     R7,A
01F2 EA                MOV     A,R2
01F3 3E                ADDC    A,R6
01F4 FE                MOV     R6,A
01F5 E9                MOV     A,R1
01F6 3D                ADDC    A,R5
01F7 FD                MOV     R5,A
01F8 E8                MOV     A,R0
01F9 3C                ADDC    A,R4
C51 COMPILER V9.51   CY_EM_EEPROM                                                          04/13/2018 10:42:18 PAGE 159 

01FA FC                MOV     R4,A
01FB 900000      R     MOV     DPTR,#i
01FE 120000      E     LCALL   ?C?LSTXDATA
0201 020000      R     LJMP    ?C0149
0204         ?C0150:
                                           ; SOURCE LINE # 1407
0204 900000      R     MOV     DPTR,#ret
0207 E0                MOVX    A,@DPTR
0208 FF                MOV     R7,A
                                           ; SOURCE LINE # 1408
0209         ?C0152:
0209 22                RET     
             ; FUNCTION _FillChecksum (END)



MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =  10546    ----
   CONSTANT SIZE    =    256    ----
   XDATA SIZE       =   ----    1388
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
   EDATA SIZE       =   ----    ----
   HDATA SIZE       =   ----    ----
   XDATA CONST SIZE =   ----    ----
   FAR CONST SIZE   =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
